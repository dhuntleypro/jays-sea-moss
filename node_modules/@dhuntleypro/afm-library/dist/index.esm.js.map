{"version":3,"file":"index.esm.js","sources":["../src/contexts/CartContext.tsx","../src/contexts/ThemeContext.tsx","../src/components/icons/cartIcon.tsx","../src/layouts/HomeLayoutContent.tsx","../src/layouts/AuthLayoutContent.tsx","../src/components/banner/BannerVOne.tsx","../src/components/buttons/MyButton.tsx","../src/utils/theme.tsx","../src/hooks/convertToCurrency.ts","../src/utils/constants.tsx","../src/components/card/order/OrderCrudCard.tsx","../src/utils/api.tsx","../src/utils/createFetchClient.tsx","../src/utils/getAuthToken.tsx","../src/api/authentication.tsx","../src/contexts/AuthContext.tsx","../src/api/ordersApi.tsx","../src/contexts/ClientOrderContext.tsx","../src/pages/tabs/client-order/ClientOrderCard.tsx","../src/utils/createFetchClientForItems.tsx","../src/api/productApi.tsx","../src/contexts/ClientProductContext.tsx","../src/components/card/product/ProductCardV2.tsx","../src/components/card/product/ProductGridCardVOne.tsx","../src/components/card/product/ProductHScrollCardVOne.tsx","../src/components/card/product/ProductCrudCard.tsx","../src/components/delete/DeleteSectionView.tsx","../src/components/divider/Divider.tsx","../src/components/ExternalLink.tsx","../src/components/Themed.tsx","../src/components/StyledText.tsx","../src/components/EditScreenInfo.tsx","../src/components/products/ProductListItem.tsx","../src/components/textfield/TextFieldVOne.tsx","../src/components/other/general/Styles.tsx","../src/hooks/stripeConverter.tsx","../src/api/paymentApi.tsx","../src/api/storeApi.tsx","../src/contexts/ClientStoreContext.tsx","../src/pages/tabs/cart/PaymentPayScreen.tsx","../src/components/card/cart/CartCard.tsx","../src/pages/tabs/cart/CartPageVOne.tsx","../src/api/collectionApi.tsx","../src/contexts/ClientCollectionContext.tsx","../src/pages/tabs/collections/CollectionPageVTwo.tsx","../src/hooks/generateUUID.tsx","../src/components/views/UserLoginTextFields.tsx","../src/components/views/UserRegisterTextFields.tsx","../src/pages/auth/login/LoginComponentTwo.tsx","../src/contexts/FavoriteContext.tsx","../src/pages/tabs/product-details/ProductDetailsPageVThree.tsx","../src/pages/tabs/product-details/ProductDetailsPageVFour.tsx","../src/pages/auth/register/RegisterComponentTwo.tsx","../src/pages/(settings)/settings/SettingsPage.tsx","../src/pages/auth/login/LoginComponentOne.tsx","../src/pages/auth/welcome/WelcomePageTwo.tsx","../src/pages/aux/terms-of-use/TermsOfUsePage.tsx","../src/pages/aux/privacy-policy/PrivacyPolicyPage.tsx","../src/pages/aux/cookies/CookiesPage.tsx","../src/pages/(settings)/appearance/AppearanceSelection.tsx","../src/pages/(settings)/faq/FAQPage.tsx","../src/components/card/fovorite/FavoritrCard.tsx","../src/pages/(settings)/favorites/FavoritesPageVOne.tsx","../src/components/products/CollectionProductSearchScreen.tsx","../src/components/search/SearchBarVTwo.tsx","../src/components/products/ProductSearchScreen.tsx","../src/pages/tabs/home/TopSectionHeader.tsx","../src/pages/tabs/home/Carousel.tsx","../src/utils/Routes.tsx","../src/pages/tabs/home/Headings.tsx","../src/components/search/SearchBarVOne.tsx","../src/components/card/product/ProductRow.tsx","../src/components/home/HomeDesignOne.tsx","../src/components/search/SearchBarVOneButton.tsx","../src/components/home/TopHomeSeaction.tsx","../src/components/home/HomeDesignTwo.tsx","../src/api/mankindProductApi.tsx","../src/contexts/MankindProductContext.tsx","../src/api/mankindStoreApi.tsx","../src/contexts/MankindStoreContext.tsx","../src/api/couponApi.tsx","../src/api/inboxApi.tsx","../src/hooks/ExternalLink.tsx","../src/hooks/formatPhoneNumber.ts","../src/hooks/useClientOnlyValue.ts","../src/model-sample-data/sample-order.tsx","../src/model-sample-data/sample-product.tsx","../src/utils/pages.tsx","../src/utils/storage.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\nimport { ProductModelProps } from \"@/models/ProductModelProps\";\n\n// Define the context type\ninterface CartContextType {\n  carts: Partial<ProductModelProps>[];\n  addToCart: (item: Partial<ProductModelProps>) => Promise<void>;\n  decreaseFromCart: (item: Partial<ProductModelProps>) => void;\n  deleteItemFromCart: (item: Partial<ProductModelProps>) => void;\n  totalSum: number;\n  totalTax: number;\n  totalShipping: number;\n  grandTotal: number;\n  quantity: number;\n  clearData: () => void;\n}\n\nexport const CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport const useCart = (): CartContextType => {\n  const context = useContext(CartContext);\n  if (!context) {\n    throw new Error(\"useCart must be used within a CartProvider\");\n  }\n  return context;\n};\n\n// Updated CartProvider to accept storage and storageKey as props\ninterface CartProviderProps {\n  children: ReactNode;\n  storage: {\n    getItem: (key: string) => Promise<string | null>;\n    setItem: (key: string, value: string) => Promise<void>;\n    removeItem: (key: string) => Promise<void>;\n  };\n  storageKey: string;\n}\n\nexport const CartProvider: React.FC<CartProviderProps> = ({ children, storage, storageKey }) => {\n  const [carts, setCarts] = useState<Partial<ProductModelProps>[]>([]);\n  const [totalSum, setTotalSum] = useState<number>(0);\n  const [totalShipping, setTotalShipping] = useState<number>(10); // Example shipping cost\n  const [quantity, setQuantity] = useState<number>(0);\n\n  const totalTax = totalSum * 0.08875; // Tax calculation\n  const grandTotal = totalSum + totalTax + totalShipping; // Grand total calculation\n\n  // Load carts from provided storage when the component mounts\n  useEffect(() => {\n    const loadCarts = async () => {\n      try {\n        const storedCarts = await storage.getItem(storageKey);\n        if (storedCarts) {\n          const parsedCarts = JSON.parse(storedCarts);\n          setCarts(parsedCarts);\n          calculateTotalSum(parsedCarts);\n          setQuantity(parsedCarts.reduce((sum: number, item: Partial<ProductModelProps>) => sum + (item.quantity || 0), 0));\n        }\n      } catch (error) {\n        console.error(\"Failed to load carts from storage:\", error);\n      }\n    };\n    loadCarts();\n  }, [storage, storageKey]);\n\n  // Save carts to provided storage whenever they are updated\n  useEffect(() => {\n    const saveCarts = async () => {\n      try {\n        if (carts.length > 0) {\n          await storage.setItem(storageKey, JSON.stringify(carts));\n        }\n      } catch (error) {\n        console.error(\"Failed to save carts to storage:\", error);\n      }\n    };\n    saveCarts();\n  }, [carts, storage, storageKey]);\n\n  const addToCart = async (item: Partial<ProductModelProps>) => {\n    let updatedCarts = [...carts];\n    const itemExistIndex = updatedCarts.findIndex((cart) => cart.id === item.id);\n\n    if (itemExistIndex !== -1) {\n      updatedCarts[itemExistIndex].quantity = (updatedCarts[itemExistIndex].quantity || 0) + 1;\n    } else {\n      updatedCarts = [...updatedCarts, { ...item, quantity: 1 }];\n    }\n\n    setCarts(updatedCarts);\n    calculateTotalSum(updatedCarts);\n    setQuantity((prev) => prev + 1);\n  };\n\n  const decreaseFromCart = (item: Partial<ProductModelProps>) => {\n    const itemExistIndex = carts.findIndex((cart) => cart.id === item.id);\n    if (itemExistIndex !== -1) {\n      const updatedCarts = [...carts];\n      if ((updatedCarts[itemExistIndex].quantity || 0) > 1) {\n        updatedCarts[itemExistIndex].quantity = (updatedCarts[itemExistIndex].quantity || 0) - 1;\n      } else {\n        updatedCarts.splice(itemExistIndex, 1); // Remove item if quantity <= 1\n      }\n\n      setCarts(updatedCarts);\n      calculateTotalSum(updatedCarts);\n      setQuantity((prev) => prev - 1);\n    }\n  };\n\n  const deleteItemFromCart = (item: Partial<ProductModelProps>) => {\n    const updatedCarts = carts.filter((cart) => cart.id !== item.id);\n    setCarts(updatedCarts);\n    calculateTotalSum(updatedCarts);\n    setQuantity((prev) => prev - (item.quantity || 0));\n  };\n\n  const clearData = () => {\n    setCarts([]);\n    setTotalSum(0);\n    setQuantity(0);\n    storage.removeItem(storageKey); // Clear from storage as well\n  };\n\n  const calculateTotalSum = (carts: Partial<ProductModelProps>[]) => {\n    const total = carts.reduce((sum, item) => sum + (item.price || 0) * (item.quantity || 0), 0);\n    setTotalSum(total);\n  };\n\n  const value: CartContextType = {\n    carts,\n    addToCart,\n    decreaseFromCart,\n    quantity,\n    totalSum,\n    totalTax,\n    totalShipping,\n    grandTotal,\n    deleteItemFromCart,\n    clearData,\n  };\n\n  return (\n    <CartContext.Provider value={value}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\n// import AsyncStorage from \"@react-native-async-storage/async-storage\";\n// import { ProductModelProps } from \"@/models/ProductModelProps\"; \n\n// // Define the context type\n// interface CartContextType {\n//   carts: Partial<ProductModelProps>[];\n//   addToCart: (item: Partial<ProductModelProps>) => Promise<void>;\n//   decreaseFromCart: (item: Partial<ProductModelProps>) => void;\n//   deleteItemFromCart: (item: Partial<ProductModelProps>) => void;\n//   totalSum: number;\n//   totalTax: number;\n//   totalShipping: number;\n//   grandTotal: number;\n//   quantity: number;\n//   clearData: () => void;\n// }\n\n// export const CartContext = createContext<CartContextType | undefined>(undefined);\n\n// export const useCart = (): CartContextType => {\n//   const context = useContext(CartContext);\n//   if (!context) {\n//     throw new Error(\"useCart must be used within a CartProvider\");\n//   }\n//   return context;\n// };\n\n// // Update CartProvider to accept CARTS_KEY as a prop\n// export const CartProvider = ({ children, storageKey }: { children: ReactNode; storageKey: string }) => {\n//   const [carts, setCarts] = useState<Partial<ProductModelProps>[]>([]);\n//   const [totalSum, setTotalSum] = useState<number>(0);\n//   const [totalShipping, setTotalShipping] = useState<number>(10); // Example shipping cost\n//   const [quantity, setQuantity] = useState<number>(0);\n  \n//   const totalTax = totalSum * 0.08875; // Tax calculation\n//   const grandTotal = totalSum + totalTax + totalShipping; // Grand total calculation\n\n//   // Load carts from AsyncStorage when the component mounts\n//   useEffect(() => {\n//     const loadCarts = async () => {\n//       try {\n//         const storedCarts = await AsyncStorage.getItem(storageKey); // Use passed storage key\n//         if (storedCarts) {\n//           const parsedCarts = JSON.parse(storedCarts);\n//           setCarts(parsedCarts);\n//           calculateTotalSum(parsedCarts);\n//           setQuantity(parsedCarts.reduce((sum: number, item: Partial<ProductModelProps>) => sum + (item.quantity || 0), 0));\n//         }\n//       } catch (error) {\n//         console.error(\"Failed to load carts from storage:\", error);\n//       }\n//     };\n//     loadCarts();\n//   }, [storageKey]);\n\n//   // Save carts to AsyncStorage whenever they are updated\n//   useEffect(() => {\n//     const saveCarts = async () => {\n//       try {\n//         await AsyncStorage.setItem(storageKey, JSON.stringify(carts)); // Use passed storage key\n//       } catch (error) {\n//         console.error(\"Failed to save carts to storage:\", error);\n//       }\n//     };\n//     if (carts.length > 0) {\n//       saveCarts();\n//     }\n//   }, [carts, storageKey]);\n\n//   const addToCart = async (item: Partial<ProductModelProps>) => {\n//     let updatedCarts = [...carts];\n//     const itemExistIndex = updatedCarts.findIndex((cart) => cart.id === item.id);\n\n//     if (itemExistIndex !== -1) {\n//       updatedCarts[itemExistIndex].quantity = (updatedCarts[itemExistIndex].quantity || 0) + 1;\n//     } else {\n//       updatedCarts = [...updatedCarts, { ...item, quantity: 1 }];\n//     }\n\n//     setCarts(updatedCarts);\n//     calculateTotalSum(updatedCarts);\n//     setQuantity((prev) => prev + 1);\n//   };\n\n//   const decreaseFromCart = (item: Partial<ProductModelProps>) => {\n//     const itemExistIndex = carts.findIndex((cart) => cart.id === item.id);\n//     if (itemExistIndex !== -1) {\n//       const updatedCarts = [...carts];\n//       if ((updatedCarts[itemExistIndex].quantity || 0) > 1) {\n//         updatedCarts[itemExistIndex].quantity = (updatedCarts[itemExistIndex].quantity || 0) - 1;\n//       } else {\n//         updatedCarts.splice(itemExistIndex, 1); // Remove item if quantity <= 1\n//       }\n\n//       setCarts(updatedCarts);\n//       calculateTotalSum(updatedCarts);\n//       setQuantity((prev) => prev - 1);\n//     }\n//   };\n\n//   const deleteItemFromCart = (item: Partial<ProductModelProps>) => {\n//     const updatedCarts = carts.filter((cart) => cart.id !== item.id);\n//     setCarts(updatedCarts);\n//     calculateTotalSum(updatedCarts);\n//     setQuantity((prev) => prev - (item.quantity || 0));\n//   };\n\n//   const clearData = () => {\n//     setCarts([]);\n//     setTotalSum(0);\n//     setQuantity(0);\n//     AsyncStorage.removeItem(storageKey); // Clear from storage as well\n//   };\n\n//   const calculateTotalSum = (carts: Partial<ProductModelProps>[]) => {\n//     const total = carts.reduce((sum, item) => sum + (item.price || 0) * (item.quantity || 0), 0);\n//     setTotalSum(total);\n//   };\n\n//   const value: CartContextType = {\n//     carts,\n//     addToCart,\n//     decreaseFromCart,\n//     quantity,\n//     totalSum,\n//     totalTax,\n//     totalShipping,\n//     grandTotal,\n//     deleteItemFromCart,\n//     clearData,\n//   };\n\n//   return (\n//     <CartContext.Provider value={value}>\n//       {children}\n//     </CartContext.Provider>\n//   );\n// };\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\n// import AsyncStorage from \"@react-native-async-storage/async-storage\";\n// import { ProductModelProps } from \"@/models/ProductModelProps\"; \n\n// // Define the context type\n// interface CartContextType {\n//   carts: Partial<ProductModelProps>[];\n//   addToCart: (item: Partial<ProductModelProps>) => Promise<void>;\n//   decreaseFromCart: (item: Partial<ProductModelProps>) => void;\n//   deleteItemFromCart: (item: Partial<ProductModelProps>) => void;\n//   totalSum: number;\n//   totalTax: number;\n//   totalShipping: number;\n//   grandTotal: number;\n//   quantity: number;\n//   clearData: () => void;\n// }\n\n// export const CartContext = createContext<CartContextType | undefined>(undefined);\n// // const CARTS_KEY = 'user_carts'; // Key for storing carts in AsyncStorage\n\n// export const useCart = (): CartContextType => {\n//   const context = useContext(CartContext);\n//   if (!context) {\n//     throw new Error(\"useCart must be used within a CartProvider\");\n//   }\n//   return context;\n// };\n\n// export const CartProvider = ({ children }: { children: ReactNode }) => {\n//   const [carts, setCarts] = useState<Partial<ProductModelProps>[]>([]);\n//   const [totalSum, setTotalSum] = useState<number>(0);\n//   const [totalShipping, setTotalShipping] = useState<number>(10); // Example shipping cost\n//   const [quantity, setQuantity] = useState<number>(0);\n  \n//   // Calculating total tax and grand total\n//   const totalTax = totalSum * 0.08875; \n//   const grandTotal = totalSum + totalTax + totalShipping; \n\n//   // Load carts from AsyncStorage when the component mounts\n//   useEffect(() => {\n//     const loadCarts = async () => {\n//       try {\n//         const storedCarts = await AsyncStorage.getItem(CARTS_KEY);\n//         if (storedCarts) {\n//           const parsedCarts = JSON.parse(storedCarts);\n//           setCarts(parsedCarts);\n//           calculateTotalSum(parsedCarts);\n//           setQuantity(parsedCarts.reduce((sum: number, item: Partial<ProductModelProps>) => sum + (item.quantity || 0), 0));\n//         }\n//       } catch (error) {\n//         console.error(\"Failed to load carts from storage:\", error);\n//       }\n//     };\n//     loadCarts();\n//   }, []);\n\n//   // Save carts to AsyncStorage whenever they are updated\n//   useEffect(() => {\n//     const saveCarts = async () => {\n//       try {\n//         await AsyncStorage.setItem(CARTS_KEY, JSON.stringify(carts));\n//       } catch (error) {\n//         console.error(\"Failed to save carts to storage:\", error);\n//       }\n//     };\n//     if (carts.length > 0) {\n//       saveCarts();\n//     }\n//   }, [carts]);\n\n//   const addToCart = async (item: Partial<ProductModelProps>) => {\n//     let updatedCarts = [...carts];\n//     const itemExistIndex = updatedCarts.findIndex((cart) => cart.id === item.id);\n\n//     if (itemExistIndex !== -1) {\n//       updatedCarts[itemExistIndex].quantity = (updatedCarts[itemExistIndex].quantity || 0) + 1;\n//     } else {\n//       updatedCarts = [...updatedCarts, { ...item, quantity: 1 }];\n//     }\n\n//     setCarts(updatedCarts);\n//     calculateTotalSum(updatedCarts);\n//     setQuantity((prev) => prev + 1);\n//   };\n\n//   const decreaseFromCart = (item: Partial<ProductModelProps>) => {\n//     const itemExistIndex = carts.findIndex((cart) => cart.id === item.id);\n//     if (itemExistIndex !== -1) {\n//       const updatedCarts = [...carts];\n//       if ((updatedCarts[itemExistIndex].quantity || 0) > 1) {\n//         updatedCarts[itemExistIndex].quantity = (updatedCarts[itemExistIndex].quantity || 0) - 1;\n//       } else {\n//         updatedCarts.splice(itemExistIndex, 1); // Remove item if quantity <= 1\n//       }\n\n//       setCarts(updatedCarts);\n//       calculateTotalSum(updatedCarts);\n//       setQuantity((prev) => prev - 1);\n//     }\n//   };\n\n//   const deleteItemFromCart = (item: Partial<ProductModelProps>) => {\n//     const updatedCarts = carts.filter((cart) => cart.id !== item.id);\n//     setCarts(updatedCarts);\n//     calculateTotalSum(updatedCarts);\n//     setQuantity((prev) => prev - (item.quantity || 0));\n//   };\n\n//   const clearData = () => {\n//     setCarts([]);\n//     setTotalSum(0);\n//     setQuantity(0);\n//     AsyncStorage.removeItem(CARTS_KEY); // Clear from storage as well\n//   };\n\n//   const calculateTotalSum = (carts: Partial<ProductModelProps>[]) => {\n//     const total = carts.reduce((sum, item) => sum + (item.price || 0) * (item.quantity || 0), 0);\n//     setTotalSum(total);\n//   };\n\n//   const value: CartContextType = {\n//     carts,\n//     addToCart,\n//     decreaseFromCart,\n//     quantity,\n//     totalSum,\n//     totalTax,\n//     totalShipping,\n//     grandTotal,\n//     deleteItemFromCart,\n//     clearData,\n//   };\n\n//   return (\n//     <CartContext.Provider value={value}>\n//       {children}\n//     </CartContext.Provider>\n//   );\n// };\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\n// import { useFocusEffect } from \"@react-navigation/native\";\n// import { ProductModelProps } from \"@/models/ProductModelProps\"; \n// import AsyncStorage from \"@react-native-async-storage/async-storage\";\n\n// // Define the context type\n// interface CartContextType {\n//   carts: Partial<ProductModelProps>[];\n//   addToCart: (item: Partial<ProductModelProps>) => Promise<void>;\n//   decreaseFromCart: (item: Partial<ProductModelProps>) => void;\n//   deleteItemFromCart: (item: Partial<ProductModelProps>) => void;\n//   totalSum: number;\n//   totalTax: number;\n//   totalShipping: number;\n//   grandTotal: number;\n//   quantity: number;\n//   clearData: (authUser: any) => void;\n// }\n\n// export const CartContext = createContext<CartContextType | undefined>(undefined);\n// const CARTS_KEY = 'user_carts'; // Key for storing carts in AsyncStorage\n\n// export const useCart = (): CartContextType => {\n//   const context = useContext(CartContext);\n//   if (!context) {\n//     throw new Error(\"useCart must be used within a CartProvider\");\n//   }\n//   return context;\n// };\n\n\n// export const CartProvider = ({ children }: { children: ReactNode }) => {\n//   const [carts, setCarts] = useState<Partial<ProductModelProps>[]>([]);\n//   const [totalSum, setTotalSum] = useState<number>(0);\n//   const [totalShipping, setTotalShipping] = useState<number>(10);\n//   const [quantity, setQuantity] = useState<number>(0);\n//   const totalTax = totalSum * 0.08875; // Tax calculation\n//   const grandTotal = totalSum + totalTax + totalShipping; // Grand total calculation\n\n//   // Load carts from AsyncStorage when the component mounts\n//   useEffect(() => {\n//     const loadCarts = async () => {\n//       try {\n//         const storedCarts = await AsyncStorage.getItem(CARTS_KEY);\n//         if (storedCarts) {\n//           setCarts(JSON.parse(storedCarts));\n//         }\n//       } catch (error) {\n//         console.error(\"Failed to load carts from storage:\", error);\n//       }\n//     };\n//     loadCarts();\n//   }, []);\n\n//   // Save carts to AsyncStorage whenever they are updated\n//   useEffect(() => {\n//     const saveCarts = async () => {\n//       try {\n//         await AsyncStorage.setItem(CARTS_KEY, JSON.stringify(carts));\n//       } catch (error) {\n//         console.error(\"Failed to save carts to storage:\", error);\n//       }\n//     };\n//     saveCarts();\n//   }, [carts]);\n\n//   const addToCart = async (item: Partial<ProductModelProps>) => {\n//     let updatedCarts = [...carts];\n//     const itemExistIndex = updatedCarts.findIndex((cart) => cart.id === item.id);\n\n//     if (itemExistIndex !== -1) {\n//       updatedCarts[itemExistIndex].quantity = (updatedCarts[itemExistIndex].quantity || 0) + 1;\n//     } else {\n//       updatedCarts = [...updatedCarts, { ...item, quantity: 1 }];\n//     }\n\n//     setCarts(updatedCarts);\n//     calculateTotalSum(updatedCarts);\n//     setQuantity((prev) => prev + 1);\n//   };\n\n//   const decreaseFromCart = (item: Partial<ProductModelProps>) => {\n//     const itemExistIndex = carts.findIndex((cart) => cart.id === item.id);\n//     if (itemExistIndex !== -1) {\n//       const updatedCarts = [...carts];\n//       if ((updatedCarts[itemExistIndex].quantity || 0) > 1) {\n//         updatedCarts[itemExistIndex].quantity = (updatedCarts[itemExistIndex].quantity || 0) - 1;\n//       } else {\n//         updatedCarts.splice(itemExistIndex, 1); // Remove item if quantity <= 1\n//       }\n\n//       setCarts(updatedCarts);\n//       calculateTotalSum(updatedCarts);\n//       setQuantity((prev) => prev - 1);\n//     }\n//   };\n\n//   const deleteItemFromCart = (item: Partial<ProductModelProps>) => {\n//     const updatedCarts = carts.filter((cart) => cart.id !== item.id);\n//     setCarts(updatedCarts);\n//     calculateTotalSum(updatedCarts);\n//     setQuantity((prev) => prev - (item.quantity || 0));\n//   };\n\n//   const clearData = () => {\n//     setCarts([]);\n//     setTotalSum(0);\n//     setQuantity(0);\n//     AsyncStorage.removeItem(CARTS_KEY); // Clear from storage as well\n//   };\n\n//   const calculateTotalSum = (carts: Partial<ProductModelProps>[]) => {\n//     const total = carts.reduce((sum, item) => sum + (item.price || 0) * (item.quantity || 0), 0);\n//     setTotalSum(total);\n//   };\n\n\n//   const value: CartContextType = {\n//     carts,\n//     addToCart,\n//     decreaseFromCart,\n//     quantity,\n//     totalSum,\n//     totalTax,\n//     totalShipping,\n//     grandTotal,\n//     deleteItemFromCart,\n//     clearData,\n//   };\n\n//   return (\n//     <CartContext.Provider value={value}>\n//       {children}\n//     </CartContext.Provider>\n//   );\n// };\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { createContext, useContext, useState, ReactNode } from \"react\";\n// import { useFocusEffect } from \"@react-navigation/native\";\n// import { ProductModelProps } from \"@/models/ProductModelProps\"; \n\n// // Define the context type\n// interface CartContextType {\n//   carts: Partial<ProductModelProps>[];\n//   addToCart: (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => void;\n//   decreaseFromCart: (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => void;\n//   deleteItemFromCart: (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => void;\n//   totalSum: number;\n//   totalTax: number;\n//   totalShipping: number;\n//   grandTotal: number;\n//   quantity: number;\n//   clearData: (authUser: any, updateSingleUserItem: any) => void;\n// }\n\n// export const CartContext = createContext<CartContextType | undefined>(undefined);\n\n// export const useCart = (): CartContextType => {\n//   const context = useContext(CartContext);\n//   if (!context) {\n//     throw new Error(\"useCart must be used within a CartProvider\");\n//   }\n//   return context;\n// };\n\n// export const CartProvider = ({ children }: { children: ReactNode }) => {\n//   const [carts, setCarts] = useState<Partial<ProductModelProps>[]>([]); // Initialize state with an empty cart\n\n//   const [totalSum, setTotalSum] = useState<number>(0);\n//   const [totalShipping, setTotalShipping] = useState<number>(10); // Example shipping cost\n//   const [quantity, setQuantity] = useState<number>(0);\n\n//   const totalTax = totalSum * 0.08875; // Tax calculation\n//   const grandTotal = totalSum + totalTax + totalShipping; // Grand total calculation\n\n//   useFocusEffect(\n//     React.useCallback(() => {\n//       // Load or calculate initial values when the cart context is first used\n//       calculateTotalSum(carts);\n//       setQuantity(carts.reduce((sum, item) => sum + (item.quantity || 0), 0));\n//     }, [carts]) // Runs when the cart is updated\n//   );\n\n//   const addToCart = (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => {\n//     let updatedCarts = [...carts];\n//     const itemExistIndex = updatedCarts.findIndex((cart) => cart.id === item.id);\n\n//     if (itemExistIndex !== -1) {\n//       updatedCarts[itemExistIndex].quantity = (updatedCarts[itemExistIndex].quantity || 0) + 1; // Increment quantity\n//     } else {\n//       updatedCarts = [...updatedCarts, { ...item, quantity: 1 }];\n//     }\n\n//     setCarts(updatedCarts);\n//     calculateTotalSum(updatedCarts);\n//     setQuantity((prev) => prev + 1);\n//     updateSingleUserItem({ cart: updatedCarts, user: authUser }); // Update user profile with cart changes\n//   };\n\n//   const decreaseFromCart = (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => {\n//     const itemExistIndex = carts.findIndex((cart) => cart.id === item.id);\n//     if (itemExistIndex !== -1) {\n//       const updatedCarts = [...carts];\n//       if ((updatedCarts[itemExistIndex].quantity || 0) > 1) {\n//         updatedCarts[itemExistIndex].quantity = (updatedCarts[itemExistIndex].quantity || 0) - 1;\n//       } else {\n//         updatedCarts.splice(itemExistIndex, 1); // Remove item if quantity <= 1\n//       }\n\n//       setCarts(updatedCarts);\n//       calculateTotalSum(updatedCarts);\n//       setQuantity((prev) => prev - 1);\n//       updateSingleUserItem({ cart: updatedCarts, user: authUser }); // Update user profile cart\n//     }\n//   };\n\n//   const deleteItemFromCart = (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => {\n//     const updatedCarts = carts.filter((cart) => cart.id !== item.id);\n//     setCarts(updatedCarts);\n//     calculateTotalSum(updatedCarts);\n//     setQuantity((prev) => prev - (item.quantity || 0));\n//     updateSingleUserItem({ cart: updatedCarts, user: authUser }); // Update user profile cart\n//   };\n\n//   const clearData = (authUser: any, updateSingleUserItem: any) => {\n//     setCarts([]);\n//     setTotalSum(0);\n//     setQuantity(0);\n//     updateSingleUserItem({ cart: [], user: authUser }); // Clear cart in user profile\n//   };\n\n//   // Calculate total sum\n//   const calculateTotalSum = (carts: Partial<ProductModelProps>[]) => {\n//     const total = carts.reduce((sum, item) => sum + (item.price || 0) * (item.quantity || 0), 0);\n//     setTotalSum(total);\n//   };\n\n//   const value: CartContextType = {\n//     carts,\n//     addToCart,\n//     decreaseFromCart,\n//     quantity,\n//     totalSum,\n//     totalTax,\n//     totalShipping,\n//     grandTotal,\n//     deleteItemFromCart,\n//     clearData,\n//   };\n  \n\n//   return (\n//     <CartContext.Provider value={value}>\n//       {children}\n//     </CartContext.Provider>\n//   );\n// };\n\n\n// import React, { createContext, useContext, useEffect, useState, ReactNode } from \"react\";\n// import { MMKV } from \"react-native-mmkv\";\n// import { useFocusEffect } from \"@react-navigation/native\";\n// import { CartItem } from \"@/models/UserProps\";\n\n// // Initialize MMKV storage\n// const storage = new MMKV();\n\n\n\n// // Define the context type\n// interface CartContextType {\n//   carts: CartItem[];\n//   addToCart: (item: CartItem) => void;\n//   decreaseFromCart: (item: CartItem) => void;\n//   totalSum: number;\n//   totalTax: number;\n//   totalShipping: number;\n//   grandTotal: number;\n//   quantity: number;\n//   deleteItemFromCart: (item: CartItem) => void;\n//   clearData: () => void;\n// }\n\n// const CartContext = createContext<CartContextType | undefined>(undefined);\n\n// export const useCart = (): CartContextType => {\n//   const context = useContext(CartContext);\n//   if (!context) {\n//     throw new Error('useCart must be used within a CartProvider');\n//   }\n//   return context;\n// };\n\n// export const CartProvider = ({ children }: { children: ReactNode }) => {\n//   const [carts, setCarts] = useState<CartItem[]>([]);\n//   const [totalSum, setTotalSum] = useState<number>(0);\n//   const [totalShipping, setTotalShipping] = useState<number>(10); // Example shipping cost\n//   const [quantity, setQuantity] = useState<number>(0);\n\n//   const totalTax = (totalSum * 0.08875); // Tax calculation based on totalSum\n//   const grandTotal = totalSum + totalTax + totalShipping; // Grand total calculation\n\n//   useFocusEffect(\n//     React.useCallback(() => {\n//       loadCartItems();\n//     }, [])\n//   );\n\n//   // Load cart items from MMKV\n//   const loadCartItems = () => {\n//     try {\n//       const storedCarts = storage.getString(\"carts\");\n//       if (storedCarts) {\n//         const parsedCarts: CartItem[] = JSON.parse(storedCarts);\n//         setCarts(parsedCarts);\n//         calculateTotalSum(parsedCarts);\n//         setQuantity(parsedCarts.reduce((sum, item) => sum + item.quantity, 0)); // Update quantity\n//       } else {\n//         resetCart();\n//       }\n//     } catch (error) {\n//       console.error(\"Error loading cart items:\", error);\n//     }\n//   };\n\n//   const addToCart = (item: CartItem) => {\n//     try {\n//       const itemExistIndex = carts.findIndex((cart) => cart.id === item.id);\n//       let updatedCarts = [...carts];\n\n//       if (itemExistIndex !== -1) {\n//         updatedCarts[itemExistIndex].quantity += 1; // Increment quantity\n//       } else {\n//         updatedCarts = [...carts, { ...item, quantity: 1 }];\n//       }\n\n//       storage.set(\"carts\", JSON.stringify(updatedCarts));\n//       setCarts(updatedCarts);\n//       calculateTotalSum(updatedCarts);\n//       setQuantity((prev) => prev + 1);\n//     } catch (error) {\n//       console.error(\"Error adding item to cart:\", error);\n//     }\n//   };\n\n//   const decreaseFromCart = (item: CartItem) => {\n//     try {\n//       const itemExistIndex = carts.findIndex((cart) => cart.id === item.id);\n//       if (itemExistIndex !== -1) {\n//         const updatedCarts = [...carts];\n//         if (updatedCarts[itemExistIndex].quantity > 1) {\n//           updatedCarts[itemExistIndex].quantity -= 1;\n//         } else {\n//           updatedCarts.splice(itemExistIndex, 1); // Remove item if quantity <= 1\n//         }\n//         storage.set(\"carts\", JSON.stringify(updatedCarts));\n//         setCarts(updatedCarts);\n//         calculateTotalSum(updatedCarts);\n//         setQuantity((prev) => prev - 1);\n//       }\n//     } catch (error) {\n//       console.error(\"Error decreasing item from cart:\", error);\n//     }\n//   };\n\n//   const deleteItemFromCart = (item: CartItem) => {\n//     try {\n//       const updatedCarts = carts.filter((cart) => cart.id !== item.id);\n//       storage.set(\"carts\", JSON.stringify(updatedCarts));\n//       setCarts(updatedCarts);\n//       calculateTotalSum(updatedCarts);\n//       setQuantity((prev) => prev - item.quantity);\n//     } catch (error) {\n//       console.error(\"Error deleting item from cart:\", error);\n//     }\n//   };\n\n//   const clearData = () => {\n//     try {\n//       storage.delete(\"carts\");\n//       resetCart();\n//     } catch (error) {\n//       console.error(\"Error clearing cart data:\", error);\n//     }\n//   };\n\n//   // Calculate total sum\n//   const calculateTotalSum = (carts: CartItem[]) => {\n//     const total = carts.reduce((sum, item) => sum + item.price * item.quantity, 0);\n//     setTotalSum(total);\n//   };\n\n//   // Reset cart state\n//   const resetCart = () => {\n//     setCarts([]);\n//     setTotalSum(0);\n//     setQuantity(0);\n//   };\n\n//   const value: CartContextType = {\n//     carts,\n//     addToCart,\n//     decreaseFromCart,\n//     quantity,\n//     totalSum,\n//     totalTax,\n//     totalShipping,\n//     grandTotal,\n//     deleteItemFromCart,\n//     clearData,\n//   };\n\n//   return (\n//     <CartContext.Provider value={value}>\n//       {children}\n//     </CartContext.Provider>\n//   );\n// };\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { createContext, useContext, useEffect, useState, ReactNode } from \"react\";\n// import AsyncStorage from '@react-native-async-storage/async-storage';\n// import { useFocusEffect } from \"@react-navigation/native\";\n\n// // Define the interface for cart items\n// interface CartItem {\n//   id: string;\n//   price: number;\n//   quantity: number;\n// }\n\n// // Define the context type\n// interface CartContextType {\n//   carts: CartItem[];\n//   addToCart: (item: CartItem) => void;\n//   decreaseFromCart: (item: CartItem) => void;\n//   totalSum: number;\n//   totalTax: number;\n//   totalShipping: number;\n//   grandTotal: number;\n//   quantity: number;\n//   deleteItemFromCart: (item: CartItem) => void;\n//   clearData: () => void;\n// }\n\n// const CartContext = createContext<CartContextType | undefined>(undefined);\n\n// export const useCart = (): CartContextType => {\n//   const context = useContext(CartContext);\n//   if (!context) {\n//     throw new Error('useCart must be used within a CartProvider');\n//   }\n//   return context;\n// };\n\n// export const CartProvider = ({ children }: { children: ReactNode }) => {\n//   const [carts, setCarts] = useState<CartItem[]>([]);\n//   const [totalSum, setTotalSum] = useState<number>(0);\n//   const [totalShipping, setTotalShipping] = useState<number>(10); // Example shipping cost\n//   const [quantity, setQuantity] = useState<number>(0);\n\n//   const totalTax = (totalSum * 0.08875); // Tax calculation based on totalSum\n//   const grandTotal = totalSum + totalTax + totalShipping; // Grand total calculation\n\n//   useFocusEffect(\n//     React.useCallback(() => {\n//       console.log('Loading cart items...');\n//       loadCartItems();\n//     }, [])\n//   );\n\n//   useEffect(() => {\n//     // Test AsyncStorage to ensure it's working\n//     (async () => {\n//       try {\n//         await AsyncStorage.setItem('test_key', 'test_value');\n//         const value = await AsyncStorage.getItem('test_key');\n//         console.log('Test AsyncStorage Value:', value);\n//       } catch (error) {\n//         console.error('Error testing AsyncStorage:', error);\n//       }\n//     })();\n//   }, []);\n\n//   // Load cart items from AsyncStorage\n//   const loadCartItems = async () => {\n//     try {\n//       console.log('Trying to get carts from AsyncStorage...');\n//       const storedCarts = await AsyncStorage.getItem(\"carts\");\n//       console.log('Stored carts:', storedCarts);\n      \n//       if (storedCarts) {\n//         const parsedCarts: CartItem[] = JSON.parse(storedCarts);\n//         setCarts(parsedCarts);\n//         calculateTotalSum(parsedCarts);\n//         setQuantity(parsedCarts.reduce((sum, item) => sum + item.quantity, 0)); // Update quantity\n//       } else {\n//         resetCart();\n//       }\n//     } catch (error) {\n//       console.error(\"Error loading cart items:\", error);\n//     }\n//   };\n\n//   const addToCart = async (item: CartItem) => {\n//     try {\n//       const itemExistIndex = carts.findIndex((cart) => cart.id === item.id);\n//       let updatedCarts = [...carts];\n\n//       if (itemExistIndex !== -1) {\n//         updatedCarts[itemExistIndex].quantity += 1; // Increment quantity\n//       } else {\n//         updatedCarts = [...carts, { ...item, quantity: 1 }];\n//       }\n\n//       await AsyncStorage.setItem(\"carts\", JSON.stringify(updatedCarts));\n//       setCarts(updatedCarts);\n//       calculateTotalSum(updatedCarts);\n//       setQuantity((prev) => prev + 1);\n//     } catch (error) {\n//       console.error(\"Error adding item to cart:\", error);\n//     }\n//   };\n\n//   const decreaseFromCart = async (item: CartItem) => {\n//     try {\n//       const itemExistIndex = carts.findIndex((cart) => cart.id === item.id);\n//       if (itemExistIndex !== -1) {\n//         const updatedCarts = [...carts];\n//         if (updatedCarts[itemExistIndex].quantity > 1) {\n//           updatedCarts[itemExistIndex].quantity -= 1;\n//         } else {\n//           updatedCarts.splice(itemExistIndex, 1); // Remove item if quantity <= 1\n//         }\n//         await AsyncStorage.setItem(\"carts\", JSON.stringify(updatedCarts));\n//         setCarts(updatedCarts);\n//         calculateTotalSum(updatedCarts);\n//         setQuantity((prev) => prev - 1);\n//       }\n//     } catch (error) {\n//       console.error(\"Error decreasing item from cart:\", error);\n//     }\n//   };\n\n//   const deleteItemFromCart = async (item: CartItem) => {\n//     try {\n//       const updatedCarts = carts.filter((cart) => cart.id !== item.id);\n//       await AsyncStorage.setItem(\"carts\", JSON.stringify(updatedCarts));\n//       setCarts(updatedCarts);\n//       calculateTotalSum(updatedCarts);\n//       setQuantity((prev) => prev - item.quantity);\n//     } catch (error) {\n//       console.error(\"Error deleting item from cart:\", error);\n//     }\n//   };\n\n//   const clearData = async () => {\n//     try {\n//       console.log('Clearing cart data from AsyncStorage...');\n//       await AsyncStorage.removeItem(\"carts\");\n//       resetCart();\n//     } catch (error) {\n//       console.error(\"Error clearing cart data:\", error);\n//     }\n//   };\n\n//   // Calculate total sum\n//   const calculateTotalSum = (carts: CartItem[]) => {\n//     const total = carts.reduce((sum, item) => sum + item.price * item.quantity, 0);\n//     setTotalSum(total);\n//   };\n\n//   // Reset cart state\n//   const resetCart = () => {\n//     console.log(\"Cart reset\");\n//     setCarts([]);\n//     setTotalSum(0);\n//     setQuantity(0);\n//   };\n\n//   const value: CartContextType = {\n//     carts,\n//     addToCart,\n//     decreaseFromCart,\n//     quantity,\n//     totalSum,\n//     totalTax,\n//     totalShipping,\n//     grandTotal,\n//     deleteItemFromCart,\n//     clearData,\n//   };\n\n//   return (\n//     <CartContext.Provider value={value}>\n//       {children}\n//     </CartContext.Provider>\n//   );\n// };\n\n\n","import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { useColorScheme } from 'react-native';\nimport { DarkTheme, DefaultTheme, ThemeProvider as NavigationThemeProvider } from '@react-navigation/native';\n\n// Define the Theme Mode types\ntype ThemeMode = 'light' | 'dark' | 'system';\n\nexport interface StoreTheme {\n  light: {\n    pageBackground: string;\n    pageText: string;\n    buttonBackground: string;\n    buttonText: string;\n    buttonShadow: string;\n    tint: string;\n    tabIconDefault: string;\n    tabIconSelected: string;\n    cardBackground: string;\n    cardText: string;\n    cardSecondaryText: string;\n    cardPrice: string;\n    cardBorder: string;\n    background: string;\n    title: string;\n    subtitle: string; \n    border: string;\n    card: string;\n    primary: string;\n    secondary: string;\n  };\n  dark: {\n    pageBackground: string;\n    pageText: string;\n    buttonBackground: string;\n    buttonText: string;\n    buttonShadow: string;\n    tint: string;\n    tabIconDefault: string;\n    tabIconSelected: string;\n    cardBackground: string;\n    cardText: string;\n    cardSecondaryText: string;\n    cardPrice: string;\n    cardBorder: string;\n    background: string;\n    title: string;\n    subtitle: string\n    border: string;\n    card: string;\n    primary: string;\n    secondary: string;\n  };\n}\n\n// Define the structure of the theme context\ninterface ThemeContextProps {\n  theme: ThemeMode;\n  setTheme: (mode: ThemeMode) => void;\n  isDarkMode: boolean;\n  colors: StoreTheme['light'] | StoreTheme['dark']; // Dynamically chooses based on the current mode\n}\n\ninterface ThemeProviderProps {\n  children: ReactNode;\n  storeTheme: StoreTheme; // Store theme overrides\n  storage: any; // Allow any storage mechanism to be passed in\n  storageKey: string; // Key used to store the theme\n}\n\n// Create the ThemeContext\nexport const ThemeContext = createContext<ThemeContextProps | undefined>(undefined);\n\n// Hook to easily use the theme context\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n};\n\n// Custom ThemeProvider component that accepts storeTheme, storage, and storageKey as props\nexport const ThemeProvider = ({ children, storeTheme, storage, storageKey }: ThemeProviderProps) => {\n  const systemColorScheme = useColorScheme(); // Detect system theme\n  const [theme, setThemeState] = useState<ThemeMode>('system'); // Default to system theme\n  const [isDarkMode, setIsDarkMode] = useState<boolean>(systemColorScheme === 'dark'); // Check if dark mode is active\n\n  // Load theme from storage on component mount\n  useEffect(() => {\n    const loadStoredTheme = async () => {\n      try {\n        const storedTheme = await storage.getItem(storageKey);\n        if (storedTheme && (storedTheme === 'light' || storedTheme === 'dark' || storedTheme === 'system')) {\n          setThemeState(storedTheme as ThemeMode); // Set stored theme if available\n        }\n      } catch (error) {\n        console.error('Failed to load stored theme:', error);\n      }\n    };\n\n    loadStoredTheme();\n  }, [storage, storageKey]);\n\n  // Save theme to storage whenever it changes\n  useEffect(() => {\n    const saveTheme = async (newTheme: ThemeMode) => {\n      try {\n        await storage.setItem(storageKey, newTheme);\n      } catch (error) {\n        console.error('Failed to save theme:', error);\n      }\n    };\n\n    saveTheme(theme);\n  }, [theme, storage, storageKey]);\n\n  // Handle theme updates based on system preferences or manually set theme\n  useEffect(() => {\n    const darkMode = theme === 'system' ? systemColorScheme === 'dark' : theme === 'dark';\n    setIsDarkMode(darkMode);\n  }, [theme, systemColorScheme]);\n\n  // Merge store-specific theme with default theme\n  const currentTheme = isDarkMode\n    ? { ...DarkTheme, colors: { ...DarkTheme.colors, ...storeTheme.dark } }\n    : { ...DefaultTheme, colors: { ...DefaultTheme.colors, ...storeTheme.light } };\n\n  // Update the theme and save to storage\n  const setTheme = (newTheme: ThemeMode) => {\n    setThemeState(newTheme);\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, setTheme, isDarkMode, colors: currentTheme.colors }}>\n      <NavigationThemeProvider value={currentTheme}>\n        {children}\n      </NavigationThemeProvider>\n    </ThemeContext.Provider>\n  );\n};\n\n\n\n\n\n\n\n// working but no custom colors\n// import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\n// import { useColorScheme } from 'react-native';\n// import { DarkTheme, DefaultTheme, ThemeProvider as NavigationThemeProvider } from '@react-navigation/native';\n\n// // Define the Theme Mode types including 'system' and 'custom'\n// type ThemeMode = 'light' | 'dark' | 'system' | 'custom';\n\n// // Define the structure of the theme context\n// interface ThemeContextProps {\n//   theme: ThemeMode;\n//   setTheme: (mode: ThemeMode, customColors?: any) => void;\n//   isDarkMode: boolean;\n//   colors: any; // Holds the colors object from the theme\n// }\n\n// interface ThemeProviderProps {\n//   children: ReactNode;\n//   storage: any; // Allow any storage mechanism to be passed in\n//   storageKey: string; // Key used to store the theme\n//   customLightTheme?: any; // Custom colors for light theme\n//   customDarkTheme?: any;  // Custom colors for dark theme\n// }\n\n// // Create the ThemeContext\n// export const ThemeContext = createContext<ThemeContextProps | undefined>(undefined);\n\n// // Hook to easily use the theme context\n// export const useTheme = () => {\n//   const context = useContext(ThemeContext);\n//   if (!context) {\n//     throw new Error('useTheme must be used within a ThemeProvider');\n//   }\n//   return context;\n// };\n\n// // Custom ThemeProvider component that accepts storage, storageKey, and optional custom themes\n// export const ThemeProvider = ({ children, storage, storageKey, customLightTheme, customDarkTheme }: ThemeProviderProps) => {\n//   const systemColorScheme = useColorScheme(); // Detect system theme\n//   const [theme, setThemeState] = useState<ThemeMode>('system'); // Default to system theme\n//   const [isDarkMode, setIsDarkMode] = useState<boolean>(systemColorScheme === 'dark'); // Check if dark mode is active\n//   const [customColors, setCustomColors] = useState<any>(null); // State for custom colors\n\n//   // Load theme from storage on component mount\n//   useEffect(() => {\n//     const loadStoredTheme = async () => {\n//       try {\n//         const storedTheme = await storage.getItem(storageKey);\n//         if (storedTheme && (storedTheme === 'light' || storedTheme === 'dark' || storedTheme === 'system' || storedTheme === 'custom')) {\n//           setThemeState(storedTheme as ThemeMode); // Set stored theme if available\n//         }\n//         const storedCustomColors = await storage.getItem(`${storageKey}_customColors`);\n//         if (storedCustomColors) {\n//           setCustomColors(JSON.parse(storedCustomColors));\n//         }\n//       } catch (error) {\n//         console.error('Failed to load stored theme:', error);\n//       }\n//     };\n\n//     loadStoredTheme();\n//   }, [storage, storageKey]);\n\n//   // Save theme and custom colors to storage whenever it changes\n//   useEffect(() => {\n//     const saveTheme = async (newTheme: ThemeMode, newCustomColors?: any) => {\n//       try {\n//         await storage.setItem(storageKey, newTheme);\n//         if (newCustomColors) {\n//           await storage.setItem(`${storageKey}_customColors`, JSON.stringify(newCustomColors));\n//         }\n//       } catch (error) {\n//         console.error('Failed to save theme:', error);\n//       }\n//     };\n\n//     if (theme === 'custom' && customColors) {\n//       saveTheme(theme, customColors);\n//     } else {\n//       saveTheme(theme);\n//     }\n//   }, [theme, customColors, storage, storageKey]);\n\n//   // Handle theme updates based on system preferences or manually set theme\n//   useEffect(() => {\n//     const darkMode = theme === 'system' ? systemColorScheme === 'dark' : theme === 'dark';\n//     setIsDarkMode(darkMode);\n//   }, [theme, systemColorScheme]);\n\n//   // Extend default themes with custom colors\n//   const extendedDarkTheme = {\n//     ...DarkTheme,\n//     colors: {\n//       ...DarkTheme.colors,\n//       ...customDarkTheme,\n//     },\n//   };\n\n//   const extendedLightTheme = {\n//     ...DefaultTheme,\n//     colors: {\n//       ...DefaultTheme.colors,\n//       ...customLightTheme,\n//     },\n//   };\n\n//   const currentTheme = theme === 'custom' && customColors\n//     ? { ...DefaultTheme, colors: { ...customColors } } // Use custom colors for custom theme\n//     : isDarkMode\n//     ? extendedDarkTheme\n//     : extendedLightTheme;\n\n//   // Update the theme and custom colors and save to storage\n//   const setTheme = (newTheme: ThemeMode, newCustomColors?: any) => {\n//     setThemeState(newTheme);\n//     if (newCustomColors) {\n//       setCustomColors(newCustomColors);\n//     }\n//   };\n\n//   return (\n//     <ThemeContext.Provider value={{ theme, setTheme, isDarkMode, colors: currentTheme.colors }}>\n//       <NavigationThemeProvider value={currentTheme}>\n//         {children}\n//       </NavigationThemeProvider>\n//     </ThemeContext.Provider>\n//   );\n// };\n\n\n\n","import {\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  useColorScheme,\n  View,\n} from \"react-native\";\nimport { router } from \"expo-router\";\nimport { FontAwesome, Fontisto } from \"@expo/vector-icons\";\nimport { useCart } from \"@/contexts/CartContext\";\nimport { useTheme } from \"@/contexts/ThemeContext\";\n// import { COLORS } from \"@/utils/theme\";\n// import {COLORS, useCart } from \"@dhuntleypro/afm-library\"\n\nconst CartIcon = () => {\n  const { quantity } = useCart();\n  const colorScheme = useColorScheme();\n\n  const { colors } = useTheme();\n  const styles = StyleSheet.create({\n    \n    cartButton: {\n      alignItems: \"flex-end\",\n      marginRight: 10,\n    },\n    cartCount: {\n      position: \"absolute\",\n      bottom: 16,\n      left: 14,\n      width: 16,\n      height: 16,\n      borderRadius: 8,\n      alignItems: \"center\",\n      backgroundColor: colors.primary,\n      justifyContent: \"center\",\n      zIndex: 999,\n    },\n    cartNumber: {\n      fontFamily: \"regular\",\n      fontWeight: \"600\",\n      fontSize: 10,\n      color: colors.title,\n    },\n  });\n\n  return (\n    <TouchableOpacity\n      style={styles.cartButton}\n      onPress={() => router.push(\"/cart\" as never)}\n    >\n      <FontAwesome name=\"shopping-cart\" size={24}  color={colors.title}/>\n      <View style={styles.cartCount}>\n        <Text style={styles.cartNumber}>{quantity}</Text>\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nexport default CartIcon;\n\n","import { StyleSheet, Text, TouchableOpacity, useColorScheme, View } from \"react-native\";\nimport React, { useContext } from \"react\";\nimport { router, Stack } from \"expo-router\";\nimport { Fontisto, Feather, Ionicons } from \"@expo/vector-icons\";\nimport { useCart } from \"@/contexts/CartContext\";\nimport { useTheme } from \"@/contexts/ThemeContext\"\nimport CartIcon from \"@/components/icons/cartIcon\";\n// import { COLORS } from \"@/utils/theme\";\n// import {COLORS, useCart } from \"@dhuntleypro/afm-library\"\n\n\nconst HomeLayoutContent = () => {\n  const { quantity} = useCart()\n  const colorScheme = useColorScheme();\n\n  const { colors } = useTheme()\n  const styles = StyleSheet.create({\n    backButton: {\n      marginLeft: 8, // Adjust margin to position the back button\n    },\n    cartButton: {\n      alignItems: \"flex-end\",\n      marginRight: 10,\n    },\n    cartCount: {\n      position: \"absolute\",\n      bottom: 16,\n      width: 16,\n      height: 16,\n      borderRadius: 8,\n      alignItems: \"center\",\n      backgroundColor: \"blue\",\n      justifyContent: \"center\",\n      zIndex: 999,\n    },\n    cartNumber: {\n      fontFamily: \"regular\",\n      fontWeight: \"600\",\n      fontSize: 10,\n      color: colors.title\n    },\n  });\n\n  \n  return (\n    <Stack>\n      <Stack.Screen\n        name=\"index\"\n        options={{\n          title: \"Home\",\n          headerShown: false,\n         \n        }}\n      />\n\n      <Stack.Screen\n        name=\"(drawer)\"\n        options={{\n          title: \"Home\",\n          headerShown: false,\n        }}\n      />\n\n      <Stack.Screen\n        name=\"search\"\n        options={{\n          title: \"Search\",\n          // headerLeft: () => (\n          //   <TouchableOpacity style={styles.backButton}>\n          //     <Ionicons name=\"arrow-back\" size={24} color=\"black\" />\n          //   </TouchableOpacity>\n          // ),\n        }}\n      />\n\n      <Stack.Screen\n        name=\"products\"\n        options={{\n          title: \"Products\",\n          headerRight: () => ( \n            <CartIcon />\n          ),\n        }}\n      />\n    </Stack>\n  );\n};\n\nexport default HomeLayoutContent;\n\n","import { StyleSheet } from \"react-native\";\nimport React, { useEffect } from \"react\";\n// import { useAuth } from \"@/contexts/AuthContext\";\nimport { Stack } from \"expo-router\";\n// import { useMankindProduct } from \"@/contexts/MankindProductContext\";\n\nexport const AuthLayoutContent = () => {\n  return (\n      <Stack\n        screenOptions={{\n          headerShown: false, // Hide headers globally\n        }}\n      >\n        <Stack.Screen\n          name=\"welcome\"\n          options={{\n            // headerShown: false,\n            presentation: \"fullScreenModal\", // Full-screen modal presentation\n          }}\n        />\n        <Stack.Screen\n          name=\"login\"\n          options={{\n            presentation: \"fullScreenModal\", // Full-screen modal presentation\n          }}\n        />\n        <Stack.Screen\n          name=\"register\"\n          options={{\n            presentation: \"fullScreenModal\", // Full-screen modal presentation\n          }}\n        />\n      </Stack>\n    );\n\n};\n\nexport default AuthLayoutContent;\n\nconst styles = StyleSheet.create({});\n","import React, { useEffect } from 'react';\nimport { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { router } from 'expo-router';\nimport { useTheme } from '@react-navigation/native'; // Assuming this is from react-navigation\n\nexport const BannerVOne = () => {\n  const { colors } = useTheme(); // Directly access colors from the theme\n\n  useEffect(() => {\n    console.log('Current Theme Colors:', colors); // Debugging theme colors\n  }, [colors]);\n\n  const styles = createStyles(colors); // Pass colors directly to the styles function\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.bannerSection}>\n        <Text style={styles.bannerTitle}>Customize Your Experience</Text>\n        <Text style={styles.bannerSubtitle}>\n          Manage your preferences, update account settings, and explore options to tailor your experience to your needs, even things like dark mode.\n        </Text>\n        <TouchableOpacity\n          style={{ flexDirection: 'row' }}\n          onPress={() => router.push('/appearance' as never)}\n        >\n          <Text style={styles.editPreferences}>Dark Mode</Text>\n          <Ionicons name=\"arrow-forward\" size={15} color={colors.primary} style={styles.arrow} />\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n};\n\nconst createStyles = (colors: any) => {\n  return StyleSheet.create({\n    container: {\n      padding: 20, // Ensure padding to prevent overlapping issues\n    },\n    bannerSection: {\n      backgroundColor: colors.background,\n      borderRadius: 15,\n      padding: 20,\n      marginBottom: 20,\n    },\n    bannerTitle: {\n      fontSize: 18,\n      fontWeight: 'bold',\n      color: colors.title,\n      marginBottom: 10,\n    },\n    bannerSubtitle: {\n      fontSize: 14,\n      color: colors.subtitle || colors.title, // Use subtitle if available, otherwise fallback to text color\n      marginBottom: 20,\n    },\n    editPreferences: {\n      fontSize: 14,\n      color: colors.title,\n      fontWeight: 'bold',\n    },\n    arrow: {\n      marginLeft: 10,\n      marginTop: 3,\n    },\n  });\n};\n\nexport default BannerVOne;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { useEffect } from 'react';\n// import { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { router } from 'expo-router';\n// import { useTheme } from '@/contexts/ThemeContext'; // Import your custom ThemeProvider\n\n// export const BannerVOne = () => {\n//   const { isDarkMode, themeValue } = useTheme(); // Access the current theme context\n\n//   // Ensure that themeValue is correctly passed and contains the necessary values\n//   useEffect(() => {\n//     console.log('themeValue:', themeValue); // Log theme values for debugging\n//     console.log('isDarkMode:', isDarkMode); // Log dark mode state for debugging\n//   }, [themeValue, isDarkMode]);\n\n//   //// If the theme is not ready, show a fallback message\n//   // if (!themeValue || !themeValue.dark || !themeValue.light) {\n//   //   return (\n//   //     <View style={{ padding: 20 }}>\n//   //       <Text>Loading theme...</Text>\n//   //     </View>\n//   //   );\n//   // }\n\n//   const styles = createStyles(isDarkMode, themeValue); // Pass theme data to the styles function\n\n//   return (\n//     <View style={styles.container}>\n//       <View style={styles.bannerSection}>\n//         <Text style={styles.bannerTitle}>Customize Your Experience</Text>\n//         <Text style={styles.bannerSubtitle}>\n//           Manage your preferences, update account settings, and explore options to tailor your experience to your needs, even things like dark mode.\n//         </Text>\n//         <TouchableOpacity\n//           style={{ flexDirection: 'row' }}\n//           onPress={() => router.push('/appearance' as never)}\n//         >\n//           <Text style={styles.editPreferences}>Dark Mode</Text>\n//           <Ionicons name=\"arrow-forward\" size={15} color={styles.arrow.color} style={styles.arrow} />\n//         </TouchableOpacity>\n//       </View>\n//     </View>\n//   );\n// };\n\n// const createStyles = (isDarkMode: boolean, themeValue: any) => {\n//   return StyleSheet.create({\n//     container: {\n//       padding: 20, // Ensure padding to prevent overlapping issues\n//     },\n//     bannerSection: {\n//       backgroundColor: isDarkMode ? themeValue.dark.background : themeValue.light.background,\n//       borderRadius: 15,\n//       padding: 20,\n//       marginBottom: 20,\n//     },\n//     bannerTitle: {\n//       fontSize: 18,\n//       fontWeight: 'bold',\n//       color: isDarkMode ? themeValue.dark.text : themeValue.light.text,\n//       marginBottom: 10,\n//     },\n//     bannerSubtitle: {\n//       fontSize: 14,\n//       color: isDarkMode ? themeValue.dark.subtitle : themeValue.light.subtitle,\n//       marginBottom: 20,\n//     },\n//     editPreferences: {\n//       fontSize: 14,\n//       color: isDarkMode ? themeValue.dark.text : themeValue.light.text,\n//       fontWeight: 'bold',\n//     },\n//     arrow: {\n//       marginLeft: 10,\n//       marginTop: 3,\n//       color: isDarkMode ? themeValue.dark.icon : themeValue.light.icon,\n//     },\n//   });\n// };\n\n// export default BannerVOne;\n\n\n\n\n\n\n\n\n\n\n\n\n// import React from 'react';\n// import { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { router } from 'expo-router';\n// import { useTheme } from '@/contexts/ThemeContext'; // Import your custom ThemeProvider\n\n// export const BannerVOne = () => {\n//   const { isDarkMode, themeValue } = useTheme(); // Access the current theme context\n\n//   // Ensure that themeValue is correctly passed and contains the necessary values\n//   if (!themeValue || !themeValue.dark || !themeValue.light) {\n//     console.log(themeValue)\n//     console.log(themeValue.dark)\n//     console.log(themeValue.light)\n//     return null; // Return nothing or a loading indicator if themeValue is not ready\n//   }\n\n//   const styles = createStyles(isDarkMode, themeValue); // Pass theme data to the styles function\n\n//   return (\n//     <View style={styles.container}>\n//       <View style={styles.bannerSection}>\n//         <Text style={styles.bannerTitle}>Customize Your Experience</Text>\n//         <Text style={styles.bannerSubtitle}>\n//           Manage your preferences, update account settings, and explore options to tailor your experience to your needs, even things like dark mode.\n//         </Text>\n//         <TouchableOpacity\n//           style={{ flexDirection: 'row' }}\n//           onPress={() => router.push('/appearance' as never)}\n//         >\n//           <Text style={styles.editPreferences}>Dark Mode</Text>\n//           <Ionicons name=\"arrow-forward\" size={15} color={styles.arrow.color} style={styles.arrow} />\n//         </TouchableOpacity>\n//       </View>\n//     </View>\n//   );\n// };\n\n// export default BannerVOne;\n\n// const createStyles = (isDarkMode: boolean, themeValue: any) => {\n//   return StyleSheet.create({\n//     container: {\n//       // Add any container styling here\n//     },\n//     bannerSection: {\n//       backgroundColor: isDarkMode ? themeValue.dark.background : themeValue.light.background,\n//       borderRadius: 15,\n//       padding: 20,\n//       marginBottom: 20,\n//     },\n//     bannerTitle: {\n//       fontSize: 18,\n//       fontWeight: 'bold',\n//       color: isDarkMode ? themeValue.dark.text : themeValue.light.text,\n//       marginBottom: 10,\n//     },\n//     bannerSubtitle: {\n//       fontSize: 14,\n//       color: isDarkMode ? themeValue.dark.subtitle : themeValue.light.subtitle,\n//       marginBottom: 20,\n//     },\n//     editPreferences: {\n//       fontSize: 14,\n//       color: isDarkMode ? themeValue.dark.text : themeValue.light.text,\n//       fontWeight: 'bold',\n//     },\n//     arrow: {\n//       marginLeft: 10,\n//       marginTop: 3,\n//       color: isDarkMode ? themeValue.dark.icon : themeValue.light.icon,\n//     },\n//   });\n// };\n\n\n\n\n\n\n\n\n\n\n\n// NOT DARK MODE\n// import { StyleSheet, Text, TouchableOpacity, View } from 'react-native'\n// import React from 'react'\n// // import { COLORS } from '@/utils/theme'\n// import { Ionicons } from '@expo/vector-icons';\n// import { router } from 'expo-router';\n// import { COLORS } from '@/utils/theme';\n\n// {/* Banner Section */}\n\n// export const BannerVOne = () => {\n//   return (\n//     <View style={styles.container}>\n//         <View style={styles.bannerSection}>\n//           <Text style={styles.bannerTitle}>Customize Your Experience</Text>\n//           <Text style={styles.bannerSubtitle}>\n//           Manage your preferences, update account settings, and explore options to tailor your experience to your needs, even things like dark mode.\n//           </Text>\n//           <TouchableOpacity style={{ flexDirection: 'row',}} onPress={() => router.push('/appearance' as never)}>\n//           <Text style={styles.editPreferences}>Dark Mode</Text>\n//           <Ionicons name=\"arrow-forward\" size={15} color=\"white\" style={styles.arrow} />\n//           </TouchableOpacity>\n//         </View>\n//         </View>\n//   )\n// }\n\n// export default BannerVOne\n\n// const styles = StyleSheet.create({\n//     container: {\n//         // padding:16\n//     },\n//     bannerSection: {\n//       backgroundColor: '#1C1C1E',\n//       borderRadius: 15,\n//       padding: 20,\n//       marginBottom: 20,\n//     },\n//     bannerTitle: {\n//       fontSize: 18,\n//       fontWeight: 'bold',\n//       color: '#FFFFFF',\n//       marginBottom: 10,\n//     },\n  \n//     bannerSubtitle: {\n//       fontSize: 14,\n//       color: COLORS.gray3,\n//       marginBottom: 20,\n//     },\n  \n//     editPreferences: {\n//       fontSize: 14,\n//       color: COLORS.white,\n//       fontWeight: 'bold',\n//     },\n    \n//     arrow : {\n//       marginLeft: 10,\n//       marginTop: 3,\n//     },\n//   });\n","import React from 'react';\nimport { TouchableOpacity, Text, StyleSheet, ViewStyle, TextStyle } from 'react-native';\nimport {  MyButtonProps } from '../interfaces/MyButtonProps';\n\n\n\nexport const MyButton: React.FC<MyButtonProps> = ({ onPress, title, buttonStyle, textStyle }) => {\n  return (\n    <TouchableOpacity style={[styles.button, buttonStyle]} onPress={onPress}>\n      <Text style={[styles.text, textStyle]}>{title}</Text>\n    </TouchableOpacity>\n  );\n};\n\nexport default MyButton;\n\nconst styles = StyleSheet.create({\n  button: {\n    backgroundColor: '#FF6F61',\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  text: {\n    color: '#FFF',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n});\n","import { Dimensions } from \"react-native\";\nconst { height , width } = Dimensions.get('window')\n\nconst tintColorLight = '#2f95dc';\nconst tintColorDark = '#fff';\n\n\nconst COLORS = {\n  light: {\n    text: '#000000',\n    background: '#FFFFFF',\n    tint: '#0504aa', // Royal blue\n    tabIconDefault: '#CCCCCC',\n    tabIconSelected: '#0504aa',\n    cardBackground: '#FFFFFF',\n    cardText: '#000000',\n    cardSecondaryText: '#83829A',  // Gray\n    cardPrice: '#000000',\n    cardBorder: '#E0E0E0',\n  },\n  dark: {\n    text: '#FFFFFF',\n    background: '#000000',\n    tint: '#FFFFFF',\n    tabIconDefault: '#CCCCCC',\n    tabIconSelected: '#FFFFFF',\n    cardBackground: '#1C1C1E',  // Darker shade for cards in dark mode\n    cardText: '#FFFFFF',\n    cardSecondaryText: '#B0B0B0',  // Lighter gray\n    cardPrice: '#FFFFFF',\n    cardBorder: '#444444',  // Darker border for dark mode\n  },\n  primary: \"#3f5a36\",\n  secondary: \"#DDF0FF\",\n  tertiary: \"#FF7754\",\n  darkGray: '#333333',\n  green: '#8BC34A',\n  forestGreen: '#3f5a36',\n  lightGray: \"#F5F5F5\",\n  gray: \"#83829A\",\n  gray2: \"#C1C0C8\",\n  gray3: \"#d3d3d3\",\n  offwhite: \"#F3F4F8\",\n  white: \"#FFFFFF\",\n  black: \"#000000\",\n  blue: \"#0504aa\",  // Royal blue\n  red: \"#E81E4D\",\n  orange: \"#FF5733\",\n  lightWhite: \"#FAFAFC\",\n  backgroundLight: \"#F0F0F3\",\n  backgroundMedium: \"#B9B9B9\",\n  backgroundDark: \"#77777\",\n};\n\n\n\n\nconst SIZES = {\n    xSmall: 10,\n    small: 12,\n    medium: 16,\n    large: 20,\n    xLarge: 24,\n    xxLarge: 44,\n    height,\n    width\n}\n\nconst SHADOWS = {\n    small: {\n        shadowColor: \"#000\",\n        shadowOffset: {\n            width: 0,\n            height: 2\n        },\n        shadowOpacity: 0.25,\n        shadowRadius: 3.84,\n        elevation: 2\n    },\n    medium: {\n        shadowColor: \"#000\",\n        shadowOffset: {\n            width: 0,\n            height: 2\n        },\n        shadowOpacity: 0.25,\n        shadowRadius: 5.84,\n        elevation: 5\n    }\n}\n\nexport { COLORS, SIZES, SHADOWS }","const CURRENCY_FORMATTER = new Intl.NumberFormat(undefined, {\n    currency: 'USD',\n    style: 'currency'\n});\n\nexport function convertToCurrency(number: number) {\n    return CURRENCY_FORMATTER.format(number);\n}\n\nexport default convertToCurrency;","\n\n\n\nexport const CONSTANTS = {\n    appName: \"\",\n    holderImageWelcome: 'https://appsformankind-assets.s3.amazonaws.com/Collections/Furniture/Furniture_1.jpg', \n    holderImageProductCard: 'https://appsformankind-assets.s3.amazonaws.com/Store/Jays_Sea_Moss/boil-sea-moss.jpg', \n    holderImageCollectionCard: 'https://appsformankind-assets.s3.amazonaws.com/Store/Jays_Sea_Moss/gel.jpg', \n    holderImageOrderCard: 'https://appsformankind-assets.s3.amazonaws.com/Store/Jays_Sea_Moss/Irish_Sea_Moss.jpeg', \n    holderUserImage: 'https://appsformankind-assets.s3.amazonaws.com/Store/Jays_Sea_Moss/moss.jpg', \n    \n    holderCarouselImageOne: 'https://appsformankind-assets.s3.amazonaws.com/Store/Jays_Sea_Moss/rock.jpg', \n    holderCarouselImageTwo: 'https://appsformankind-assets.s3.amazonaws.com/Store/Jays_Sea_Moss/seaweed.jpg', \n    holderCarouselImageThree:'https://appsformankind-assets.s3.amazonaws.com/Store/Jays_Sea_Moss/waterfall.jpg', \n    holderImage: 'https://appsformankind-assets.s3.amazonaws.com/Store/Jays_Sea_Moss/seamoss.jpg', \n    \n  //  mankind_store_id: \"DF6598F7\",\n   // store_id: \"DF6598F7\", // \"P5V8A9ZE\",  \n    merchant_id: `merchant.com.dhuntleyinc.DevelopingAppsForMankind`,\n    publishableKeyLive: \"pk_live_51NVCh3JEHBX7gOQA7dW8kmXYPiToufrHpDzRZQ1vhxtUoNXrYXPWtMpELdWetWJhm6Wohk8PXc2ZF1UGfaBOFJl100GZWU6atY\",\n    publishableKeyTest: \"pk_test_51NVCh3JEHBX7gOQAjIjvMGNaHPmbWJov3iFEoLLOUS8oKf9wXowSES3piwS8AB57ml3ejDE1ZNf2tGyzMj7D0GlE007Ms2N4me\",\n         \n}\n\n","import { StyleSheet, Text, View , Image, TouchableOpacity} from 'react-native'\nimport React, { FC } from 'react'\n// import { OrderModelProps } from '../../models/OrderModelProps';\nimport { useNavigation } from '@react-navigation/native';\nimport { COLORS, SHADOWS, SIZES } from '@/utils/theme';\nimport convertToCurrency from '@/hooks/convertToCurrency';;\nimport { CONSTANTS } from '@/utils/constants';\nimport { OrderModelProps } from '@/models/OrderModelProps';\n// import { OrderModelProps } from '@/app/models/OrderModelProps';\n\nconst OrderCrudCard: FC<OrderModelProps> = (item) => {\n    const navigation = useNavigation();\n    \n    return (\n    <View>\n        \n        {/* @ts-ignore */}\n        <TouchableOpacity style={styles.container} onPress={() => navigation.navigate(\"EditOrder\" , { item })}>\n\n            <View style={styles.image}>\n                <Image source={{uri: CONSTANTS.holderImageOrderCard }} style={styles.orderImg} />\n            </View>\n            <View style={styles.textContainer}>\n                <Text style={styles.orderTitle}>{item.title}</Text>\n                <Text style={styles.supplier}>{convertToCurrency(item.total)}</Text>\n            </View>\n        </TouchableOpacity>\n    </View>\n  )\n}\n\nexport default OrderCrudCard\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        marginBottom: SIZES.small,\n        flexDirection: \"row\",\n        padding: SIZES.medium,\n        borderRadius: SIZES.small,\n        backgroundColor: \"#fff\",\n        ...SHADOWS.medium,\n        shadowColor: COLORS.lightWhite,\n        // height: 120\n    },\n    image: {\n        width: 70,\n        backgroundColor: COLORS.secondary,\n        borderRadius: SIZES.medium,\n        justifyContent: \"center\",\n        alignContent: \"center\"\n    },\n    orderImg: {\n        width: '100%',\n        height: 65,\n        borderRadius: SIZES.small,\n        resizeMode: \"cover\"\n    },\n    textContainer: {\n        flex: 1,\n        marginHorizontal: SIZES.medium\n    },\n    orderTitle: {\n        fontSize: SIZES.medium,\n        fontFamily: \"bold\",\n        color: COLORS.primary\n\n    },\n    supplier: {\n        fontSize: SIZES.small + 2,\n        fontFamily: \"bold\",\n        color: COLORS.gray,\n        marginTop: 3\n\n    }\n})","export const VERSION = 0.01;\n\nexport const STORE_TYPE = {\n  ecom: 'ecom',\n  blog: 'blog',\n  subscription: 'subscription',\n  appointment: 'appointment',\n};\n\n// AWS \n\nexport const API_ID = \"yiiuqhh3a3\"\nexport const BASE_URL =  `https://${API_ID}.execute-api.us-east-1.amazonaws.com/prod`\n\n\nexport const AWS_BASE_IMAGE = `https://${process.env.VITE_S3_ASSET_BUCKET_NAME}.s3.amazonaws.com`;\nexport const AWS_HOLDER_IMAGE = `https://appsformankind-assets.s3.amazonaws.com/Products/appoint/Flowers.png`\nexport const AWS_BASE_URL = `https://yiiuqhh3a3.execute-api.us-east-1.amazonaws.com/prod`;\n\nexport const AWS_BASE_URL_2 = `https://${process.env.VITE_API_ID_2}.execute-api.${\n  process.env.VITE_REGION\n}.amazonaws.com/prod`;\n\n\nexport const AWS_VERIFY = `https://${process.env.VITE_API_ID}.execute-api.${\n  process.env.VITE_REGION\n}.amazonaws.com/prod/verify`;\n\nexport const AWS_LOGIN_URL = `https://${process.env.VITE_API_ID}.execute-api.${\n  process.env.VITE_REGION\n}.amazonaws.com/prod/login`;\n\n\nexport const AWS_ORDERS_URL = `https://${process.env.VITE_API_ID}.execute-api.${\n  process.env.VITE_REGION\n}.amazonaws.com/prod/login`;\n\nexport const AWS_SUBSCRIBER_URL = `https://${process.env.VITE_API_ID}.execute-api.${\n  process.env.VITE_REGION\n}.amazonaws.com/prod/subscriber`;\n\n","// import * as SecureStore from 'expo-secure-store';\n// import { getAuthToken } from './getAuthToken';\n\n// // Fetch client alternative to Axios\n// export function createFetchClient(\n//   baseURL: string,\n//   defaultParams: Record<string, string | number>,\n//   defaultHeaders: Record<string, string>\n// ) {\n//   const fetchClient = async <T = any>(\n//     endpoint: string,\n//     options: RequestInit & { params?: Record<string, string | number> } = {}\n//   ): Promise<T> => {\n//     const baseHasProd = baseURL.includes('/prod');\n//     const normalizedBaseURL = baseHasProd ? baseURL : `${baseURL}/prod`;\n//     const normalizedEndpoint = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;\n//     const url = new URL(`${normalizedBaseURL}${normalizedEndpoint}`);\n\n//     // Add default params and any options params to URL\n//     const params = new URLSearchParams();\n//     Object.entries(defaultParams).forEach(([key, value]) => {\n//       params.append(key, String(value));\n//     });\n//     if (options.params) {\n//       Object.entries(options.params).forEach(([key, value]) => {\n//         params.append(key, String(value));\n//       });\n//     }\n//     url.search = params.toString();\n\n//     // Add headers\n//     const token = await getAuthToken();\n//     const headers = new Headers({\n//       ...defaultHeaders,\n//       //authentication:  token ? `${token}` : '', \n//      //  Authorization: token ? `${token}` : '', // Changed Authentication to Authorization for correctness\n//       ...options.headers,\n//     });\n\n//     // Log request details for debugging\n//     console.log(\"Full Request URL:\", url.toString());\n//     console.log(\"Request Headers:\", Object.fromEntries(headers.entries()));\n//     if (options.body) {\n//       console.log(\"Request Body:\", options.body);\n//     }\n\n//     // Make the fetch request\n//     const response = await fetch(url.toString(), {\n//       ...options,\n//       headers,\n//     });\n\n//     // Handle response errors\n//     if (!response.ok) {\n//       const errorData = await response.json().catch(() => ({}));\n//       throw new Error(`HTTP error! Status: ${response.status}, ${JSON.stringify(errorData)}`);\n//     }\n\n//     // Return the JSON response\n//     return response.json();\n//   };\n\n//   return {\n//     get: <T = any>(endpoint: string, options: Omit<RequestInit, 'method'> & { params?: Record<string, string | number> } = {}) =>\n//       fetchClient<T>(endpoint, { ...options, method: 'GET' }),\n\n//     post: <T = any>(endpoint: string, body: any, options: Omit<RequestInit, 'method' | 'body'> & { params?: Record<string, string | number> } = {}) => {\n//       console.log(\"Body before sending POST:\", body); // Log the body before sending\n//       return fetchClient<T>(endpoint, { ...options, method: 'POST', body: JSON.stringify(body) });\n//     },\n\n//     put: <T = any>(endpoint: string, body: any, options: Omit<RequestInit, 'method' | 'body'> & { params?: Record<string, string | number> } = {}) =>\n//       fetchClient<T>(endpoint, { ...options, method: 'PUT', body: JSON.stringify(body) }),\n\n//     patch: <T = any>(endpoint: string, body: any, options: Omit<RequestInit, 'method' | 'body'> & { params?: Record<string, string | number> } = {}) => {\n//       console.log(\"Body before sending PATCH:\", body); // Log the body before sending\n//       return fetchClient<T>(endpoint, { ...options, method: 'PATCH', body: JSON.stringify(body) });\n//     },\n\n//     delete: <T = any>(endpoint: string, options: Omit<RequestInit, 'method'> & { params?: Record<string, string | number> } = {}) =>\n//       fetchClient<T>(endpoint, { ...options, method: 'DELETE' }),\n//   };\n// }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport function createFetchClient(\n  baseURL: string,\n  defaultParams: Record<string, string | number>,\n  defaultHeaders: Record<string, string>\n) {\n  const fetchClient = async <T = any>(\n    endpoint: string,\n    options: RequestInit & { params?: Record<string, string | number> } = {}\n  ): Promise<T> => {\n    const baseHasProd = baseURL.includes('/prod');\n    const normalizedBaseURL = baseHasProd ? baseURL : `${baseURL}/prod`;\n    const normalizedEndpoint = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;\n    const url = new URL(`${normalizedBaseURL}${normalizedEndpoint}`);\n\n    const params = new URLSearchParams();\n    Object.entries(defaultParams).forEach(([key, value]) => {\n      params.append(key, String(value));\n    });\n\n    if (options.params) {\n      Object.entries(options.params).forEach(([key, value]) => {\n        params.append(key, String(value));\n      });\n    }\n    url.search = params.toString();\n\n    const headers = new Headers({\n      ...defaultHeaders,\n      ...options.headers,\n    });\n\n    // Log the full URL and request details\n    console.log(\"Full Request URL:\", url.toString());\n    console.log(\"Request Headers:\", headers);\n\n    if (options.body) {\n      console.log(\"Request Body:\", options.body); // Log the body being sent\n    }\n\n    const response = await fetch(url.toString(), {\n      ...options,\n      headers,\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(`HTTP error! Status: ${response.status}, ${JSON.stringify(errorData)}`);\n    }\n\n    return response.json();\n  };\n\n  return {\n    get: <T = any>(endpoint: string, options: Omit<RequestInit, 'method'> & { params?: Record<string, string | number> } = {}) =>\n      fetchClient<T>(endpoint, { ...options, method: 'GET' }),\n\n    post: <T = any>(endpoint: string, body: any, options: Omit<RequestInit, 'method' | 'body'> & { params?: Record<string, string | number> } = {}) => {\n      console.log(\"Body before sending:\", body); // Log the body before sending\n      return fetchClient<T>(endpoint, { ...options, method: 'POST', body: JSON.stringify(body) });\n    },\n\n     patch: <T = any>(endpoint: string, body: any, options: Omit<RequestInit, 'method' | 'body'> & { params?: Record<string, string | number> } = {}) => {\n       console.log(\"Body before sending PATCH:\", body); // Log the body before sending\n       return fetchClient<T>(endpoint, { ...options, method: 'PATCH', body: JSON.stringify(body) });\n     },\n\n\n    put: <T = any>(endpoint: string, body: any, options: Omit<RequestInit, 'method' | 'body'> & { params?: Record<string, string | number> } = {}) =>\n      fetchClient<T>(endpoint, { ...options, method: 'PUT', body: JSON.stringify(body) }),\n\n    delete: <T = any>(endpoint: string, options: Omit<RequestInit, 'method'> & { params?: Record<string, string | number> } = {}) =>\n      fetchClient<T>(endpoint, { ...options, method: 'DELETE' }),\n  };\n}\n\n\n\n\n// // src/util/createFetchClient.ts\n// export function createFetchClient(\n//   baseURL: string,\n//   defaultParams: Record<string, string | number>,\n//   defaultHeaders: Record<string, string>\n// ) {\n//   const fetchClient = async <T = any>(\n//     endpoint: string,\n//     options: RequestInit & { params?: Record<string, string | number> } = {}\n//   ): Promise<T> => {\n//     const baseHasProd = baseURL.includes('/prod');\n//     const normalizedBaseURL = baseHasProd ? baseURL : `${baseURL}/prod`;\n//     const normalizedEndpoint = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;\n//     const url = new URL(`${normalizedBaseURL}${normalizedEndpoint}`);\n\n//     const params = new URLSearchParams();\n//     Object.entries(defaultParams).forEach(([key, value]) => {\n//       params.append(key, String(value));\n//     });\n\n//     if (options.params) {\n//       Object.entries(options.params).forEach(([key, value]) => {\n//         params.append(key, String(value));\n//       });\n//     }\n//     url.search = params.toString();\n\n//     const headers = new Headers({\n//       ...defaultHeaders,\n//       ...options.headers,\n//     });\n\n//     const response = await fetch(url.toString(), {\n//       ...options,\n//       headers,\n//     });\n\n//     if (!response.ok) {\n//       const errorData = await response.json().catch(() => ({}));\n//       throw new Error(`HTTP error! Status: ${response.status}, ${JSON.stringify(errorData)}`);\n//     }\n\n//     return response.json();\n//   };\n\n//   return {\n//     get: <T = any>(endpoint: string, options: Omit<RequestInit, 'method'> & { params?: Record<string, string | number> } = {}) =>\n//       fetchClient<T>(endpoint, { ...options, method: 'GET' }),\n\n//     post: <T = any>(endpoint: string, body: any, options: Omit<RequestInit, 'method' | 'body'> & { params?: Record<string, string | number> } = {}) =>\n//       fetchClient<T>(endpoint, { ...options, method: 'POST', body: JSON.stringify(body) }),\n\n//     put: <T = any>(endpoint: string, body: any, options: Omit<RequestInit, 'method' | 'body'> & { params?: Record<string, string | number> } = {}) =>\n//       fetchClient<T>(endpoint, { ...options, method: 'PUT', body: JSON.stringify(body) }),\n\n//     delete: <T = any>(endpoint: string, options: Omit<RequestInit, 'method'> & { params?: Record<string, string | number> } = {}) =>\n//       fetchClient<T>(endpoint, { ...options, method: 'DELETE' }),\n//   };\n// }\n","import { TOKEN_KEY } from '@/contexts/AuthContext';\n// import * as SecureStore from 'expo-secure-store';\n\n// // Helper function to get the Authentication token\n// export const getAuthToken = async (): Promise<string | null> => {\n//     return await SecureStore.getItemAsync(TOKEN_KEY);\n//   };\n  \nimport * as SecureStore from 'expo-secure-store';\n\nexport const getAuthToken = async () => {\n  try {\n    const token = await SecureStore.getItemAsync(TOKEN_KEY);\n    if (!token) {\n      throw new Error('No token found');\n    }\n    console.log('token is active');\n\n    return token;\n  } catch (error) {\n    console.error('Error fetching auth token:', error);\n    throw new Error('Unable to retrieve authentication token');\n  }\n};\n","import * as SecureStore from 'expo-secure-store';\nimport { UserProps } from \"../models/UserProps\";\nimport { BASE_URL } from \"../utils/api\";\nimport { createFetchClient } from \"../utils/createFetchClient\";\nimport { getAuthToken } from '@/utils/getAuthToken';\n\n// Create a fetch client instance\n// export const authApi = createFetchClient(\n//   BASE_URL,\n//   {},{}\n// );\n\n// Create a fetch client instance\nexport const authApi = createFetchClient(\n  BASE_URL,\n  {\n    tableName: 'prof-website-user-table',\n    showFilteredItems: 'true',\n  },\n  {\n    'Content-Type': 'application/json',\n  }\n);\n\n\n\n// API Calls\n\n// Verify user API\nexport const verify = async (user: any) => {\n  const token = await getAuthToken();\n  return await authApi.post('/verify', user, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n};\n\n// Login API with token-based Authentication\nexport const login = async (user: UserProps) => {\n  // Create the request body using the user object properties\n  const body = {\n    email: user.email,\n    password: user.password,\n  };\n\n  // Perform the login request and return the result\n  return await authApi.post(\"/login\", body, {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    }\n  });\n};\n\n// Get users API\nexport const getUsersApi = async () => {\n  const token = await getAuthToken();\n  return await authApi.get('/users', {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n};\n\n// Get client users by store ID and email\nexport const getClientUsersApi = async (storeID: string, email: string) => {\n  try {\n    const token = await getAuthToken();\n    const response = await authApi.get('/users', {\n      params: {\n        store_id: storeID,\n        email: email,\n      },\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    console.log(response);\n    return response;\n  } catch (error) {\n    console.error('Error fetching client users:', error);\n    throw error;\n  }\n};\n\n// Update user API\nexport const updateUserApi = async (\n  userEmail: string,\n  tableName: string,\n  updateKey: string,\n  updateValue: any\n) => {\n  const token = await getAuthToken();\n\n  const body = {\n    email: userEmail,\n    tableName: tableName,\n    updateKey: updateKey,\n    updateValue: updateValue,\n  };\n\n  return await authApi.patch(`/user`, body, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\",\n    },\n  });\n};\n\n// Delete user API\nexport const deleteUserApi = async ({ id }: { id: any }) => {\n  const token = await getAuthToken();\n  return await authApi.delete(`/user`, {\n    params: { id },\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import * as SecureStore from 'expo-secure-store';\n// import { UserProps } from \"../models/UserProps\";\n// import { BASE_URL } from \"../utils/api\";\n// import { createFetchClient } from \"../utils/createFetchClient\";\n// import { getAuthToken } from '@/utils/getAuthToken';\n\n// // Create a fetch client instance\n// export const authApi = createFetchClient(\n//   BASE_URL,\n//   {},{}\n//   // {\n//   //   tableName: 'prof-website-user-table',\n//   //   showFilteredItems: 'true',\n//   // },\n//   // {\n//   //   'Content-Type': 'application/json',\n//   // }\n// );\n\n\n// // API Calls\n\n// // Verify user API\n// export const verify = async (user: any) => {\n//   const token = await getAuthToken();\n//   return await authApi.post('/verify', user, {\n//     headers: {\n//       Authentication: `${token}`,\n//     },\n//   });\n// };\n\n// // Login API with token-based Authentication\n// export const login = async (user: UserProps) => {\n//   const authApi = createFetchClient(\n//     BASE_URL,\n//     { tableName: \"prof-website-user-table\" },\n//     { \"Content-Type\": \"application/json\" }\n//   );\n\n//   // Create the request body using the user object properties\n//   const body = {\n//     email: user.email,\n//     password: user.password,\n//   };\n\n//   // Perform the login request and return the result\n//   return await authApi.post(\"/login\", body);\n// };\n\n// // Get users API\n// export const getUsersApi = async () => {\n//   const token = await getAuthToken();\n//   return await authApi.get('/users', {\n//     headers: {\n//       Authentication: `${token}`,\n\n//     },\n//   });\n// };\n\n// // Get client users by store ID and email\n// export const getClientUsersApi = async (storeID: string, email: string) => {\n//   try {\n//     const token = await getAuthToken();\n//     const response = await authApi.get('/users', {\n//       params: {\n//         store_id: storeID,\n//         email: email, // Pass the email parameter here\n//       },\n//       headers: {\n//         Authentication: `${token}`,\n//       },\n//     });\n//     console.log(response);\n//     return response; // Return the data from the response\n//   } catch (error) {\n//     console.error('Error fetching client users:', error);\n//     throw error; // Rethrow the error after logging it\n//   }\n// };\n\n\n// // Update user API\n// export const updateUserApi = async (\n//   userEmail: string,\n//   tableName: string,\n//   updateKey: string,\n//   updateValue: any\n// ) => {\n//   const token = await getAuthToken();\n\n//   // Construct the body for the API call\n//   const body = {\n//     email: userEmail,\n//     tableName: tableName, // Example: \"prof-website-product-table\"\n//     updateKey: updateKey, // The key that needs to be updated, e.g. \"on_sale\"\n//     updateValue: updateValue, // The new value for the key, e.g. true or false\n//   };\n\n//   return await authApi.patch(`/user`, body, {\n//     headers: {\n//       authorization: `${token}`,  // Ensure this is correctly formatted\n\n//       // Authentication: `${token}`,\n//       \"Content-Type\": \"application/json\", // Properly added Content-Type\n//     },\n//   });\n// };\n\n\n\n\n// // Delete user API\n// export const deleteUserApi = async ({ id }: { id: any }) => {\n//   const token = await getAuthToken();\n//   console.log(id);\n//   return await authApi.delete(`/user`, {\n//     params: { id },\n//     headers: {\n//       Authentication: `${token}`,\n//     },\n//   });\n// };\n\n\n\n","import React, {\n  createContext,\n  useContext,\n  useEffect,\n  useState,\n  useCallback,\n} from \"react\";\nimport * as SecureStore from \"expo-secure-store\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { UserProps } from \"../models/UserProps\";\nimport { authApi } from \"@/api/authentication\";\nimport { getAuthToken } from \"@/utils/getAuthToken\";\n\n// Define the AuthState and Context types\ninterface AuthState {\n  user: UserProps | null;\n  token: string | null;\n  authenticated: boolean;\n}\n\ninterface AuthContextType {\n  authState: AuthState;\n  onRegister: (storeID: string, user: UserProps) => Promise<any>;\n  onLogin: (storeID: string, email: string, password: string) => Promise<any>;\n  onLogout: () => Promise<void>;\n  // updateUserItems: (updates: Partial<UserProps>) => Promise<void>;\n  updateSingleUserItem: (\n    updateKey: keyof UserProps,\n    updateValue: any\n  ) => Promise<void>;\n  addToFavorites: (itemId: string) => Promise<void>;\n  removeFromFavorites: (itemId: string) => Promise<void>;\n  isFavorite: (itemId: string) => boolean;\n}\n\n// Define constants for SecureStore keys\nexport const TOKEN_KEY = \"your_token_key_here\";\nconst USER_KEY = \"your_user_key_here\";\nconst AUTHENTICATED_KEY = \"authenticated_key_here\";\n\n// Create AuthContext\nexport const AuthContext = createContext<AuthContextType | undefined>(\n  undefined\n);\n\n// Hook to use AuthContext\nexport const useAuth = (): AuthContextType => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n};\n\n// AuthProvider component\nexport const AuthProvider = ({ children }: { children: React.ReactNode }) => {\n  const [authState, setAuthState] = useState<AuthState>({\n    user: null,\n    token: null,\n    authenticated: false,\n  });\n\n  const [loading, setLoading] = useState(true);\n\n  // Load user data from SecureStore on component mount\n  useEffect(() => {\n    const loadUserData = async () => {\n      try {\n        setLoading(true);\n        const token = await SecureStore.getItemAsync(TOKEN_KEY);\n        const userString = await SecureStore.getItemAsync(USER_KEY);\n        const authenticated = await SecureStore.getItemAsync(AUTHENTICATED_KEY);\n\n        if (token && userString && authenticated === \"true\") {\n          const user = JSON.parse(userString);\n          setAuthState({ user, token, authenticated: true });\n        } else {\n          setAuthState({ user: null, token: null, authenticated: false });\n        }\n      } catch (error) {\n        console.error(\"Error loading user data:\", error);\n        setAuthState({ user: null, token: null, authenticated: false });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadUserData();\n  }, []);\n\n  // Register function\n  const onRegister = useCallback(\n    async (storeID: string, userData: UserProps): Promise<any> => {\n      try {\n        const result = await authApi.post(\"/register\", userData, {\n          params: { store_id: storeID },\n        });\n        return result;\n      } catch (error: any) {\n        console.error(\"Registration error:\", error);\n        throw new Error(\n          error.response?.data?.msg || \"Registration failed. Please try again.\"\n        );\n      }\n    },\n    []\n  );\n\n  // Login function\n  const onLogin = useCallback(\n    async (storeID: string, email: string, password: string): Promise<any> => {\n      try {\n        const result = await authApi.post(\n          \"/login\",\n          { email, password },\n          {\n            params: { store_id: storeID },\n          }\n        );\n\n        const { user, token } = result;\n        await SecureStore.setItemAsync(TOKEN_KEY, token);\n        await SecureStore.setItemAsync(USER_KEY, JSON.stringify(user));\n        await SecureStore.setItemAsync(AUTHENTICATED_KEY, \"true\");\n\n        setAuthState({ user, token, authenticated: true });\n        return result;\n      } catch (error: any) {\n        console.error(\"Login error:\", error);\n        throw new Error(\n          error.response?.data?.msg || \"Login failed. Please try again.\"\n        );\n      }\n    },\n    []\n  );\n\n  // Logout function\n  const onLogout = useCallback(async (): Promise<void> => {\n    try {\n      await SecureStore.deleteItemAsync(TOKEN_KEY);\n      await SecureStore.deleteItemAsync(USER_KEY);\n      await SecureStore.deleteItemAsync(AUTHENTICATED_KEY);\n      setAuthState({ user: null, token: null, authenticated: false });\n      await AsyncStorage.removeItem(\"carts\");\n      console.log(\"User logged out successfully.\");\n    } catch (error) {\n      console.error(\"Error logging out:\", error);\n      throw new Error(\"Logout failed. Please try again.\");\n    }\n  }, []);\n\n  \n\n  const updateSingleUserItem = useCallback(\n    async (updateKey: keyof UserProps, updateValue: any) => {\n      if (!authState.user) throw new Error(\"No user to update\");\n    \n      try {\n        const body = {\n          email: authState?.user.email ?? \"\",\n          tableName: \"prof-website-user-table\",\n          updateKey: updateKey as string,\n          updateValue: updateValue,\n        };\n  \n        const token = await getAuthToken();\n        console.log(`token: ${token}`);\n        \n        const result = await authApi.patch(`/user`, body, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n    \n        console.log(\"User profile updated successfully:\", body);\n    \n        // Dynamically update the key in authState.user\n        const updatedUser = {\n          ...authState.user,\n          [updateKey]: updateValue, // Dynamic key update\n        };\n    \n        await SecureStore.setItemAsync(USER_KEY, JSON.stringify(updatedUser));\n        setAuthState((prevState) => ({ ...prevState, user: updatedUser }));\n      } catch (error: any) {\n        console.error(\"Failed to update user profile:\", error);\n        throw new Error(\n          error.response?.data?.msg || \"Failed to update user profile.\"\n        );\n      }\n    },\n    [authState.user]\n  );\n  \n\n  // Add item to favorites\n  const addToFavorites = useCallback(\n    async (itemId: string) => {\n      if (!authState.user) throw new Error(\"No user to update\");\n\n      try {\n        const updatedFavorites = [\n          ...(authState.user.favoriteItems || []),\n          itemId,\n        ];\n\n        // Update the user’s favoriteItems on the server\n        await updateSingleUserItem(\"favoriteItems\", updatedFavorites);\n\n        // Update the local state and SecureStore\n        const updatedUser = {\n          ...authState.user,\n          favoriteItems: updatedFavorites,\n        };\n        await SecureStore.setItemAsync(USER_KEY, JSON.stringify(updatedUser));\n        setAuthState((prevState) => ({ ...prevState, user: updatedUser }));\n\n        console.log(\"Added item to favorites:\", itemId);\n      } catch (error) {\n        console.error(\"Failed to add to favorites:\", error);\n        throw new Error(\"Failed to add to favorites.\");\n      }\n    },\n    [authState.user, updateSingleUserItem]\n  );\n\n  // Remove item from favorites\n  const removeFromFavorites = useCallback(\n    async (itemId: string) => {\n      if (!authState.user) throw new Error(\"No user to update\");\n\n      try {\n        const updatedFavorites = (authState.user.favoriteItems || []).filter(\n          (fav) => fav !== itemId\n        );\n\n        // Update the user’s favoriteItems on the server\n        await updateSingleUserItem(\"favoriteItems\", updatedFavorites);\n\n        // Update the local state and SecureStore\n        const updatedUser = {\n          ...authState.user,\n          favoriteItems: updatedFavorites,\n        };\n        await SecureStore.setItemAsync(USER_KEY, JSON.stringify(updatedUser));\n        setAuthState((prevState) => ({ ...prevState, user: updatedUser }));\n\n        console.log(\"Removed item from favorites:\", itemId);\n      } catch (error) {\n        console.error(\"Failed to remove from favorites:\", error);\n        throw new Error(\"Failed to remove from favorites.\");\n      }\n    },\n    [authState.user, updateSingleUserItem]\n  );\n\n  // Check if item is favorite\n  const isFavorite = useCallback(\n    (itemId: string): boolean => {\n      return authState.user?.favoriteItems?.includes(itemId) || false;\n    },\n    [authState.user]\n  );\n\n  if (loading) {\n    return null; // Or show a loading spinner\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        authState,\n        onRegister,\n        onLogin,\n        onLogout,\n        // updateUserItems,\n        updateSingleUserItem,\n        addToFavorites,\n        removeFromFavorites,\n        isFavorite,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n// before mutiple updates\n// import React, { createContext, useContext, useEffect, useState, useCallback } from \"react\";\n// import * as SecureStore from 'expo-secure-store';\n// import AsyncStorage from \"@react-native-async-storage/async-storage\";\n// import { UserProps } from \"../models/UserProps\";\n// import { authApi } from \"@/api/Authentication\";\n// import { getAuthToken } from \"@/utils/getAuthToken\";\n\n// // Define the AuthState and Context types\n// interface AuthState {\n//   user: UserProps | null;\n//   token: string | null;\n//   authenticated: boolean;\n// }\n\n// interface AuthContextType {\n//   authState: AuthState;\n//   onRegister: (storeID: string, user: UserProps) => Promise<any>;\n//   onLogin: (storeID: string, email: string, password: string) => Promise<any>;\n//   onLogout: () => Promise<void>;\n//   updateUserItems: (updateKey: keyof UserProps, updateValue: any) => Promise<void>;\n//   addToFavorites: (itemId: string) => Promise<void>;\n//   removeFromFavorites: (itemId: string) => Promise<void>;\n//   isFavorite: (itemId: string) => boolean;\n// }\n\n// // Define constants for SecureStore keys\n// export const TOKEN_KEY = 'your_token_key_here';\n// const USER_KEY = 'your_user_key_here';\n// const AUTHENTICATED_KEY = 'authenticated_key_here';\n\n// // Create AuthContext\n// export const AuthContext = createContext<AuthContextType | undefined>(undefined);\n\n// // Hook to use AuthContext\n// export const useAuth = (): AuthContextType => {\n//   const context = useContext(AuthContext);\n//   if (!context) {\n//     throw new Error(\"useAuth must be used within an AuthProvider\");\n//   }\n//   return context;\n// };\n\n// // AuthProvider component\n// export const AuthProvider = ({ children }: { children: React.ReactNode }) => {\n//   const [authState, setAuthState] = useState<AuthState>({\n//     user: null,\n//     token: null,\n//     authenticated: false,\n//   });\n\n//   const [loading, setLoading] = useState(true);\n\n//   // Load user data from SecureStore on component mount\n//   useEffect(() => {\n//     const loadUserData = async () => {\n//       try {\n//         setLoading(true);\n//         const token = await SecureStore.getItemAsync(TOKEN_KEY);\n//         const userString = await SecureStore.getItemAsync(USER_KEY);\n//         const authenticated = await SecureStore.getItemAsync(AUTHENTICATED_KEY);\n\n//         if (token && userString && authenticated === 'true') {\n//           const user = JSON.parse(userString);\n//           setAuthState({ user, token, authenticated: true });\n//         } else {\n//           setAuthState({ user: null, token: null, authenticated: false });\n//         }\n//       } catch (error) {\n//         console.error(\"Error loading user data:\", error);\n//         setAuthState({ user: null, token: null, authenticated: false });\n//       } finally {\n//         setLoading(false);\n//       }\n//     };\n\n//     loadUserData();\n//   }, []);\n\n//   // Register function\n//   const onRegister = useCallback(async (storeID: string, userData: UserProps): Promise<any> => {\n//     try {\n//       const result = await authApi.post(\"/register\", userData, {\n//         params: { store_id: storeID },\n//       });\n//       return result;\n//     } catch (error: any) {\n//       console.error(\"Registration error:\", error);\n//       throw new Error(error.response?.data?.msg || \"Registration failed. Please try again.\");\n//     }\n//   }, []);\n\n//   // Login function\n//   const onLogin = useCallback(async (storeID: string, email: string, password: string): Promise<any> => {\n//     try {\n//       const result = await authApi.post('/login', { email, password }, {\n//         params: { store_id: storeID },\n//       });\n\n//       const { user, token } = result;\n//       await SecureStore.setItemAsync(TOKEN_KEY, token);\n//       await SecureStore.setItemAsync(USER_KEY, JSON.stringify(user));\n//       await SecureStore.setItemAsync(AUTHENTICATED_KEY, 'true');\n\n//       setAuthState({ user, token, authenticated: true });\n//       return result;\n//     } catch (error: any) {\n//       console.error(\"Login error:\", error);\n//       throw new Error(error.response?.data?.msg || \"Login failed. Please try again.\");\n//     }\n//   }, []);\n\n//   // Logout function\n//   const onLogout = useCallback(async (): Promise<void> => {\n//     try {\n//       await SecureStore.deleteItemAsync(TOKEN_KEY);\n//       await SecureStore.deleteItemAsync(USER_KEY);\n//       await SecureStore.deleteItemAsync(AUTHENTICATED_KEY);\n//       setAuthState({ user: null, token: null, authenticated: false });\n//       await AsyncStorage.removeItem(\"carts\");\n//       console.log(\"User logged out successfully.\");\n//     } catch (error) {\n//       console.error(\"Error logging out:\", error);\n//       throw new Error(\"Logout failed. Please try again.\");\n//     }\n//   }, []);\n\n//   // // Update user profile function - ( works for single updates)\n//   // const updateUserItems = useCallback(\n//   //   async (updateKey: keyof UserProps, updateValue: any) => {\n//   //     if (!authState.user) throw new Error(\"No user to update\");\n\n//   //     try {\n//   //       const body = {\n//   //         email: authState.user.email,\n//   //         tableName: \"prof-website-user-table\",\n//   //         updateKey: updateKey as string,\n//   //         updateValue: updateValue,\n//   //       };\n\n//   //       const token = await getAuthToken();\n\n//   //       const result = await authApi.put(`/user?id=${authState.user.id}`, body, {\n//   //         headers: {\n//   //           Authentication: `${token}`,\n//   //         },\n//   //       });\n\n//   //       const updatedUserData = { ...authState.user, [updateKey]: updateValue };\n\n//   //       await SecureStore.setItemAsync(USER_KEY, JSON.stringify(updatedUserData));\n\n//   //       setAuthState({ ...authState, user: updatedUserData });\n\n//   //       console.log(\"User profile updated successfully:\", updatedUserData);\n//   //     } catch (error: any) {\n//   //       console.error(\"Failed to update user profile:\", error);\n//   //       throw new Error(error.response?.data?.msg || \"Failed to update user profile.\");\n//   //     }\n//   //   },\n//   //   [authState.user]\n//   // );\n\n//   // Update user profile function\n// const updateUserItems = useCallback(\n//   async (updates: Partial<UserProps>) => {\n//     if (!authState.user) throw new Error(\"No user to update\");\n\n//     try {\n//       const body = {\n//         email: authState.user.email,\n//         tableName: \"prof-website-user-table\",\n//         ...updates, // Spread the updates object to include all updated fields\n//       };\n\n//       const token = await getAuthToken();\n\n//       const result = await authApi.put(`/user?id=${authState.user.id}`, body, {\n//         headers: {\n//           Authentication: `${token}`,\n//         },\n//       });\n\n//       // Merge the updated fields into the existing user data\n//       const updatedUserData = { ...authState.user, ...updates };\n\n//       // Store the updated user data in SecureStore\n//       await SecureStore.setItemAsync(USER_KEY, JSON.stringify(updatedUserData));\n\n//       // Update the auth state with the new user data\n//       setAuthState({ ...authState, user: updatedUserData });\n\n//       console.log(\"User profile updated successfully:\", updatedUserData);\n//     } catch (error: any) {\n//       console.error(\"Failed to update user profile:\", error);\n//       throw new Error(error.response?.data?.msg || \"Failed to update user profile.\");\n//     }\n//   },\n//   [authState.user]\n// );\n\n//   // Add item to favorites\n//   const addToFavorites = useCallback(\n//     async (itemId: string) => {\n//       if (!authState.user) throw new Error(\"No user to update\");\n\n//       try {\n//         const updatedFavorites = [...(authState.user.favoriteItems || []), itemId];\n//         await updateUserItems(\"favoriteItems\", updatedFavorites);\n//         console.log(\"Added item to favorites:\", itemId);\n//       } catch (error) {\n//         console.error(\"Failed to add to favorites:\", error);\n//         throw new Error(\"Failed to add to favorites.\");\n//       }\n//     },\n//     [authState.user, updateUserItems]\n//   );\n\n//   // Remove item from favorites\n//   const removeFromFavorites = useCallback(async (itemId: string) => {\n//     if (!authState.user) throw new Error(\"No user to update\");\n\n//     try {\n//       const updatedFavorites = (authState.user.favoriteItems || []).filter(fav => fav !== itemId);\n//       await updateUserItems(\"favoriteItems\", updatedFavorites);\n//     } catch (error) {\n//       console.error(\"Failed to remove from favorites:\", error);\n//       throw new Error(\"Failed to remove from favorites.\");\n//     }\n//   }, [authState.user, updateUserItems]);\n\n//   // Check if item is favorite\n//   const isFavorite = useCallback((itemId: string): boolean => {\n//     return authState.user?.favoriteItems?.includes(itemId) || false;\n//   }, [authState.user]);\n\n//   if (loading) {\n//     return null; // Or show a loading spinner\n//   }\n\n//   return (\n//     <AuthContext.Provider\n//       value={{\n//         authState,\n//         onRegister,\n//         onLogin,\n//         onLogout,\n//         updateUserItems,\n//         addToFavorites,\n//         removeFromFavorites,\n//         isFavorite,\n//       }}\n//     >\n//       {children}\n//     </AuthContext.Provider>\n//   );\n// };\n\n// import React, { createContext, useContext, useEffect, useState, useCallback } from \"react\";\n// import * as SecureStore from 'expo-secure-store';\n// import AsyncStorage from \"@react-native-async-storage/async-storage\";\n// // import {AsyncStorage} from \"react-native\";\n// import uuid from 'react-native-uuid';\n// import { BASE_URL } from \"../utils/api\";\n// import { CONSTANTS } from \"../utils/constants\";\n// import { UserProps } from \"../models/UserProps\";\n// import { createFetchClient } from \"@/utils/createFetchClient\";\n// import { authApi } from \"@/api/Authentication\";\n\n// // Define the AuthState and Context types\n// interface AuthState {\n//   user: UserProps | null;\n//   token: string | null;\n//   authenticated: boolean;\n// }\n\n// interface AuthContextType {\n//   authState: AuthState;\n//   onRegister: (storeID: string, user: UserProps) => Promise<any>;\n//   onLogin: (storeID: string, email: string, password: string) => Promise<any>;\n//   onLogout: () => Promise<void>;\n//   updateUserItems: (updatedUser: Partial<UserProps>) => Promise<void>;\n//   addToFavorites: (itemId: string) => Promise<void>;\n//   removeFromFavorites: (itemId: string) => Promise<void>;\n//   isFavorite: (itemId: string) => boolean;\n// }\n\n// // Define constants for SecureStore keys\n// export const TOKEN_KEY = 'your_token_key_here';\n// const USER_KEY = 'your_user_key_here';\n// const AUTHENTICATED_KEY = 'authenticated_key_here';\n\n// // Create AuthContext\n// export const AuthContext = createContext<AuthContextType | undefined>(undefined);\n\n// // Hook to use AuthContext\n// export const useAuth = (): AuthContextType => {\n//   const context = useContext(AuthContext);\n//   if (!context) {\n//     throw new Error(\"useAuth must be used within an AuthProvider\");\n//   }\n//   return context;\n// };\n\n// // Initialize the fetch client for auth API\n// // const authApi = createFetchClient(\n// //   BASE_URL,\n// //   { tableName: 'prof-website-user-table', showFilteredItems: 'true' },\n// //   { 'Content-Type': 'application/json' }\n// // );\n\n// // AuthProvider component\n// export const AuthProvider = ({ children }: { children: React.ReactNode }) => {\n//   const [authState, setAuthState] = useState<AuthState>({\n//     user: null,\n//     token: null,\n//     authenticated: false,\n//   });\n\n//   // Load user data from SecureStore on component mount\n//   useEffect(() => {\n//     const loadUserData = async () => {\n//       try {\n//         const token = await SecureStore.getItemAsync(TOKEN_KEY);\n//         const userString = await SecureStore.getItemAsync(USER_KEY);\n//         const authenticated = await SecureStore.getItemAsync(AUTHENTICATED_KEY);\n\n//         if (token && userString && authenticated === 'true') {\n//           const user = JSON.parse(userString);\n//           setAuthState({ user, token, authenticated: true });\n//         } else {\n//           setAuthState({ user: null, token: null, authenticated: false });\n//         }\n//       } catch (error) {\n//         console.error(\"Error loading user data:\", error);\n//         setAuthState({ user: null, token: null, authenticated: false });\n//       }\n//     };\n\n//     loadUserData();\n//   }, []);\n\n//     const onRegister = useCallback(\n//     async (storeID: string, userData: UserProps): Promise<any> => {\n//       try {\n//         console.log(\"Registering user:\", JSON.stringify(userData)); // Log the user data being sent as JSON\n\n//         const result = await authApi.post(\"/register\", userData, {\n//           params: { store_id: storeID },\n//         });\n\n//         console.log(\"Registration API result:\", result); // Log the response from the API\n//         return result;\n//       } catch (error: any) {\n//         console.error(\"(41) Registration error:\", error);\n//         console.error(\n//           \"(4) Registration error response data:\",\n//           error.response?.data\n//         );\n//         throw new Error(\n//           error.response?.data?.msg || \"Registration failed. Please try again.\"\n//         );\n//       }\n//     },\n//     []\n//   );\n\n//   // User login function\n//   const onLogin = useCallback(async (storeID: string, email: string, password: string): Promise<any> => {\n//     try {\n//       const result = await authApi.post('/login', { email, password }, {\n//         params: { store_id: storeID },\n//       });\n\n//       const { user, token } = result;\n//       await SecureStore.setItemAsync(TOKEN_KEY, token);\n//       await SecureStore.setItemAsync(USER_KEY, JSON.stringify(user));\n//       await SecureStore.setItemAsync(AUTHENTICATED_KEY, 'true');\n\n//       setAuthState({ user, token, authenticated: true });\n//       return result;\n//     } catch (error: any) {\n//       console.error(\"Login error:\", error);\n//       throw new Error(error.response?.data?.msg || \"Login failed. Please try again.\");\n//     }\n//   }, []);\n\n//   // Logout function\n//   const onLogout = useCallback(async (): Promise<void> => {\n//     try {\n//       await SecureStore.deleteItemAsync(TOKEN_KEY);\n//       await SecureStore.deleteItemAsync(USER_KEY);\n//       await SecureStore.deleteItemAsync(AUTHENTICATED_KEY);\n//       setAuthState({ user: null, token: null, authenticated: false });\n//       await AsyncStorage.removeItem(\"carts\");\n//       console.log(\"User logged out successfully.\");\n//     } catch (error) {\n//       console.error(\"Error logging out:\", error);\n//       throw new Error(\"Logout failed. Please try again.\");\n//     }\n//   }, []);\n\n//   // Update user profile\n//   const updateUserItems = useCallback(async (updatedUser: Partial<UserProps>) => {\n//     if (!authState.user) throw new Error(\"No user to update\");\n\n//     try {\n//       const result = await authApi.put(`/users/${authState.user.id}`, updatedUser);\n//       const updatedUserData = { ...authState.user, ...updatedUser };\n\n//       await SecureStore.setItemAsync(USER_KEY, JSON.stringify(updatedUserData));\n//       setAuthState({ ...authState, user: updatedUserData });\n\n//       console.log(\"User profile updated successfully:\", updatedUserData);\n//     } catch (error: any) {\n//       console.error(\"Failed to update user profile:\", error);\n//       throw new Error(error.response?.data?.msg || \"Failed to update user profile.\");\n//     }\n//   }, [authState.user]);\n\n//   // Add item to favorites\n//   const addToFavorites = useCallback(async (itemId: string) => {\n//     if (!authState.user) throw new Error(\"No user to update\");\n\n//     try {\n//       const updatedFavorites = [...(authState.user.favoriteItems || []), itemId];\n//       await updateUserItems({ favoriteItems: updatedFavorites });\n//     } catch (error) {\n//       console.error(\"Failed to add to favorites:\", error);\n//       throw new Error(\"Failed to add to favorites.\");\n//     }\n//   }, [authState.user, updateUserItems]);\n\n//   // Remove item from favorites\n//   const removeFromFavorites = useCallback(async (itemId: string) => {\n//     if (!authState.user) throw new Error(\"No user to update\");\n\n//     try {\n//       const updatedFavorites = (authState.user.favoriteItems || []).filter(fav => fav !== itemId);\n//       await updateUserItems({ favoriteItems: updatedFavorites });\n//     } catch (error) {\n//       console.error(\"Failed to remove from favorites:\", error);\n//       throw new Error(\"Failed to remove from favorites.\");\n//     }\n//   }, [authState.user, updateUserItems]);\n\n//   // Check if item is favorite\n//   const isFavorite = useCallback((itemId: string): boolean => {\n//     return authState.user?.favoriteItems?.includes(itemId) || false;\n//   }, [authState.user]);\n\n//   return (\n//     <AuthContext.Provider\n//       value={{\n//         authState,\n//         onRegister,\n//         onLogin,\n//         onLogout,\n//         updateUserItems,\n//         addToFavorites,\n//         removeFromFavorites,\n//         isFavorite,\n//       }}\n//     >\n//       {children}\n//     </AuthContext.Provider>\n//   );\n// };\n","import { OrderModelProps } from '../models/OrderModelProps';\nimport { TOKEN_KEY } from '../contexts/AuthContext';\nimport { createFetchClient } from '../utils/createFetchClient';\nimport { BASE_URL } from '@/utils/api';\nimport { CONSTANTS } from '@/utils/constants';\n\nconst orderTableName =  'prof-website-order-table'\n\n// Initialize the fetch client with the base URL and headers\nconst clientOrdersApi = createFetchClient(\n  BASE_URL, // Base URL includes the `/prod` part\n  {}, // No default parameters for now\n  { 'Content-Type': 'application/json' } // Default headers\n);\n\n// GET ALL STORES\nexport async function getClientOrdersApi(orderID: string, email: string) {\n  try {\n    const response = await clientOrdersApi.get('/orders', {\n      params: {\n        order_id: orderID,\n        email: email,\n      },\n      headers: {\n        Authentication: TOKEN_KEY,\n        'Content-Type': 'application/json',\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error fetching orders:', error);\n    throw error; // Re-throw error for handling\n  }\n}\n\n// GET SINGLE STORE\nexport async function getClientOrderApi(id: string) {\n  try {\n    const response = await clientOrdersApi.get('/order', {\n      params: {\n        id,\n        tableName: orderTableName,\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error fetching order:', error);\n    throw error; // Re-throw error for handling\n  }\n}\n\n// POST - CREATE OR UPDATE STORE\nexport const postClientOrderApi = async (order: OrderModelProps, orderID: string, email: string, token: string) => {\n  try {\n    const response = await clientOrdersApi.post('/order', order, {\n      params: {\n        order_id: orderID,\n        email: email,\n      },\n      headers: {\n        Authentication: token,\n        'Content-Type': 'application/json',\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error posting order:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n// PUT - UPDATE STORE\nexport const updateClientOrderApi = async (order: OrderModelProps) => {\n  try {\n    const response = await clientOrdersApi.put(`/order?id=${order.id}`, order);\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error updating order:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n// DELETE STORE\nexport const deleteClientOrderApi = async (id: string) => {\n  try {\n    const response = await clientOrdersApi.delete('/order', {\n      params: { id },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error deleting order:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import { OrderModelProps } from '../models/OrderModelProps';\n// import { TOKEN_KEY } from '../contexts/AuthContext';\n// import { createFetchClient } from '../utils/createFetchClient';\n// import { BASE_URL } from '@/utils/api';\n\n// // Setup the  instance for order API\n// const ordersApi = createFetchClient(\n//   BASE_URL,\n//   {\n//     tableName: 'prof-website-order-table',\n//     showFilteredItems: 'true',\n//   },\n//   {\n//     'Content-Type': 'application/json',\n//   }\n// );\n\n\n// // GET ALL \n// export async function getOrdersApi(orderID: string, email: string) {\n//   try {\n//     const response = await ordersApi.get('/orders', {\n//       params: {\n//         order_id: orderID,\n//         email: email,\n//       },\n//       headers: {\n//         Authentication: TOKEN_KEY,\n//         'Content-Type': 'application/json',\n//       },\n//     });\n//     return response.data;\n//   } catch (error) {\n//     console.error('Error fetching orders:', error);\n//     throw error;\n//   }\n// }\n\n\n// // GET SINGLE ITEM\n// export async function getOrderApi(id: any) {\n//   try {\n//     const response = await ordersApi.get(`/order`, {\n//       params: { id },\n//     });\n//     return response.data;\n//   } catch (error) {\n//     console.error('Error fetching order:', error);\n//     throw error;\n//   }\n// }\n\n\n// // POST - Create / easy update\n// export const postOrderApi = async (order: OrderModelProps, orderID: string, email: string, token: string) => {\n//   return await ordersApi.post(`/order`, order, {\n//     params: { \n//       order_id: orderID,\n//       email: email,\n//     },\n//     headers: { \n//       Authentication: token,\n//       'Content-Type': 'application/json',\n//     },\n//   });\n// };\n\n\n// // UPDATE\n// export const updateOrderApi = async (order: OrderModelProps) => {\n//   return await ordersApi.put(`/order?id=${order.id}`, order);\n// };\n\n// // DELETE\n// export const deleteOrderApi = async (id: any) => {\n//   return await ordersApi.delete(`/order`, {\n//     params: { id },\n//   });\n// };\n\n\n\n\n\n\n\n\n\n\n// // // import { BASE_URL } from '../utils/api';\n// // // import { CONSTANTS } from '../utils/constants';\n// // import { OrderModelProps } from '../models/OrderModelProps';\n// // import { TOKEN_KEY } from '../contexts/AuthContext';\n// // import { UserProps } from '../models/UserProps';\n// // import { BASE_URL } from '../utils/api';\n// // import { CONSTANTS } from '../utils/constants';\n// // // import { BASE_URL } from '../utils/api';\n// // // import { CONSTANTS } from '../utils/constants';\n// // // import { OrderModelProps } from '../models/OrderModelProps';\n\n\n// //   const ordersApi = axios.create({\n// //     baseURL: BASE_URL,\n// //     // headers: {\n// //     //    // Authentication: TOKEN_KEY,\n// //     //     'Content-Type': 'application/json',\n// //     // },\n// //     params: {\n// //       order_id: CONSTANTS.order_id,\n// //       // email: \"\", // user?.email ?? \"\",\n// //       tableName: 'prof-website-order-table', \n// //       showFilteredItems: true\n// //     },\n// //   });\n\n\n\n// //   export const getOrdersApi = async (orderID: string, email: string) => {\n// //     return await ordersApi.get(`/orders`, {\n// //       params: { \n// //         order_id: orderID, // CONSTANTS.order_id,// orderID,\n// //         email: email,\n// //       },\n// //       headers: { \n// //         Authentication: TOKEN_KEY ,\n// //         'Content-Type': 'application/json',\n\n      \n// //       },\n\n// //     });\n   \n// //   };\n  \n\n// // export const getOrderApi = async (id: any) => {\n// //   return await ordersApi.get(`/order?id=${id}`);\n// // };\n\n\n// // // export const getOrders = async () => {\n// // //     return await ordersApi.get(`/orders`);\n// // //   };\n\n\n\n\n\n// // // export const getClientOrders = async (orderID: string, email: string) => {\n// // //   return await ordersApi.get(`/orders`, {\n// // //     params: {\n// // //       order_id: orderID, // CONSTANTS.order_id,// orderID,\n// // //       email: email,\n// // //     },\n\n// // //   });\n// // // };\n\n\n\n\n\n\n// // export const postOrderApi = async (order: OrderModelProps, orderID: string, email: string, token: string) => {\n// //   console.log(`email:::::::: ${email}`)\n  \n// //   return await ordersApi.post(`/order`, order, {\n// //     params: { \n// //       order_id: orderID, // The order ID as a query parameter\n// //       email: email,      // The email as a query parameter\n// //     },\n// //     headers: { \n// //       Authentication: token ,\n// //       'Content-Type': 'application/json',\n\n    \n// //     },\n// // });\n// // };\n\n\n\n// // export const updateOrderApi = async (order: OrderModelProps) => {\n// //   return await ordersApi.patch(`/order?id=${order.id}`, order);\n// // };\n\n// // export const deleteOrderApi = async ({ id }: { id: any }) => {\n// //   console.log(id);\n// //   return await ordersApi.delete(`/order?id=${id}`, id);\n// // };\n\n\n// // export default ordersApi;\n","import React, { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\nimport { OrderModelProps } from \"../models/OrderModelProps\";\nimport { getClientOrdersApi, postClientOrderApi, updateClientOrderApi, deleteClientOrderApi } from \"../api/ordersApi\";\nimport { useAuth } from \"./AuthContext\";\nimport { Alert } from \"react-native\";\nimport { router } from \"expo-router\";\n// import MyAlert from \"@/components/interfaces/MyAlert\";\n\ninterface ClientOrderContextProps {\n  orders: OrderModelProps[];\n  addOrder: (order: OrderModelProps) => Promise<void>;\n  removeOrder: (orderId: string) => Promise<void>;\n  updateOrder: (order: OrderModelProps) => Promise<void>;\n  getClientOrders: () => void;\n  selectedOrder: OrderModelProps | null;\n  selectOrder: (order: OrderModelProps) => void;\n  isLoading: boolean;\n  error: string | null;\n}\n\nexport const ClientOrderContext = createContext<ClientOrderContextProps | undefined>(undefined);\n\nexport const useClientOrder = () => {\n  const context = useContext(ClientOrderContext);\n  if (!context) {\n    throw new Error(\"useClientOrder must be used within an ClientOrderProvider\");\n  }\n  return context;\n};\n\nexport const ClientOrderProvider = ({ children }: { children: ReactNode }) => {\n  const { authState } = useAuth();\n  const [orders, setOrders] = useState<OrderModelProps[]>([]);\n  const [selectedOrder, setSelectedOrder] = useState<OrderModelProps | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // useEffect(() => {\n  //   if (authState?.token) {\n  //     getClientOrders(); // Initial load of orders\n  //   }\n  // }, [authState?.token]);\n\n  const addOrder = async (order: OrderModelProps) => {\n    if (!authState?.user) return;\n\n    const storeID = authState.user.store_owner_id || '';\n    const email = authState.user.email || '';\n    const token = authState?.token || \"\"\n\n    setIsLoading(true);\n    try {\n      await postClientOrderApi(order, storeID, email, token );\n      setOrders((prevOrders) => [...prevOrders, order]);\n      console.log(\"order added\", order );\n\n      // change fix\n      router.push('/')\n\n    } catch (error: any) {\n      console.error(\"Failed to add order:\", error.response?.data );\n      \n\n      // <MyAlert\n      // title=\"Order not Created\"\n      // message=\"You are missing information. Please update your store.\"\n      // onCancelPress={() => console.log(\"Cancel Pressed\")}\n      // onUpdatePress={() => router.push('/store')}\n      // />   \n      setError(error.response?.data || \"Failed to add order. Please try again later.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const removeOrder = async (orderId: string) => {\n    setIsLoading(true);\n    try {\n      await deleteClientOrderApi(orderId);\n      setOrders((prevOrders) => prevOrders.filter(order => order.id !== orderId));\n    } catch (error: any) {\n      console.error(\"Failed to remove order:\", error.response?.data?.message || error.message);\n      setError(error.response?.data?.message || \"Failed to remove order. Please try again later.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const updateOrder = async (order: OrderModelProps) => {\n    setIsLoading(true);\n    try {\n      await updateOrder(order);\n      setOrders((prevOrders) => prevOrders.map(o => o.id === order.id ? order : o));\n    } catch (error: any) {\n      console.error(\"Failed to update order:\", error.response?.data?.message || error.message);\n      setError(error.response?.data?.message || \"Failed to update order. Please try again later.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getClientOrders = async () => {\n    if (!authState?.user) return;\n\n    setIsLoading(true);\n    setError(null);\n    try {\n      const email = authState.user.email || '';\n      const store_owner_id = authState.user.store_owner_id || '';\n\n      const response = await getClientOrdersApi(store_owner_id, email);\n      const fetchedOrders = response.data;\n      setOrders(fetchedOrders);\n    } catch (error: any) {\n      console.error(\"Failed to fetch client orders:\", error.response?.data?.message || error.message);\n      setError(error.response?.data?.message || \"Failed to fetch orders. Please try again later.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const selectOrder = (order: OrderModelProps) => {\n    setSelectedOrder(order);\n  };\n\n  return (\n    <ClientOrderContext.Provider \n      value={{ \n        orders, \n        addOrder, \n        removeOrder, \n        updateOrder, \n        getClientOrders, \n        selectedOrder, \n        selectOrder, \n        isLoading, \n        error \n      }}\n    >\n      {children}\n    </ClientOrderContext.Provider>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity } from 'react-native';\nimport { COLORS, SIZES } from '@/utils/theme';\nimport convertToCurrency from '@/hooks/convertToCurrency';\nimport { OrderModelProps } from '@/models/OrderModelProps';\nimport { Link } from 'expo-router';\nimport { useClientOrder } from '@/contexts/ClientOrderContext';\nimport { Ionicons } from '@expo/vector-icons';\n\nconst ClientOrderCard: React.FC<{ order: OrderModelProps }> = ({ order }) => {\n  const { selectOrder } = useClientOrder();\n  const [status, setStatus] = useState(order.order_status);\n\n  const handleOrderPress = () => {\n    selectOrder(order);\n  };\n\n  useEffect(() => {\n    setStatus(order.order_status);\n  }, [order.order_status]);\n\n  return (\n    <Link href={`(tabs)/client-orders/(details)/${order.id}` as never} asChild>\n      <TouchableOpacity style={styles.card} onPress={handleOrderPress}>\n        <View style={styles.body}>\n          <Ionicons name=\"bag\" size={30} color={COLORS.primary} style={styles.icon} />\n          <View style={styles.details}>\n            <Text style={styles.name}>{order.to_address.name}</Text>\n            <Text style={styles.price}>{convertToCurrency(order.total)}</Text>\n            <Text style={styles.date}>Placed on: {order.order_placed_date}</Text>\n          </View>\n          <View style={styles.statusContainer}>\n            <Text style={[styles.status, getStatusStyle(status)]}>{status}</Text>\n          </View>\n        </View>\n      </TouchableOpacity>\n    </Link>\n  );\n};\n\nconst getStatusStyle = (status: string) => {\n  switch (status) {\n    case 'Fulfill Order':\n      return styles.fulfillOrderStatus;\n    case 'Mark as Shipped':\n      return styles.markAsShippedStatus;\n    case 'Shipped !':\n      return styles.shippedStatus;\n    default:\n      return styles.defaultStatus;\n  }\n};\n\nexport default ClientOrderCard;\n\nconst styles = StyleSheet.create({\n  card: {\n    backgroundColor: COLORS.white,\n    borderRadius: SIZES.medium,\n    marginBottom: SIZES.medium,\n    padding: SIZES.medium,\n    shadowColor: COLORS.black,\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 5,\n  },\n  body: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  icon: {\n    paddingRight: SIZES.medium,\n  },\n  details: {\n    flex: 1,\n  },\n  name: {\n    fontFamily: 'bold',\n    fontSize: SIZES.medium,\n    color: COLORS.primary,\n  },\n  price: {\n    fontFamily: 'regular',\n    fontSize: SIZES.medium,\n    color: COLORS.primary,\n  },\n  date: {\n    fontFamily: 'regular',\n    fontSize: SIZES.small,\n    color: COLORS.gray,\n  },\n  statusContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  status: {\n    fontFamily: 'bold',\n    fontSize: SIZES.small,\n    paddingVertical: SIZES.small,\n    paddingHorizontal: SIZES.medium,\n    borderRadius: SIZES.large,\n  },\n  fulfillOrderStatus: {\n    backgroundColor: COLORS.primary,\n    color: COLORS.white,\n  },\n  markAsShippedStatus: {\n    backgroundColor: COLORS.orange,\n    color: COLORS.black,\n  },\n  shippedStatus: {\n    backgroundColor: COLORS.green,\n    color: COLORS.black,\n  },\n  defaultStatus: {\n    backgroundColor: COLORS.blue,\n    color: COLORS.white,\n  },\n});\n\n\n\n\n\n// // OrderCard.tsx\n// import React from 'react';\n// import { StyleSheet, Text, View, Image, TouchableOpacity } from 'react-native';\n// // import { OrderModelProps } from './Order';\n// import { COLORS, SIZES } from '@/utils/theme';\n// import { Ionicons } from '@expo/vector-icons';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import { OrderModelProps } from '@/models/OrderModelProps';\n// import { Link } from 'expo-router';\n// import { useClientOrder } from '@/contexts/ClientOrderContext';\n\n\n// const ClientOrderCard: React.FC<OrderModelProps> = (order) => {\n//   const { selectOrder } = useClientOrder();\n\n//   const handleProductPress = () => {\n//     selectOrder(order);\n//   };\n//   return (\n//     // <Link href={\"(tabs)/client-orders/(create)/create-client-order\" as never} asChild>\n//     // <Link href={\"(tabs)/client-orders/(create)/create-client-order\" as never} asChild>\n\n//     <Link href={`(tabs)/client-orders/(details)/${order.id}` as never} asChild>\n\n//     <TouchableOpacity style={styles.card} onPress={handleProductPress}>\n//       <View style={styles.header}>\n//         <Text style={styles.orderId}>Order ID: {order.id}</Text>\n//         <Text style={styles.status}>{order.order_status}</Text>\n//       </View>\n      \n//       <View style={styles.body}>\n//         {/* <Image source={{ uri: props.items[0].image }} style={styles.image} /> */}\n//         <View style={styles.details}>\n//           <Text style={styles.title}>{order.title}</Text>\n//           <Text style={styles.date}>Placed on: {order.order_placed_date}</Text>\n//           <Text style={styles.price}>{convertToCurrency(order.total)}</Text>\n//         </View>\n//       </View>\n      \n//       <View style={styles.footer}>\n//         <Ionicons name=\"square\" size={24} color={COLORS.primary} />\n//       </View>\n//     </TouchableOpacity>\n//     </Link>\n//   );\n// };\n\n// export default ClientOrderCard;\n\n// const styles = StyleSheet.create({\n//   card: {\n//     backgroundColor: COLORS.white,\n//     borderRadius: SIZES.medium,\n//     marginBottom: SIZES.medium,\n//     padding: SIZES.medium,\n//     shadowColor: COLORS.black,\n//     shadowOffset: { width: 0, height: 2 },\n//     shadowOpacity: 0.1,\n//     shadowRadius: 4,\n//     elevation: 5,\n//   },\n//   header: {\n//     flexDirection: 'row',\n//     justifyContent: 'space-between',\n//     marginBottom: SIZES.small,\n//   },\n//   orderId: {\n//     fontFamily: 'bold',\n//     fontSize: SIZES.medium,\n//     color: COLORS.primary,\n//   },\n//   status: {\n//     fontFamily: 'regular',\n//     fontSize: SIZES.small,\n//     color: COLORS.gray,\n//   },\n//   body: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//   },\n//   image: {\n//     width: 60,\n//     height: 60,\n//     borderRadius: SIZES.small,\n//     marginRight: SIZES.medium,\n//   },\n//   details: {\n//     flex: 1,\n//   },\n//   title: {\n//     fontFamily: 'bold',\n//     fontSize: SIZES.medium,\n//     marginBottom: SIZES.small,\n//     color: COLORS.primary,\n//   },\n//   date: {\n//     fontFamily: 'regular',\n//     fontSize: SIZES.small,\n//     color: COLORS.gray,\n//   },\n//   price: {\n//     fontFamily: 'bold',\n//     fontSize: SIZES.medium,\n//     color: COLORS.primary,\n//     marginTop: SIZES.small,\n//   },\n//   footer: {\n//     flexDirection: 'row',\n//     justifyContent: 'flex-end',\n//     marginTop: SIZES.small,\n//   },\n// });\n","// Fetch Client Initialization Function for handling arrays\nexport function createFetchClientForItems(\n    baseURL: string,\n    defaultParams: Record<string, string | number>,\n    defaultHeaders: Record<string, string>\n  ) {\n    const fetchClientForItems = async <T = any>(\n      endpoint: string,\n      options: RequestInit & { params?: Record<string, string | number> } = {}\n    ): Promise<T[]> => {\n      // Ensure `/prod` is part of the base URL if not already present\n      const baseHasProd = baseURL.includes('/prod');\n      const normalizedBaseURL = baseHasProd ? baseURL : `${baseURL}/prod`;\n  \n      // Ensure the endpoint always starts with a leading slash\n      const normalizedEndpoint = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;\n  \n      // Create the full URL using the normalizedBaseURL and normalized endpoint\n      const url = new URL(`${normalizedBaseURL}${normalizedEndpoint}`);\n  \n      // Add default parameters to the URL\n      const params = new URLSearchParams();\n      Object.entries(defaultParams).forEach(([key, value]) => {\n        params.append(key, String(value)); // Ensure correct parameter handling\n      });\n  \n      // Append options.params if provided\n      if (options.params) {\n        Object.entries(options.params).forEach(([key, value]) => {\n          params.append(key, String(value)); // Convert number to string only when necessary\n        });\n      }\n      url.search = params.toString(); // Set search params\n  \n      // Merge default headers with any provided headers\n      const headers = new Headers({\n        ...defaultHeaders,\n        ...options.headers,\n      });\n  \n      // Log the URL, headers, and parameters for debugging\n      console.log('Request URL:', url.toString());\n      console.log('Request Params:', params.toString());\n      console.log('Request Headers:', Object.fromEntries(headers.entries()));\n  \n      // Perform the fetch request\n      const response = await fetch(url.toString(), {\n        ...options,\n        headers,\n      });\n  \n      // Check for HTTP errors\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(`HTTP error! Status: ${response.status}, ${JSON.stringify(errorData)}`);\n      }\n  \n      // Process the response and ensure it's an array\n      const data = await response.json();\n  \n      // Log the full response data before returning\n    //   console.log('Response Data:', JSON.stringify(data, null, 2));\n  \n      return Array.isArray(data) ? data : [data];\n    };\n  \n    return {\n      get: <T = any>(endpoint: string, options: Omit<RequestInit, 'method'> & { params?: Record<string, string | number> } = {}) =>\n        fetchClientForItems<T>(endpoint, { ...options, method: 'GET' }),\n  \n      post: <T = any>(endpoint: string, body: any, options: Omit<RequestInit, 'method' | 'body'> & { params?: Record<string, string | number> } = {}) =>\n        fetchClientForItems<T>(endpoint, { ...options, method: 'POST', body: JSON.stringify(body) }),\n  \n      put: <T = any>(endpoint: string, body: any, options: Omit<RequestInit, 'method' | 'body'> & { params?: Record<string, string | number> } = {}) =>\n        fetchClientForItems<T>(endpoint, { ...options, method: 'PUT', body: JSON.stringify(body) }),\n  \n      delete: <T = any>(endpoint: string, options: Omit<RequestInit, 'method'> & { params?: Record<string, string | number> } = {}) =>\n        fetchClientForItems<T>(endpoint, { ...options, method: 'DELETE' }),\n    };\n  }\n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// worked but needed more\n// // Fetch Client Initialization Function for handling arrays\n// export function createFetchClientForItems(\n//     baseURL: string,\n//     defaultParams: Record<string, string | number>,\n//     defaultHeaders: Record<string, string>\n//   ) {\n//     const fetchClientForItems = async <T = any>(\n//       endpoint: string,\n//       options: RequestInit & { params?: Record<string, string | number> } = {}\n//     ): Promise<T[]> => { // Returns an array of items\n//       // Ensure `/prod` is part of the base URL if not already present\n//       const baseHasProd = baseURL.includes('/prod');\n//       const normalizedBaseURL = baseHasProd ? baseURL : `${baseURL}/prod`;\n  \n//       // Ensure the endpoint always starts with a leading slash\n//       const normalizedEndpoint = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;\n  \n//       // Create the full URL using the normalizedBaseURL and normalized endpoint\n//       const url = new URL(`${normalizedBaseURL}${normalizedEndpoint}`);\n  \n//       // Add default parameters to the URL\n//       const params = new URLSearchParams();\n//       Object.entries(defaultParams).forEach(([key, value]) => {\n//         params.append(key, String(value)); // Ensure correct parameter handling\n//       });\n  \n//       // Append options.params if provided\n//       if (options.params) {\n//         Object.entries(options.params).forEach(([key, value]) => {\n//           params.append(key, String(value)); // Convert number to string only when necessary\n//         });\n//       }\n//       url.search = params.toString(); // Set search params\n  \n//       // Merge default headers with any provided headers\n//       const headers = new Headers({\n//         ...defaultHeaders,\n//         ...options.headers,\n//       });\n  \n//       // Log the URL, headers, and parameters for debugging\n//       console.log('Request URL:', url.toString());\n//       console.log('Request Params:', params.toString());\n//       console.log('Request Headers:', Object.fromEntries(headers.entries()));\n  \n//       // Perform the fetch request\n//       const response = await fetch(url.toString(), {\n//         ...options,\n//         headers,\n//       });\n  \n//       // Check for HTTP errors\n//       if (!response.ok) {\n//         const errorData = await response.json().catch(() => ({}));\n//         throw new Error(`HTTP error! Status: ${response.status}, ${JSON.stringify(errorData)}`);\n//       }\n  \n//       // Process the response\n//       const data = await response.json();\n  \n//       // Ensure that the response is always an array\n//       return Array.isArray(data) ? data : [data];\n//     };\n  \n//     return {\n//       get: <T = any>(endpoint: string, options: Omit<RequestInit, 'method'> & { params?: Record<string, string | number> } = {}) =>\n//         fetchClientForItems<T>(endpoint, { ...options, method: 'GET' }),\n  \n//       post: <T = any>(endpoint: string, body: any, options: Omit<RequestInit, 'method' | 'body'> & { params?: Record<string, string | number> } = {}) =>\n//         fetchClientForItems<T>(endpoint, { ...options, method: 'POST', body: JSON.stringify(body) }),\n  \n//       put: <T = any>(endpoint: string, body: any, options: Omit<RequestInit, 'method' | 'body'> & { params?: Record<string, string | number> } = {}) =>\n//         fetchClientForItems<T>(endpoint, { ...options, method: 'PUT', body: JSON.stringify(body) }),\n  \n//       delete: <T = any>(endpoint: string, options: Omit<RequestInit, 'method'> & { params?: Record<string, string | number> } = {}) =>\n//         fetchClientForItems<T>(endpoint, { ...options, method: 'DELETE' }),\n//     };\n//   }\n  ","import { ProductModelProps } from '../models/ProductModelProps';\nimport { createFetchClient } from '../utils/createFetchClient';\nimport { createFetchClientForItems } from '../utils/createFetchClientForItems';\nimport { BASE_URL } from '@/utils/api';\n\nconst productTableName = 'prof-website-product-table';\n\n// Product\nconst clientProductApi = createFetchClient(\n  BASE_URL, // Base URL includes the `/prod` part\n  {}, // No default parameters for now\n  { 'Content-Type': 'application/json' } // Default headers\n);\n\n// Products\nconst clientProductsApi = createFetchClientForItems(\n  BASE_URL,\n  { showFilteredItems: 'false' }, // Default as string\n  { 'Content-Type': 'application/json' }\n);\n\n// GET ALL PRODUCTS\nexport const getClientProductsApi = async (storeID: string, showFilteredItems: boolean) => {\n  const response = await clientProductsApi.get('/products', {\n    params: {\n      store_id: storeID,\n      tableName: productTableName,\n      showFilteredItems: showFilteredItems ? 'true' : 'false', // Convert boolean to string\n    },\n  });\n\n  return response;\n};\n\n// GET SINGLE PRODUCT\nexport async function getClientProductApi(id: string) {\n  try {\n    const response = await clientProductApi.get('/product', {\n      params: {\n        id,\n        tableName: productTableName,\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error fetching product:', error);\n    throw error; // Re-throw error for handling\n  }\n}\n\n// POST - CREATE OR UPDATE PRODUCT\nexport const postClientProductApi = async (product: ProductModelProps, productID: string, email: string, token: string) => {\n  try {\n    const response = await clientProductApi.post('/product', product, {\n      params: {\n        product_id: productID,\n        email: email,\n      },\n      headers: {\n        Authentication: token,\n        'Content-Type': 'application/json',\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error posting product:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n// PUT - UPDATE PRODUCT\nexport const updateClientProductApi = async (product: ProductModelProps) => {\n  try {\n    const response = await clientProductApi.put(`/product?id=${product.id}`, product);\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error updating product:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n// DELETE PRODUCT\nexport const deleteClientProductApi = async (id: string) => {\n  try {\n    const response = await clientProductApi.delete('/product', {\n      params: { id },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error deleting product:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n\n\n\n\n\n\n\n\n// import { ProductModelProps } from '../models/ProductModelProps';\n// import { TOKEN_KEY } from '../contexts/AuthContext';\n// import { createFetchClient } from '../utils/createFetchClient';\n// import { BASE_URL } from '@/utils/api';\n// import { CONSTANTS } from '@/utils/constants';\n// import { createFetchClientForItems } from '@/utils/createFetchClientForItems';\n\n// const productTableName =  'prof-website-product-table'\n\n// // Initialize the fetch client with the base URL and headers\n// // Initialize the fetch client with the base URL and headers\n// const clientProductApi = createFetchClient(\n//   BASE_URL, // Base URL includes the `/prod` part\n//   {}, // No default parameters for now\n//   { 'Content-Type': 'application/json' } // Default headers\n// );\n\n// const clientProductsApi = createFetchClientForItems(\n//   BASE_URL,\n//   { showFilteredItems: false },\n//   { 'Content-Type': 'application/json' }\n// );\n\n// // GET ALL STORES\n\n// // GET ALL PRODUCTS\n// export const getClientProductsApi = async (storeID: string, showFilteredItems: boolean) => {\n//   // if (!store_id) {\n//   //   throw new Error('Store ID is missing.');\n//   // }\n\n//   const response = await clientProductsApi.get('/products', {\n//     params: {\n//       store_id: storeID,\n//       tableName: productTableName,\n//       showFilteredItems: showFilteredItems ? 'true' : 'false', // Convert boolean to string\n//     },\n//   });\n\n//   return response;\n// };\n\n\n// // GET SINGLE STORE\n// export async function getClientProductApi(id: string) {\n//   try {\n//     const response = await clientProductsApi.get('/product', {\n//       params: {\n      \n//         id,\n//         tableName: productTableName,\n//       },\n//     });\n//     return response; // Return the server response\n//   } catch (error) {\n//     console.error('Error fetching product:', error);\n//     throw error; // Re-throw error for handling\n//   }\n// }\n\n// // POST - CREATE OR UPDATE STORE\n// export const postClientProductApi = async (product: ProductModelProps, productID: string, email: string, token: string) => {\n//   try {\n//     const response = await clientProductsApi.post('/product', product, {\n//       params: {\n//         product_id: productID,\n//         email: email,\n//       },\n//       headers: {\n//         Authentication: token,\n//         'Content-Type': 'application/json',\n//       },\n//     });\n//     return response; // Return the server response\n//   } catch (error) {\n//     console.error('Error posting product:', error);\n//     throw error; // Re-throw error for handling\n//   }\n// };\n\n// // PUT - UPDATE STORE\n// export const updateClientProductApi = async (product: ProductModelProps) => {\n//   try {\n//     const response = await clientProductsApi.put(`/product?id=${product.id}`, product);\n//     return response; // Return the server response\n//   } catch (error) {\n//     console.error('Error updating product:', error);\n//     throw error; // Re-throw error for handling\n//   }\n// };\n\n// // DELETE STORE\n// export const deleteClientProductApi = async (id: string) => {\n//   try {\n//     const response = await clientProductsApi.delete('/product', {\n//       params: { id },\n//     });\n//     return response; // Return the server response\n//   } catch (error) {\n//     console.error('Error deleting product:', error);\n//     throw error; // Re-throw error for handling\n//   }\n\n// };\n","import React, { createContext, useContext, useState, ReactNode, useEffect, useCallback } from 'react';\nimport { getClientProductApi, getClientProductsApi } from '@/api/productApi';\nimport { ProductModelProps } from '@/models/ProductModelProps';\nimport { CONSTANTS } from '@/utils/constants';\n\ninterface ClientProductContextProps {\n  product: ProductModelProps | null;\n  products: ProductModelProps[];\n  getClientProducts: (store_id: string) => Promise<void>;\n  getClientProduct: (product_owner_id: string) => Promise<void>;\n  addProduct: (product: ProductModelProps) => void;\n  removeProduct: () => void;\n  selectedProduct: ProductModelProps | null;\n  selectProduct: (product: ProductModelProps) => void;\n  error: string | null;\n  isLoading: boolean;\n}\n\nconst ClientProductContext = createContext<ClientProductContextProps | undefined>(undefined);\n\nexport const useClientProduct = (): ClientProductContextProps => {\n  const context = useContext(ClientProductContext);\n  if (!context) {\n    throw new Error('useClientProduct must be used within a ClientProductProvider');\n  }\n  return context;\n};\n\nexport const ClientProductProvider = ({ children }: { children: ReactNode }) => {\n  const [product, setProduct] = useState<ProductModelProps | null>(null);\n  const [products, setProducts] = useState<ProductModelProps[]>([]);\n  const [selectedProduct, setSelectedProduct] = useState<ProductModelProps | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  // Add product to the state\n  const addProduct = useCallback((newProduct: ProductModelProps) => {\n    setProduct(newProduct);\n  }, []);\n\n  // Remove the product from the state\n  const removeProduct = useCallback(() => {\n    setProduct(null);\n  }, []);\n\n  // Select a product as active\n  const selectProduct = useCallback((product: ProductModelProps) => {\n    setSelectedProduct(product);\n  }, []);\n\n  // Fetch a single product\n  const getClientProduct = useCallback(async (product_owner_id: string) => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await getClientProductApi(product_owner_id);\n      setProduct(response.data);\n      console.log(`Fetched client product Successfully`);\n      // console.log(`Fetched client product: ${JSON.stringify(response.data, null, 2)}`);\n    } catch (error: any) {\n      console.error(\"Error fetching product:\", error.message);\n      setError(error.message || \"Failed to fetch product. Please try again later.\");\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  // Fetch multiple products\n  const getClientProducts = useCallback(async (store_id: string): Promise<void> => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response: ProductModelProps[] = await getClientProductsApi(store_id, true);\n      // console.log(\"Full API response:\", JSON.stringify(response, null, 2));\n      if (!response || response.length === 0) {\n        throw new Error('No data returned from the API');\n      }\n\n      const validProducts = response.filter(product => product && product.id);\n      setProducts(validProducts);\n      // console.log(`Fetched client products: ${JSON.stringify(validProducts, null, 2)}`);\n      console.log(`Fetched client products Successfully`);\n    } catch (error: unknown) {\n      if (error instanceof Error) {\n        console.error(\"Error fetching products:\", error.message);\n        setError(error.message || \"Failed to fetch products. Please try again later.\");\n      } else {\n        console.error(\"Unknown error fetching products\");\n        setError(\"Failed to fetch products. Please try again later.\");\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  return (\n    <ClientProductContext.Provider\n      value={{\n        product,\n        products,\n        getClientProduct,\n        getClientProducts,\n        addProduct,\n        removeProduct,\n        selectedProduct,\n        selectProduct,\n        error,\n        isLoading,\n      }}\n    >\n      {children}\n    </ClientProductContext.Provider>\n  );\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { createContext, useContext, useState, ReactNode, useEffect } from 'react';\n// import { getClientProductApi, getClientProductsApi } from '@/api/productApi';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { CONSTANTS } from '@/utils/constants';\n\n// // Define the context interface for client products\n// interface ClientProductContextProps {\n//   product: ProductModelProps | null;\n//   products: ProductModelProps[]; // To store multiple products\n//   getClientProducts: (store_id: string) => void; // Fetch multiple products\n//   getClientProduct: (store_id: string) => void; // Fetch a single product\n//   addProduct: (product: ProductModelProps) => void;\n//   removeProduct: () => void;\n//   selectedProduct: ProductModelProps | null;\n//   selectProduct: (product: ProductModelProps) => void;\n//   error: string | null;\n//   isLoading: boolean;\n// }\n\n// const ClientProductContext = createContext<ClientProductContextProps | undefined>(undefined);\n\n// // Hook for accessing client product context\n// export const useClientProduct = (): ClientProductContextProps => {\n//   const context = useContext(ClientProductContext);\n//   if (!context) {\n//     throw new Error('useClientProduct must be used within a ClientProductProvider');\n//   }\n//   return context;\n// };\n\n// export const ClientProductProvider = ({ children }: { children: ReactNode }) => {\n//   const [product, setProduct] = useState<ProductModelProps | null>(null);\n//   const [products, setProducts] = useState<ProductModelProps[]>([]); // Store multiple products\n//   const [selectedProduct, setSelectedProduct] = useState<ProductModelProps | null>(null);\n//   const [error, setError] = useState<string | null>(null);\n//   const [isLoading, setIsLoading] = useState<boolean>(false);\n\n//   // Add a product to the state\n//   const addProduct = (newProduct: ProductModelProps) => setProduct(newProduct);\n\n//   // Remove the currently stored product\n//   const removeProduct = () => setProduct(null);\n\n//   // Select a product to set as the current active one\n//   const selectProduct = (product: ProductModelProps) => setSelectedProduct(product);\n\n//   // Fetch a single product using the provided product_owner_id\n//   const getClientProduct = async (product_owner_id: string) => {\n//     setIsLoading(true);\n//     setError(null); // Reset error state\n//     try {\n//       const response = await getClientProductApi(product_owner_id);\n//       setProduct(response.data);\n//       console.log(`Fetched client product: ${response.data}`);\n//     } catch (error: any) {\n//       console.error(\"Error fetching product:\", error.message);\n//       setError(error.message || \"Failed to fetch product. Please try again later.\");\n//     } finally {\n//       setIsLoading(false);\n//     }\n//   };\n    \n//   const getClientProducts = async (store_id: string): Promise<void> => {\n//     setIsLoading(true);\n//     setError(null); // Reset error state\n  \n//     try {\n//       // The response is now expected to be an array of ProductModelProps\n//       const response: ProductModelProps[] = await getClientProductsApi(store_id, true);\n  \n//       // Log the full response to check its structure\n//       console.log(\"Full API response:\", JSON.stringify(response, null, 2));\n  \n//       // Ensure the response contains data\n//       if (!response || response.length === 0) {\n//         throw new Error('No data returned from the API');\n//       }\n  \n//       // Filter valid products that have an 'id'\n//       const validProducts: ProductModelProps[] = response.filter((product: ProductModelProps) => product && product.id);\n  \n//       // Set the valid products to state\n//       setProducts(validProducts);\n//       console.log(`Fetched client products: ${JSON.stringify(validProducts, null, 2)}`);\n//     } catch (error: unknown) {\n//       // Check if the error has a message and handle it accordingly\n//       if (error instanceof Error) {\n//         console.error(\"Error fetching products:\", error.message);\n//         setError(error.message || \"Failed to fetch products. Please try again later.\");\n//       } else {\n//         console.error(\"Unknown error fetching products\");\n//         setError(\"Failed to fetch products. Please try again later.\");\n//       }\n//     } finally {\n//       setIsLoading(false);\n//     }\n//   };\n  \n  \n//   return (\n//     <ClientProductContext.Provider\n//       value={{\n//         product,\n//         products, // Pass the products array\n//         getClientProduct,\n//         getClientProducts, // Provide getClientProducts to the context\n//         addProduct,\n//         removeProduct,\n//         selectedProduct,\n//         selectProduct,\n//         error,\n//         isLoading,\n//       }}\n//     >\n//       {children}\n//     </ClientProductContext.Provider>\n//   );\n// };\n\n","// import React, { FC } from 'react';\n// import { StyleSheet, Text, View, TouchableOpacity, Image } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { SIZES } from '@/utils/theme';\n// import { CONSTANTS } from '@/utils/constants';\n// import { Link } from 'expo-router';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { useCart } from '@/contexts/CartContext';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { useTheme } from '@/contexts/ThemeContext';\n\n// export const ProductCardV2: FC<ProductModelProps> = (item) => {\n//   const { addToCart } = useCart();\n//   const { authState } = useAuth();\n//   const { selectProduct } = useClientProduct();\n//   const { colors } = useTheme();\n\n//   const handleProductSelect = (product: ProductModelProps) => {\n//     selectProduct(product);\n//   };\n\n//   const handleAddToCart = () => {\n//     if (authState?.user) {\n//       addToCart(item);\n//     } else {\n//       console.error(\"User not logged in, cannot add to cart\");\n//     }\n//   };\n\n\n// // const toggleFavorite = async () => {\n\n// //   handleProductSelect\n// //   console.log(\"Fav selected 3\")\n// //   if (selectedProduct) {\n   \n// //     setIsFavorite(!isFavorite); // Toggle UI state\n\n// //     addToFavorite(selectedProduct);\n// //   }\n// // };\n\n//   return (\n//      <Link href={`/products/${item.id}` as never} asChild>\n\n//     <View style={[styles.container, { backgroundColor: colors.card }]}>\n//       {/* Heart icon\n//       <TouchableOpacity style={styles.heartIcon} onPress={() => toggleFavorite}>\n//         <Ionicons name=\"heart-outline\" size={24} color={colors.primary} />\n//       </TouchableOpacity> */}\n\n//       <TouchableOpacity onPress={() => handleProductSelect(item)}>\n//         <View style={styles.imageContainer}>\n//           <Image \n//             style={styles.image} \n//             source={{ uri: item.images[0] || CONSTANTS.holderImageProductCard }} \n//           />\n\n           \n\n//         </View>\n\n//         <View style={styles.details}>\n//           <Text style={[styles.title, { color: colors.title }]} numberOfLines={2}>{item.name}</Text>\n//           <Text style={[styles.subtitle, { color: colors.subtitle }]} numberOfLines={1}>{item.color_code}</Text>\n//           <Text style={[styles.price, { color: colors.title }]}>{convertToCurrency(item.price)}</Text>\n\n//           {/* Add to Cart Button */}\n//           <TouchableOpacity style={[styles.addToCartButton, { backgroundColor: colors.primary }]} onPress={handleAddToCart}>\n//             <Text style={[styles.addToCartText, { color: colors.title }]}>Add To Cart</Text>\n//             <Ionicons name=\"cart-outline\" size={18} color={colors.title} style={{ marginLeft: 5 }} />\n//           </TouchableOpacity>\n//         </View>\n//       </TouchableOpacity>\n//     </View>\n//     </Link>\n//   );\n// };\n\n// const styles = StyleSheet.create({\n//   container: {\n//     width: 190,  // Adjusted width for better fit\n//     margin: 8,\n//     borderRadius: SIZES.small,\n//     borderColor: \"gray\",\n//     borderWidth: 1,\n//     overflow: 'hidden',\n//     shadowColor: '#000',\n//     shadowOffset: { width: 0, height: 2 },\n//     shadowOpacity: 0.1,\n//     shadowRadius: 5,\n//     elevation: 3,\n//   },\n//   imageContainer: {\n//     width: '100%',\n//     height: 150,  // Image height to maintain proportions\n//     borderRadius: SIZES.small,\n//     overflow: 'hidden',\n//   },\n//   image: {\n//     width: '110%',\n//     height: '100%',\n//     resizeMode: 'cover',  // Ensure the image fills the space\n//   },\n//   details: {\n//     padding: SIZES.small,\n//     alignItems: 'center',\n//   },\n//   title: {\n//     fontFamily: 'bold',\n//     fontSize: SIZES.small,\n//     marginBottom: 2,\n//     textAlign: 'center',\n//   },\n//   subtitle: {\n//     fontFamily: 'regular',\n//     fontSize: SIZES.xSmall,\n//     marginBottom: 8,\n//     textAlign: 'center',\n//   },\n//   price: {\n//     fontFamily: 'bold',\n//     fontSize: SIZES.medium,\n//     textAlign: 'center',\n//     marginBottom: 10,  // Space before the Add to Cart button\n//   },\n//   heartIcon: {\n//     position: 'absolute',\n//     top: 10,\n//     right: 10,\n//     zIndex: 1,\n//   },\n//   addToCartButton: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     justifyContent: 'center',\n//     paddingVertical: 6,\n//     paddingHorizontal: 12,\n//     borderRadius: SIZES.small,\n//   },\n//   addToCartText: {\n//     fontSize: SIZES.small,\n//     fontFamily: 'bold',\n//   },\n// });\n\n\n\n\n\n\nimport React, { FC } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, Image } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { SIZES } from '@/utils/theme';\nimport { CONSTANTS } from '@/utils/constants';\nimport { Link } from 'expo-router';\nimport { ProductModelProps } from '@/models/ProductModelProps';\nimport convertToCurrency from '@/hooks/convertToCurrency';\nimport { useClientProduct } from '@/contexts/ClientProductContext';\nimport { useCart } from '@/contexts/CartContext';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useTheme } from '@/contexts/ThemeContext'; // Using your custom useTheme\n\nexport const ProductCardV2: FC<ProductModelProps> = (item) => {\n  const { addToCart } = useCart();\n  const { authState } = useAuth();\n  const { selectProduct } = useClientProduct();\n  \n  // Using colors from the custom theme\n  const { colors } = useTheme();\n\n  const handleProductSelect = (product: ProductModelProps) => {\n    selectProduct(product);\n  };\n\n  const handleAddToCart = () => {\n    if (authState?.user) {\n      addToCart(item);\n    } else {\n      console.error(\"User not logged in, cannot add to cart\");\n    }\n  };\n\n  return (\n    <View>\n      {/* @ts-ignore */}\n      <Link href={`/products/${item.id}`} asChild>\n        <TouchableOpacity onPress={() => handleProductSelect(item)}>\n          <View style={[styles.container, { backgroundColor: colors.card }]}>\n            {/* Image */}\n            <View style={styles.imageContainer}>\n              <Image style={styles.image} source={{ uri: item.image || CONSTANTS.holderImageProductCard }} />\n            </View>\n\n            {/* Details */}\n            <View style={styles.details}>\n              <Text style={[styles.title, { color: colors.cardText }]} numberOfLines={2}>{item.name}</Text>\n              <Text style={[styles.supplier, { color: colors.cardSecondaryText }]} numberOfLines={1}>{item.color_code}</Text>\n              <Text style={[styles.price, { color: colors.primary }]}>{convertToCurrency(item.price)}</Text>\n            </View>\n\n            {/* Add to Cart Button */}\n            <TouchableOpacity style={styles.addBtn} onPress={handleAddToCart}>\n              <Ionicons name='add-circle' size={35} color={colors.primary} />\n            </TouchableOpacity>\n          </View>\n        </TouchableOpacity>\n      </Link>\n    </View>\n  );\n};\n\n// Styles\nconst styles = StyleSheet.create({\n  container: {\n    width: 182,\n    height: 240,\n    marginEnd: 22,\n    borderRadius: SIZES.medium,\n  },\n  imageContainer: {\n    flex: 1,\n    width: 170,\n    marginLeft: SIZES.small / 2,\n    marginTop: SIZES.small / 2,\n    borderRadius: SIZES.small,\n    overflow: \"hidden\",\n  },\n  image: {\n    aspectRatio: 1,\n    resizeMode: 'cover',\n  },\n  details: {\n    padding: SIZES.small,\n  },\n  title: {\n    fontFamily: \"bold\",\n    fontSize: SIZES.small,\n    marginBottom: 2,\n    height: 35,\n  },\n  supplier: {\n    fontFamily: \"regular\",\n    fontSize: SIZES.small,\n  },\n  price: {\n    fontFamily: \"bold\",\n    fontSize: SIZES.medium,\n  },\n  addBtn: {\n    position: \"absolute\",\n    bottom: SIZES.xSmall,\n    right: SIZES.xSmall,\n  },\n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { FC, useContext } from 'react';\n// import { StyleSheet, Text, View, TouchableOpacity, Image } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { COLORS, SIZES } from '@/utils/theme';\n// import { CONSTANTS } from '@/utils/constants';\n// import { Link } from 'expo-router';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { useCart } from '@/contexts/CartContext';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { useTheme } from \"@/contexts/ThemeContext\"\n\n// export const ProductCardV2: FC<ProductModelProps> = (item) => {\n//   const { addToCart } = useCart();\n//   const { authState, updateSingleUserItem } = useAuth();\n//   const { products, selectedProduct, selectProduct, isLoading, error } = useClientProduct();\n\n//   const { colors } = useTheme()\n//   const handleProductSelect = (product: ProductModelProps) => {\n//     selectProduct(product);\n//   };\n\n//   const handleAddToCart = () => {\n//     if (authState?.user) {\n//       addToCart(item);\n//     } else {\n//       console.error(\"User not logged in, cannot add to cart\");\n//       // Optionally: redirect to login page or show message\n//     }\n//   };\n\n//   return (\n//     <View>\n//       {/* @ts-ignore */}\n//       <Link href={`/products/${selectedProduct?.id}`} asChild>\n//         <TouchableOpacity onPress={() => handleProductSelect(item)}>\n//           <View style={styles.container}>\n//             {/* Image */}\n//             <View style={styles.imageContainer}>\n//               <Image style={styles.image} source={{ uri: item.image || CONSTANTS.holderImageProductCard }} />\n//             </View>\n\n//             {/* Details */}\n//             <View style={styles.details}>\n//               <Text style={styles.title} numberOfLines={2}>{item.name}</Text>\n//               <Text style={styles.supplier} numberOfLines={1}>{item.color_code}</Text>\n//               <Text style={styles.price}>{convertToCurrency(item.price)}</Text>\n//             </View>\n\n//             {/* Button */}\n//             <TouchableOpacity style={styles.addBtn} onPress={handleAddToCart}>\n//               <Ionicons name='add-circle' size={35} color={COLORS.primary} />\n//             </TouchableOpacity>\n//           </View>\n//         </TouchableOpacity>\n//       </Link>\n//     </View>\n//   );\n// };\n\n\n// // export default ProductGridCardVOne; \n\n// const styles = StyleSheet.create({\n//     container: {\n//         width: 182,\n//         height: 240,\n//         marginEnd: 22,\n//         borderRadius: SIZES.medium,\n//         backgroundColor: COLORS.secondary,\n//         // remove\n//     },\n//     imageContainer: {\n//         flex: 1,\n//         width: 170,\n//         marginLeft: SIZES.small/2,\n//         marginTop: SIZES.small/2,\n//         borderRadius: SIZES.small,\n//         overflow: \"hidden\"\n//     },\n//     image: {\n//         aspectRatio: 1,\n//         resizeMode: 'cover'\n//     },\n//     details: {\n//         padding: SIZES.small,\n        \n \n//     },\n//     title: {\n//         fontFamily: \"bold\",\n//         fontSize: SIZES.small ,\n//         marginBottom: 2,\n//         height: 35\n\n//     },\n//     supplier: {\n//         fontFamily: \"regular\",\n//         fontSize: SIZES.small,\n//         color: COLORS.gray\n\n//     },\n//     price: {\n//         fontFamily: \"bold\",\n//         fontSize: SIZES.medium,\n       \n//     },\n//     addBtn: {\n//         position:\"absolute\",\n//         bottom: SIZES.xSmall,\n//         right: SIZES.xSmall,\n        \n\n\n//     }\n\n// })\n\n","import React, { FC, useState } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, Image, Dimensions } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { Link } from 'expo-router';\nimport convertToCurrency from '@/hooks/convertToCurrency';\nimport { ProductModelProps } from '@/models/ProductModelProps';\nimport { useClientProduct } from '@/contexts/ClientProductContext';\nimport { useCart } from '@/contexts/CartContext';\nimport { useTheme } from '@/contexts/ThemeContext';\nimport { MotiView } from 'moti';\n\nconst { width } = Dimensions.get('window');\n\nexport interface ProductCardProps {\n  product: ProductModelProps;\n  viewTypeGrid: boolean; // A boolean to determine grid or list view\n}\n\nexport const ProductGridCardVOne: FC<ProductCardProps> = ({ product, viewTypeGrid }) => {\n  const { addToCart } = useCart();\n  const { selectProduct } = useClientProduct();\n  const { colors } = useTheme(); // Pulling colors from the custom theme\n  const [isPressed, setIsPressed] = useState(false); // State for controlling the button animation\n  const [isAdded, setIsAdded] = useState(false); // State to track if the product is added\n\n  const handleProductPress = () => {\n    selectProduct(product);\n  };\n\n  const handleAddToCartPress = () => {\n    setIsPressed(true);\n    addToCart(product);\n    setIsAdded(true);\n    setTimeout(() => {\n      setIsPressed(false); // Stop animation after 2 seconds\n      setTimeout(() => setIsAdded(false), 1000); // Revert background and icon after 1 second\n    }, 2000); // Spin for 2 seconds\n  };\n\n  const styles = StyleSheet.create({\n    container: {\n      width: viewTypeGrid ? width / 2 - 40 : width - 40, // Adjust width for grid or list view\n      height: viewTypeGrid ? 250 : 240, // Adjust height for grid or list view\n      margin: viewTypeGrid ? 10 : 22, // Spacing for grid or list view\n      borderRadius: 10,\n      backgroundColor: isAdded ? colors.primary : colors.cardBackground, // Change background to green when added\n      borderWidth: 2,\n      borderColor: colors.border,\n    },\n    imageContainer: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      borderRadius: 10,\n      overflow: 'hidden',\n      marginTop: 10,\n    },\n    image: {\n      width: viewTypeGrid ? 140 : 160, // Adjust image size for grid or list view\n      height: viewTypeGrid ? 140 : 160,\n      borderRadius: 10,\n      resizeMode: 'cover',\n    },\n    details: {\n      padding: 10,\n      color: colors.title,\n    },\n    title: {\n      fontFamily: 'bold',\n      fontSize: 16,\n      marginBottom: 2,\n      height: 35,\n      color: colors.title,\n    },\n    supplier: {\n      fontFamily: 'regular',\n      fontSize: 12,\n      color: colors.title,\n    },\n    price: {\n      fontFamily: 'bold',\n      fontSize: 18,\n      color: colors.title,\n    },\n    addBtn: {\n      position: 'absolute',\n      bottom: 10,\n      right: 10,\n    },\n  });\n\n  return (\n    <View>\n      <Link href={`/products/${product.id}` as never} asChild>\n        <TouchableOpacity onPress={handleProductPress}>\n          <View style={styles.container}>\n            {/* Image */}\n            <View style={styles.imageContainer}>\n              <Image style={styles.image} source={{ uri: product.images[0] }} />\n            </View>\n\n            {/* Details */}\n            <View style={styles.details}>\n              <Text style={styles.title} numberOfLines={2}>\n                {product.name}\n              </Text>\n              <Text style={styles.supplier} numberOfLines={1}>\n                {product.color_code}\n              </Text>\n              <Text style={styles.price}>{convertToCurrency(product.price)}</Text>\n              {product.item_type === 'subscription' && (\n                <Text style={{ fontSize: 10 }}>/per month</Text>\n              )}\n            </View>\n\n            {/* Animated Button */}\n            <MotiView\n              from={{ rotate: '0deg' }}\n              animate={{ rotate: isPressed ? '360deg' : '0deg' }} // Spin animation\n              transition={{\n                type: 'timing',\n                duration: 1500, // 2 seconds for the full spin\n              }}\n            >\n              <TouchableOpacity style={styles.addBtn} onPress={handleAddToCartPress}>\n                <Ionicons\n                  name={isAdded ? 'checkmark-circle' : 'add-circle'} // Change to checkmark after adding\n                  size={35}\n                  color={isAdded ? 'white' : colors.cardText} // Change color for checkmark\n                />\n              </TouchableOpacity>\n            </MotiView>\n          </View>\n        </TouchableOpacity>\n      </Link>\n    </View>\n  );\n};\n\nexport default ProductGridCardVOne;\n\n\n// import React, { FC } from 'react';\n// import { StyleSheet, Text, View, TouchableOpacity, Image, Dimensions } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { Link } from 'expo-router';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { useCart } from '@/contexts/CartContext';\n// import { useTheme } from '@/contexts/ThemeContext';\n\n// const { width } = Dimensions.get('window');\n\n// export interface ProductCardProps {\n//   product: ProductModelProps;\n//   viewTypeGrid: boolean; // A boolean to determine grid or list view\n// }\n// // ProductGridCardVOne\n// export const ProductGridCardVOne: FC<ProductCardProps> = ({ product, viewTypeGrid }) => {\n//   const { addToCart } = useCart();\n//   const { selectProduct } = useClientProduct();\n//   const { colors } = useTheme(); // Pulling colors from the custom theme\n\n//   const handleProductPress = () => {\n//     selectProduct(product);\n//   };\n\n//   const styles = StyleSheet.create({\n//     container: {\n//       width: viewTypeGrid ? width / 2 - 40 : width - 40, // Adjust width for grid or list view\n//       height: viewTypeGrid ? 250 : 240, // Adjust height for grid or list view\n//       margin: viewTypeGrid ? 10 : 22, // Spacing for grid or list view\n//       borderRadius: 10,\n//       backgroundColor: colors.cardBackground,\n//       borderWidth: 2,\n//       borderColor: colors.border,\n//     },\n//     imageContainer: {\n//       flex: 1,\n//       justifyContent: 'center',\n//       alignItems: 'center',\n//       borderRadius: 10,\n//       overflow: 'hidden',\n//       marginTop: 10,\n//     },\n//     image: {\n//       width: viewTypeGrid ? 140 : 160, // Adjust image size for grid or list view\n//       height: viewTypeGrid ? 140 : 160,\n//       borderRadius: 10,\n//       resizeMode: 'cover',\n//     },\n//     details: {\n//       padding: 10,\n//       color: colors.title,\n//     },\n//     title: {\n//       fontFamily: 'bold',\n//       fontSize: 16,\n//       marginBottom: 2,\n//       height: 35,\n//       color: colors.title,\n//     },\n//     supplier: {\n//       fontFamily: 'regular',\n//       fontSize: 12,\n//       color: colors.title,\n//     },\n//     price: {\n//       fontFamily: 'bold',\n//       fontSize: 18,\n//       color: colors.title,\n//     },\n//     addBtn: {\n//       position: 'absolute',\n//       bottom: 10,\n//       right: 10,\n//     },\n//   });\n\n//   return (\n//     <View>\n//       <Link href={`/products/${product.id}` as never} asChild>\n//         <TouchableOpacity onPress={handleProductPress}>\n//           <View style={styles.container}>\n//             <View style={styles.imageContainer}>\n//               <Image style={styles.image} source={{ uri: product.images[0] }} />\n//             </View>\n\n//             <View style={styles.details}>\n//               <Text style={styles.title} numberOfLines={2}>{product.name}</Text>\n//               <Text style={styles.supplier} numberOfLines={1}>{product.color_code}</Text>\n//               <Text style={styles.price}>{convertToCurrency(product.price)}</Text>\n//               {product.item_type === 'subscription' && (\n//                 <Text style={{ fontSize: 10 }}>/per month</Text>\n//               )}\n//             </View>\n\n//             <TouchableOpacity style={styles.addBtn} onPress={() => addToCart(product)}>\n//               <Ionicons\n//                 name={product.item_type === 'subscription' ? 'arrow-forward-circle-outline' : 'add-circle'}\n//                 size={35}\n//                 color={colors.cardText}\n//               />\n//             </TouchableOpacity>\n//           </View>\n//         </TouchableOpacity>\n//       </Link>\n//     </View>\n//   );\n// };\n\n// export default ProductGridCardVOne;\n\n\n\n\n\n\n\n\n// import React, { FC } from 'react';\n// import { StyleSheet, Text, View, TouchableOpacity, Image, Dimensions, FlatList } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { Link } from 'expo-router';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { useCart } from '@/contexts/CartContext';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { useTheme } from '@/contexts/ThemeContext';\n\n// const { width } = Dimensions.get('window');\n\n// interface ProductHScrollCardVOneProps {\n//   product: ProductModelProps;\n//   viewTypeGrid: boolean; // A boolean to determine grid or list view\n// }\n\n// export const ProductHScrollCardVOne: FC<ProductHScrollCardVOneProps> = ({ product, viewTypeGrid }) => {\n//   const { addToCart } = useCart();\n//   const { selectProduct } = useClientProduct();\n//   const { colors } = useTheme(); // Pulling colors from the custom theme\n\n//   const handleProductPress = () => {\n//     selectProduct(product);\n//   };\n\n//   const styles = StyleSheet.create({\n//     container: {\n//      // width: 162,\n//       //     height: 240,\n//       width: viewTypeGrid ? width - 40 : width / 2 - 30 , // Adjust width for grid or list view\n//       height: viewTypeGrid ? 240 : 250, // Adjust height for grid or list view\n//       margin: viewTypeGrid ? 22 : 10, // Spacing for grid or list view\n//       borderRadius: 10,\n//       backgroundColor: colors.cardBackground,\n//       borderWidth: 2,\n//       borderColor: colors.border,\n//     },\n//     imageContainer: {\n//       flex: 1,\n//       justifyContent: 'center',\n//       alignItems: 'center',\n//       borderRadius: 10,\n//       overflow: \"hidden\",\n//       marginTop: 10,\n//     },\n//     image: {\n//       width: viewTypeGrid ? 160 : 140,\n//       height: viewTypeGrid ? 160 : 140,\n//       borderRadius: 10,\n//       resizeMode: 'cover',\n//     },\n//     details: {\n//       padding: 10,\n//       color: colors.title,\n//     },\n//     title: {\n//       fontFamily: \"bold\",\n//       fontSize: 16,\n//       marginBottom: 2,\n//       height: 35,\n//       color: colors.title,\n//     },\n//     supplier: {\n//       fontFamily: \"regular\",\n//       fontSize: 12,\n//       color: colors.title,\n//     },\n//     price: {\n//       fontFamily: \"bold\",\n//       fontSize: 18,\n//       color: colors.title,\n//     },\n//     addBtn: {\n//       position: \"absolute\",\n//       bottom: 10,\n//       right: 10,\n//     },\n//   });\n\n//   return (\n//     <View>\n//       <Link href={`/products/${product.id}` as never} asChild>\n//         <TouchableOpacity onPress={handleProductPress}>\n//           <View style={styles.container}>\n//             <View style={styles.imageContainer}>\n//               <Image style={styles.image} source={{ uri: product.images[0] }} />\n//             </View>\n\n//             <View style={styles.details}>\n//               <Text style={styles.title} numberOfLines={2}>{product.name}</Text>\n//               <Text style={styles.supplier} numberOfLines={1}>{product.color_code}</Text>\n//               <Text style={styles.price}>{convertToCurrency(product.price)}</Text>\n//               {product.item_type === \"subscription\" && (\n//                 <Text style={{ fontSize: 10 }}>/per month</Text>\n//               )}\n//             </View>\n\n//             <TouchableOpacity style={styles.addBtn} onPress={() => addToCart(product)}>\n//               <Ionicons\n//                 name={product.item_type === \"subscription\" ? \"arrow-forward-circle-outline\" : 'add-circle'}\n//                 size={35}\n//                 color={colors.cardText}\n//               />\n//             </TouchableOpacity>\n//           </View>\n//         </TouchableOpacity>\n//       </Link>\n//     </View>\n//   );\n// };\n\n// export default ProductHScrollCardVOne;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { FC, useContext } from 'react';\n// import { StyleSheet, Text, View, TouchableOpacity, Image, Dimensions } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { useNavigation } from '@react-navigation/native';\n// import { SIZES } from '@/utils/theme';\n// import { CONSTANTS } from '@/utils/constants';\n// import { Link } from 'expo-router';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { useCart } from '@/contexts/CartContext';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { StoreTheme, useTheme } from '@/contexts/ThemeContext';\n// // import { useClientProduct } from '@/contexts/ClientProductContext';\n\n// const { width } = Dimensions.get('window');\n\n// export const ProductHScrollCardVOne: FC<{ product: ProductModelProps }> = ({ product }) => {\n//   const navigation = useNavigation();\n//   const { addToCart } = useCart()\n//   const { selectProduct } = useClientProduct();\n//   const { authState,  updateSingleUserItem} = useAuth()\n\n//   const { colors } = useTheme(); // Pulling colors from the custom theme\n\n//   const handleProductPress = () => {\n//     selectProduct(product);\n//   };\n\n\n// const styles = StyleSheet.create({\n//   container: {\n//     width: 162,\n//     height: 240,\n//     marginEnd: 22,\n//     borderRadius: SIZES.medium,\n//     backgroundColor:  colors.cardBackground, // COLORS.secondary,\n//     borderWidth: 2,\n//     borderColor: colors.border,\n//   },\n//   imageContainer: {\n//     flex: 1,\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//     borderRadius: SIZES.medium,\n//     overflow: \"hidden\",\n//     marginTop: SIZES.small / 2,\n//   },\n//   image: {\n//     width: 142,\n//     height: 142,\n//     borderRadius: SIZES.small,\n//     resizeMode: 'cover',\n//     shadowOpacity: 400,\n//     shadowColor: 'black',\n//   },\n//   details: {\n//     padding: SIZES.small,\n//     color: colors.title\n//   },\n//   title: {\n//     fontFamily: \"bold\",\n//     fontSize: SIZES.small,\n//     marginBottom: 2,\n//     height: 35,\n//     color: colors.title\n\n//   },\n//   supplier: {\n//     fontFamily: \"regular\",\n//     fontSize: SIZES.small,\n//     color: colors.title\n//   },\n//   price: {\n//     fontFamily: \"bold\",\n//     fontSize: SIZES.medium,\n//     color: colors.title\n\n//   },\n//   addBtn: {\n//     position: \"absolute\",\n//     bottom: SIZES.xSmall,\n//     right: SIZES.xSmall,\n//   }\n// });\n\n//   return (\n//     <View>\n//      <Link \n//       href={`/products/${product.id}` as never}  \n//       asChild\n//      >\n//         <TouchableOpacity onPress={handleProductPress}>\n//           <View style={styles.container}>\n//             {/* Image */}\n//             <View style={styles.imageContainer}>\n//               <Image \n//                 style={styles.image} \n//                 source={{ uri: product.images[0]}} \n//               />\n//             </View>\n\n//             {/* Details */}\n//             <View style={styles.details}>\n//               <Text style={styles.title} numberOfLines={2}>{product.name}</Text>\n//               <Text style={styles.supplier} numberOfLines={1}>{product.color_code}</Text>\n//               <Text style={styles.price}>{convertToCurrency(product.price)}</Text>\n//               {product.item_type === \"subscription\" && (\n//                 <Text style={{ fontSize: 10 }}>/per month</Text>\n//               )}\n//             </View>\n\n//             {/* Button */}\n//             <TouchableOpacity style={styles.addBtn} onPress={() =>  addToCart(product)}>\n//               <Ionicons \n//                 name={product.item_type === \"subscription\" ? \"arrow-forward-circle-outline\" : 'add-circle'} \n//                 size={35} \n//                 color={colors.cardText} \n//               />\n//             </TouchableOpacity>\n//           </View>\n//         </TouchableOpacity>\n//       </Link>\n//     </View>\n//   );\n// };\n\n// export default ProductHScrollCardVOne;\n","import React, { FC, useState } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, Image, Dimensions } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { Link } from 'expo-router';\nimport convertToCurrency from '@/hooks/convertToCurrency';\nimport { ProductModelProps } from '@/models/ProductModelProps';\nimport { useClientProduct } from '@/contexts/ClientProductContext';\nimport { useCart } from '@/contexts/CartContext';\nimport { useTheme } from '@/contexts/ThemeContext';\nimport { View as MotiView } from 'moti';\nimport { SIZES } from '@/utils/theme';\n\nconst { width } = Dimensions.get('window');\n\nexport const ProductHScrollCardVOne: FC<{ product: ProductModelProps }> = ({ product }) => {\n  const { addToCart } = useCart();\n  const { selectProduct } = useClientProduct();\n  const { colors } = useTheme();\n  const [isPressed, setIsPressed] = useState(false); // State to track button press\n  const [isAdded, setIsAdded] = useState(false); // State to track if product is added\n\n  const handleProductPress = () => {\n    selectProduct(product);\n  };\n\n  const handleAddToCartPress = () => {\n    setIsPressed(true); // Start animation\n    addToCart(product);\n    setIsAdded(true); // Change background and icon\n    setTimeout(() => {\n      setIsPressed(false); // Reset the animation after 2 seconds\n      setTimeout(() => setIsAdded(false), 1000); // Revert background after 1 second\n    }, 2000); // Spin for 2 seconds\n  };\n\n  const styles = StyleSheet.create({\n    container: {\n      width: 162,\n      height: 240,\n      marginEnd: 22,\n      borderRadius: SIZES.medium,\n      backgroundColor: isAdded ? colors.primary : colors.cardBackground, // Change background color when added, revert after\n      borderWidth: 2,\n      borderColor: colors.border,\n    },\n    imageContainer: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      borderRadius: SIZES.medium,\n      overflow: 'hidden',\n      marginTop: SIZES.small / 2,\n    },\n    image: {\n      width: 142,\n      height: 142,\n      borderRadius: SIZES.small,\n      resizeMode: 'cover',\n    },\n    details: {\n      padding: SIZES.small,\n      color: colors.title,\n    },\n    title: {\n      fontFamily: 'bold',\n      fontSize: SIZES.small,\n      marginBottom: 2,\n      height: 35,\n      color: colors.title,\n    },\n    supplier: {\n      fontFamily: 'regular',\n      fontSize: SIZES.small,\n      color: colors.title,\n    },\n    price: {\n      fontFamily: 'bold',\n      fontSize: SIZES.medium,\n      color: colors.title,\n    },\n    addBtn: {\n      position: 'absolute',\n      bottom: SIZES.xSmall,\n      right: SIZES.xSmall,\n    },\n  });\n\n  return (\n    <View>\n      <Link href={`/products/${product.id}` as never} asChild>\n        <TouchableOpacity onPress={handleProductPress}>\n          <View style={styles.container}>\n            {/* Image */}\n            <View style={styles.imageContainer}>\n              <Image style={styles.image} source={{ uri: product.images[0] }} />\n            </View>\n\n            {/* Details */}\n            <View style={styles.details}>\n              <Text style={styles.title} numberOfLines={2}>\n                {product.name}\n              </Text>\n              <Text style={styles.supplier} numberOfLines={1}>\n                {product.color_code}\n              </Text>\n              <Text style={styles.price}>{convertToCurrency(product.price)}</Text>\n              {product.item_type === 'subscription' && (\n                <Text style={{ fontSize: 10 }}>/per month</Text>\n              )}\n            </View>\n\n            {/* Animated Button */}\n            <MotiView\n              from={{ rotate: '0deg' }}\n              animate={{ rotate: isPressed ? '360deg' : '0deg' }} // Spin animation\n              transition={{\n                type: 'timing',\n                duration: 1500, // 2 seconds for the full spin\n              }}\n            >\n              <TouchableOpacity\n                style={styles.addBtn}\n                onPress={handleAddToCartPress}\n              >\n                <Ionicons\n                  name={isAdded ? 'checkmark-circle' : 'add-circle'} // Change to checkmark after adding\n                  size={35}\n                  color={isAdded ? 'white' : colors.cardText} // Change color for checkmark\n                />\n              </TouchableOpacity>\n            </MotiView>\n          </View>\n        </TouchableOpacity>\n      </Link>\n    </View>\n  );\n};\n\nexport default ProductHScrollCardVOne;\n\n\n\n\n// only select product once\n// import React, { FC, useState } from 'react';\n// import { StyleSheet, Text, View, TouchableOpacity, Image, Dimensions } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { useNavigation } from '@react-navigation/native';\n// import { SIZES } from '@/utils/theme';\n// import { Link } from 'expo-router';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { useCart } from '@/contexts/CartContext';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { useTheme } from '@/contexts/ThemeContext';\n// import { View as MotiView } from 'moti';\n\n// const { width } = Dimensions.get('window');\n\n// export const ProductHScrollCardVOne: FC<{ product: ProductModelProps }> = ({ product }) => {\n//   const { addToCart } = useCart();\n//   const { selectProduct } = useClientProduct();\n//   const { colors } = useTheme();\n//   const [isPressed, setIsPressed] = useState(false); // State to track button press\n//   const [isAdded, setIsAdded] = useState(false); // State to track if product is added\n\n//   const handleProductPress = () => {\n//     selectProduct(product);\n//   };\n\n//   const handleAddToCartPress = () => {\n//     setIsPressed(true); // Start animation\n//     addToCart(product);\n//     setTimeout(() => {\n//       setIsPressed(false); // Stop spinning\n//       setIsAdded(true); // Change to checkmark and green background\n//     }, 2000); // Spin for 2 seconds\n//   };\n\n//   const styles = StyleSheet.create({\n//     container: {\n//       width: 162,\n//       height: 240,\n//       marginEnd: 22,\n//       borderRadius: SIZES.medium,\n//       backgroundColor: isAdded ? 'green' : colors.cardBackground, // Change background color when added\n//       borderWidth: 2,\n//       borderColor: colors.border,\n//     },\n//     imageContainer: {\n//       flex: 1,\n//       justifyContent: 'center',\n//       alignItems: 'center',\n//       borderRadius: SIZES.medium,\n//       overflow: 'hidden',\n//       marginTop: SIZES.small / 2,\n//     },\n//     image: {\n//       width: 142,\n//       height: 142,\n//       borderRadius: SIZES.small,\n//       resizeMode: 'cover',\n//     },\n//     details: {\n//       padding: SIZES.small,\n//       color: colors.title,\n//     },\n//     title: {\n//       fontFamily: 'bold',\n//       fontSize: SIZES.small,\n//       marginBottom: 2,\n//       height: 35,\n//       color: colors.title,\n//     },\n//     supplier: {\n//       fontFamily: 'regular',\n//       fontSize: SIZES.small,\n//       color: colors.title,\n//     },\n//     price: {\n//       fontFamily: 'bold',\n//       fontSize: SIZES.medium,\n//       color: colors.title,\n//     },\n//     addBtn: {\n//       position: 'absolute',\n//       bottom: SIZES.xSmall,\n//       right: SIZES.xSmall,\n//     },\n//   });\n\n//   return (\n//     <View>\n//       <Link href={`/products/${product.id}` as never} asChild>\n//         <TouchableOpacity onPress={handleProductPress}>\n//           <View style={styles.container}>\n//             {/* Image */}\n//             <View style={styles.imageContainer}>\n//               <Image style={styles.image} source={{ uri: product.images[0] }} />\n//             </View>\n\n//             {/* Details */}\n//             <View style={styles.details}>\n//               <Text style={styles.title} numberOfLines={2}>\n//                 {product.name}\n//               </Text>\n//               <Text style={styles.supplier} numberOfLines={1}>\n//                 {product.color_code}\n//               </Text>\n//               <Text style={styles.price}>{convertToCurrency(product.price)}</Text>\n//               {product.item_type === 'subscription' && (\n//                 <Text style={{ fontSize: 10 }}>/per month</Text>\n//               )}\n//             </View>\n\n//             {/* Animated Button */}\n//             <MotiView\n//               from={{ rotate: '0deg' }}\n//               animate={{ rotate: isPressed ? '360deg' : '0deg' }} // Spin animation\n//               transition={{\n//                 type: 'timing',\n//                 duration: 2000, // 2 seconds for the full spin\n//               }}\n//             >\n//               <TouchableOpacity\n//                 style={styles.addBtn}\n//                 onPress={handleAddToCartPress}\n//                 disabled={isAdded} // Disable after adding to cart\n//               >\n//                 <Ionicons\n//                   name={isAdded ? 'checkmark-circle' : 'add-circle'} // Change to checkmark after adding\n//                   size={35}\n//                   color={isAdded ? 'white' : colors.cardText} // Change color for checkmark\n//                 />\n//               </TouchableOpacity>\n//             </MotiView>\n//           </View>\n//         </TouchableOpacity>\n//       </Link>\n//     </View>\n//   );\n// };\n\n// export default ProductHScrollCardVOne;\n\n\n\n\n\n\n\n\n\n\n\n\n\n// weird button animation - but works\n// import React, { FC, useState } from 'react';\n// import { StyleSheet, Text, View, TouchableOpacity, Image, Dimensions } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { useNavigation } from '@react-navigation/native';\n// import { SIZES } from '@/utils/theme';\n// import { Link } from 'expo-router';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { useCart } from '@/contexts/CartContext';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { useTheme } from '@/contexts/ThemeContext';\n// import { View as MotiView, AnimatePresence } from 'moti';\n\n// const { width } = Dimensions.get('window');\n\n// export const ProductHScrollCardVOne: FC<{ product: ProductModelProps }> = ({ product }) => {\n//   const { addToCart } = useCart();\n//   const { selectProduct } = useClientProduct();\n//   const { colors } = useTheme();\n//   const [isPressed, setIsPressed] = useState(false); // State for controlling the button animation\n\n//   const handleProductPress = () => {\n//     selectProduct(product);\n//   };\n\n//   const handleAddToCartPress = () => {\n//     setIsPressed(true);\n//     addToCart(product);\n//     setTimeout(() => setIsPressed(false), 300); // Reset the animation after 300ms\n//   };\n\n//   const styles = StyleSheet.create({\n//     container: {\n//       width: 162,\n//       height: 240,\n//       marginEnd: 22,\n//       borderRadius: SIZES.medium,\n//       backgroundColor: colors.cardBackground,\n//       borderWidth: 2,\n//       borderColor: colors.border,\n//     },\n//     imageContainer: {\n//       flex: 1,\n//       justifyContent: 'center',\n//       alignItems: 'center',\n//       borderRadius: SIZES.medium,\n//       overflow: 'hidden',\n//       marginTop: SIZES.small / 2,\n//     },\n//     image: {\n//       width: 142,\n//       height: 142,\n//       borderRadius: SIZES.small,\n//       resizeMode: 'cover',\n//     },\n//     details: {\n//       padding: SIZES.small,\n//       color: colors.title,\n//     },\n//     title: {\n//       fontFamily: 'bold',\n//       fontSize: SIZES.small,\n//       marginBottom: 2,\n//       height: 35,\n//       color: colors.title,\n//     },\n//     supplier: {\n//       fontFamily: 'regular',\n//       fontSize: SIZES.small,\n//       color: colors.title,\n//     },\n//     price: {\n//       fontFamily: 'bold',\n//       fontSize: SIZES.medium,\n//       color: colors.title,\n//     },\n//     addBtn: {\n//       position: 'absolute',\n//       bottom: SIZES.xSmall,\n//       right: SIZES.xSmall,\n//     },\n//   });\n\n//   return (\n//     <View>\n//       <Link href={`/products/${product.id}` as never} asChild>\n//         <TouchableOpacity onPress={handleProductPress}>\n//           <View style={styles.container}>\n//             {/* Image */}\n//             <View style={styles.imageContainer}>\n//               <Image style={styles.image} source={{ uri: product.images[0] }} />\n//             </View>\n\n//             {/* Details */}\n//             <View style={styles.details}>\n//               <Text style={styles.title} numberOfLines={2}>\n//                 {product.name}\n//               </Text>\n//               <Text style={styles.supplier} numberOfLines={1}>\n//                 {product.color_code}\n//               </Text>\n//               <Text style={styles.price}>{convertToCurrency(product.price)}</Text>\n//               {product.item_type === 'subscription' && (\n//                 <Text style={{ fontSize: 10 }}>/per month</Text>\n//               )}\n//             </View>\n\n//             {/* Animated Button */}\n//             <MotiView\n//               from={{ scale: 1 }}\n//               animate={{ scale: isPressed ? 1.2 : 1 }}\n//               transition={{ type: 'spring', stiffness: 150 }}\n//             >\n//               <TouchableOpacity\n//                 style={styles.addBtn}\n//                 onPress={handleAddToCartPress}\n//               >\n//                 <Ionicons\n//                   name={product.item_type === 'subscription' ? 'arrow-forward-circle-outline' : 'add-circle'}\n//                   size={35}\n//                   color={colors.cardText}\n//                 />\n//               </TouchableOpacity>\n//             </MotiView>\n//           </View>\n//         </TouchableOpacity>\n//       </Link>\n//     </View>\n//   );\n// };\n\n// export default ProductHScrollCardVOne;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { FC, useContext } from 'react';\n// import { StyleSheet, Text, View, TouchableOpacity, Image, Dimensions } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { useNavigation } from '@react-navigation/native';\n// import { SIZES } from '@/utils/theme';\n// import { CONSTANTS } from '@/utils/constants';\n// import { Link } from 'expo-router';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { useCart } from '@/contexts/CartContext';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { StoreTheme, useTheme } from '@/contexts/ThemeContext';\n// import { View as MotiView } from 'moti';\n\n// const { width } = Dimensions.get('window');\n\n// export const ProductHScrollCardVOne: FC<{ product: ProductModelProps }> = ({ product }) => {\n//   const navigation = useNavigation();\n//   const { addToCart } = useCart()\n//   const { selectProduct } = useClientProduct();\n//   const { authState,  updateSingleUserItem} = useAuth()\n\n//   const { colors } = useTheme(); // Pulling colors from the custom theme\n\n//   const handleProductPress = () => {\n//     selectProduct(product);\n//   };\n\n\n// const styles = StyleSheet.create({\n//   container: {\n//     width: 162,\n//     height: 240,\n//     marginEnd: 22,\n//     borderRadius: SIZES.medium,\n//     backgroundColor:  colors.cardBackground, // COLORS.secondary,\n//     borderWidth: 2,\n//     borderColor: colors.border,\n//   },\n//   imageContainer: {\n//     flex: 1,\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//     borderRadius: SIZES.medium,\n//     overflow: \"hidden\",\n//     marginTop: SIZES.small / 2,\n//   },\n//   image: {\n//     width: 142,\n//     height: 142,\n//     borderRadius: SIZES.small,\n//     resizeMode: 'cover',\n//     shadowOpacity: 400,\n//     shadowColor: 'black',\n//   },\n//   details: {\n//     padding: SIZES.small,\n//     color: colors.title\n//   },\n//   title: {\n//     fontFamily: \"bold\",\n//     fontSize: SIZES.small,\n//     marginBottom: 2,\n//     height: 35,\n//     color: colors.title\n\n//   },\n//   supplier: {\n//     fontFamily: \"regular\",\n//     fontSize: SIZES.small,\n//     color: colors.title\n//   },\n//   price: {\n//     fontFamily: \"bold\",\n//     fontSize: SIZES.medium,\n//     color: colors.title\n\n//   },\n//   addBtn: {\n//     position: \"absolute\",\n//     bottom: SIZES.xSmall,\n//     right: SIZES.xSmall,\n//   }\n// });\n\n//   return (\n//     <View>\n//      <Link \n//       href={`/products/${product.id}` as never}  \n//       asChild\n//      >\n//         <TouchableOpacity onPress={handleProductPress}>\n//           <View style={styles.container}>\n//             {/* Image */}\n//             <View style={styles.imageContainer}>\n//               <Image \n//                 style={styles.image} \n//                 source={{ uri: product.images[0]}} \n//               />\n//             </View>\n\n//             {/* Details */}\n//             <View style={styles.details}>\n//               <Text style={styles.title} numberOfLines={2}>{product.name}</Text>\n//               <Text style={styles.supplier} numberOfLines={1}>{product.color_code}</Text>\n//               <Text style={styles.price}>{convertToCurrency(product.price)}</Text>\n//               {product.item_type === \"subscription\" && (\n//                 <Text style={{ fontSize: 10 }}>/per month</Text>\n//               )}\n//             </View>\n\n//             {/* Button */}\n//             <MotiView\n//         key={`${\"addtocart\"}`} // Force re-render to reset animation\n//         from={item.imageFrom}\n//         animate={item.imageTo}\n//         transition={item.imageTransition}\n//       >\n//             <TouchableOpacity style={styles.addBtn} onPress={() =>  addToCart(product)}>\n//               <Ionicons \n//                 name={product.item_type === \"subscription\" ? \"arrow-forward-circle-outline\" : 'add-circle'} \n//                 size={35} \n//                 color={colors.cardText} \n//               />\n//             </TouchableOpacity>\n//             </MotiView>\n//           </View>\n//         </TouchableOpacity>\n//       </Link>\n//     </View>\n//   );\n// };\n\n// export default ProductHScrollCardVOne;\n","import { StyleSheet, Text, View , Image, TouchableOpacity} from 'react-native'\nimport React, { FC } from 'react'\n// import { ProductModelProps } from '../../models/ProductModelProps';\nimport { useNavigation } from '@react-navigation/native';\n// import { ProductModelProps } from '../../../models/ProductModelProps';\n// import convertToCurrency from '../../../hook/convertToCurrency';\nimport { COLORS, SHADOWS, SIZES } from '@/utils/theme';\nimport { CONSTANTS } from '@/utils/constants';\nimport { Link } from 'expo-router';\n// import { ProductModelProps } from '@/app/models/ProductModelProps';\nimport convertToCurrency from '@/hooks/convertToCurrency';\nimport { ProductModelProps } from '@/models/ProductModelProps';\n// import { COLORS, SHADOWS, SIZES } from '@/utils/theme';\n// import convertToCurrency from '@/hooks/convertToCurrency';;\n\nexport const ProductCrudCard: FC<ProductModelProps> = (item) => {\n    const navigation = useNavigation();\n    \n    return (\n    <View>\n        \n        {/* @ts-ignore */}\n        <Link href={\"productEdit/\"}>\n        <TouchableOpacity style={styles.container} onPress={() => {}}>\n\n            <View style={styles.image}>\n                <Image source={{uri: item.image ? item.image : CONSTANTS.holderImageProductCard}} style={styles.productImg} />\n            </View>\n            <View style={styles.textContainer}>\n                <Text style={styles.productTitle}>{item.name}</Text>\n                <Text style={styles.supplier}>{convertToCurrency(item.price)}</Text>\n            </View>\n        </TouchableOpacity>\n        </Link>\n    </View>\n  )\n}\n\nexport default ProductCrudCard\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        marginBottom: SIZES.small,\n        flexDirection: \"row\",\n        padding: SIZES.medium,\n        borderRadius: SIZES.small,\n        backgroundColor: \"#fff\",\n        ...SHADOWS.medium,\n        shadowColor: COLORS.lightWhite,\n        // height: 120\n    },\n    image: {\n        width: 70,\n        backgroundColor: COLORS.secondary,\n        borderRadius: SIZES.medium,\n        justifyContent: \"center\",\n        alignContent: \"center\"\n    },\n    productImg: {\n        width: '100%',\n        height: 65,\n        borderRadius: SIZES.small,\n        resizeMode: \"cover\"\n    },\n    textContainer: {\n        flex: 1,\n        marginHorizontal: SIZES.medium\n    },\n    productTitle: {\n        fontSize: SIZES.medium,\n        fontFamily: \"bold\",\n        color: COLORS.primary\n\n    },\n    supplier: {\n        fontSize: SIZES.small + 2,\n        fontFamily: \"bold\",\n        color: COLORS.gray,\n        marginTop: 3\n\n    }\n})","import { StyleSheet, Text, TouchableOpacity, View } from 'react-native'\nimport React from 'react'\n\nconst DeleteSectionView = () => {\n  return (\n    <View style={styles.deleteContainer}>\n    <Text style={styles.deleteLabel}>Delete account</Text>\n    <Text style={styles.deleteDescription}>\n      Your account will be permanently removed from the application. All your data will be lost.\n    </Text>\n    <TouchableOpacity style={styles.deleteButton}>\n      <Text style={styles.deleteButtonText}>Delete account</Text>\n    </TouchableOpacity>\n  </View>\n  )\n}\n\nexport default DeleteSectionView\n\n\nconst styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#fff',\n    },\n    header: {\n      fontSize: 24,\n      fontWeight: 'bold',\n      marginBottom: 20,\n      textAlign: 'center',\n    },\n    \n    deleteContainer: {\n      marginTop: 20,\n    },\n    deleteLabel: {\n      fontSize: 18,\n      color: 'red',\n      fontWeight: 'bold',\n      marginBottom: 10,\n    },\n    deleteDescription: {\n      fontSize: 14,\n      color: '#555',\n      marginBottom: 10,\n    },\n    deleteButton: {\n      backgroundColor: 'red',\n      padding: 10,\n      borderRadius: 5,\n    },\n    deleteButtonText: {\n      color: '#fff',\n      textAlign: 'center',\n      fontWeight: 'bold',\n    },\n  });\n  \n  ","import { StyleSheet, Text, View } from 'react-native'\nimport React from 'react'\n\nconst Divider = () => {\n  return (\n    <View style={styles.divider}/>\n  )\n}\n\nexport default Divider\n\nconst styles = StyleSheet.create({\n\n    divider: {\n        height: 1,\n        backgroundColor:  '#EAEAEA',\n        marginTop: 10,\n        marginBottom: 10\n    }\n})","import { Link } from 'expo-router';\nimport * as WebBrowser from 'expo-web-browser';\nimport React from 'react';\nimport { Platform } from 'react-native';\n\nexport function ExternalLink(\n  props: Omit<React.ComponentProps<typeof Link>, 'href'> & { href: string }\n) {\n  return (\n    <Link\n      target=\"_blank\"\n      {...props}\n      href={props.href as never}\n      onPress={(e) => {\n        if (Platform.OS !== 'web') {\n          // Prevent the default behavior of linking to the default browser on native.\n          e.preventDefault();\n          // Open the link in an in-app browser.\n          WebBrowser.openBrowserAsync(props.href as string);\n        }\n      }}\n    />\n  );\n}\n","/**\n * Learn more about Light and Dark modes:\n * https://docs.expo.io/guides/color-schemes/\n */\n\nimport { Text as DefaultText, View as DefaultView } from 'react-native';\n\n// import Colors from '@/constants/Colors';\nimport { useColorScheme } from '../hooks/useColorScheme';\nimport { COLORS } from '@/utils/theme';\n\ntype ThemeProps = {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport type TextProps = ThemeProps & DefaultText['props'];\nexport type ViewProps = ThemeProps & DefaultView['props'];\n\nexport function useThemeColor(\n  props: { light?: string; dark?: string },\n  colorName: keyof typeof COLORS.light & keyof typeof COLORS.dark\n) {\n  const theme = useColorScheme() ?? 'light';\n  const colorFromProps = props[theme];\n\n  if (colorFromProps) {\n    return colorFromProps;\n  } else {\n    return COLORS[theme][colorName];\n  }\n}\n\nexport function Text(props: TextProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const color = useThemeColor({ light: lightColor, dark: darkColor }, 'text');\n\n  return <DefaultText style={[{ color }, style]} {...otherProps} />;\n}\n\nexport function View(props: ViewProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const backgroundColor = useThemeColor({ light: lightColor, dark: darkColor }, 'background');\n\n  return <DefaultView style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","// import { Text, TextProps } from './Themed';\n\nimport { Text, TextProps } from \"./Themed\";\n\nexport function MonoText(props: TextProps) {\n  return <Text {...props} style={[props.style, { fontFamily: 'SpaceMono' }]} />;\n}\n","import React from 'react';\nimport { StyleSheet } from 'react-native';\n\nimport { ExternalLink } from './ExternalLink';\nimport { MonoText } from './StyledText';\nimport { Text, View } from './Themed';\nimport { COLORS } from '@/utils/theme';\n\n// import Colors from '@/constants/Colors';\n\nexport default function EditScreenInfo({ path }: { path: string }) {\n  return (\n    <View>\n      <View style={styles.getStartedContainer}>\n        <Text\n          style={styles.getStartedText}\n          lightColor=\"rgba(0,0,0,0.8)\"\n          darkColor=\"rgba(255,255,255,0.8)\">\n          Open up the code for this screen:\n        </Text>\n\n        <View\n          style={[styles.codeHighlightContainer, styles.homeScreenFilename]}\n          darkColor=\"rgba(255,255,255,0.05)\"\n          lightColor=\"rgba(0,0,0,0.05)\">\n          <MonoText>{path}</MonoText>\n        </View>\n\n        <Text\n          style={styles.getStartedText}\n          lightColor=\"rgba(0,0,0,0.8)\"\n          darkColor=\"rgba(255,255,255,0.8)\">\n          Change any of the text, save the file, and your app will automatically update.\n        </Text>\n      </View>\n\n      <View style={styles.helpContainer}>\n        <ExternalLink\n          style={styles.helpLink}\n          href=\"https://docs.expo.io/get-started/create-a-new-app/#opening-the-app-on-your-phonetablet\">\n          <Text style={styles.helpLinkText} lightColor={COLORS.light.tint}>\n            Tap here if your app doesn't automatically update after making changes\n          </Text>\n        </ExternalLink>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  getStartedContainer: {\n    alignItems: 'center',\n    marginHorizontal: 50,\n  },\n  homeScreenFilename: {\n    marginVertical: 7,\n  },\n  codeHighlightContainer: {\n    borderRadius: 3,\n    paddingHorizontal: 4,\n  },\n  getStartedText: {\n    fontSize: 17,\n    lineHeight: 24,\n    textAlign: 'center',\n  },\n  helpContainer: {\n    marginTop: 15,\n    marginHorizontal: 20,\n    alignItems: 'center',\n  },\n  helpLink: {\n    paddingVertical: 15,\n  },\n  helpLinkText: {\n    textAlign: 'center',\n  },\n});\n","import { StyleSheet, Text, View , Image, TouchableOpacity, Pressable} from 'react-native'\nimport React, { FC } from 'react'\nimport { ProductModelProps } from '../../models/ProductModelProps';\nimport convertToCurrency from '../../hooks/convertToCurrency';;\nimport { CONSTANTS } from '../../utils/constants';\nimport { COLORS, SHADOWS, SIZES } from '../../utils/theme';\nimport { Link, router } from 'expo-router';\n// import { CONSTANTS } from '@/utils/constants'; \n// import { COLORS, SHADOWS, SIZES } from '@/utils/theme';\n// \n\nconst ProductListItem: FC<ProductModelProps> = (item) => {\n    // const navigation = useNavigation();\n  return (\n    <View>\n        <Link href={`products/${item.id}` as never} asChild>\n        {/* <Link href={`products/${item.id}`} asChild> */}\n\n        {/* @ts-ignore */}\n      \n        {/* <TouchableOpacity style={styles.container} onPress={() => navigation.navigate(\"ProductDetails\" , { item })}> */}\n        <Pressable style={styles.container} >\n            <View style={styles.image}>\n                <Image source={{uri: item.image  ? item.image : CONSTANTS.holderImageProductCard}} style={styles.productImg} />\n            </View>\n            <View style={styles.textContainer}>\n                <Text style={styles.productTitle}>{item.name}</Text>\n                <Text style={styles.supplier}>{item.color_code}</Text>\n                <Text style={styles.supplier}>{convertToCurrency(item.price)}</Text>\n            </View>\n        </Pressable>\n     </Link>\n    </View>\n  )\n}\n\nexport default ProductListItem\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        marginBottom: SIZES.small,\n        flexDirection: \"row\",\n        padding: SIZES.medium,\n        borderRadius: SIZES.small,\n        backgroundColor: \"#fff\",\n        ...SHADOWS.medium,\n        shadowColor: COLORS.lightWhite,\n        // height: 120\n    },\n    image: {\n        width: 70,\n        backgroundColor: COLORS.secondary,\n        borderRadius: SIZES.medium,\n        justifyContent: \"center\",\n        alignContent: \"center\"\n    },\n    productImg: {\n        width: '100%',\n        height: 65,\n        borderRadius: SIZES.small,\n        resizeMode: \"cover\"\n    },\n    textContainer: {\n        flex: 1,\n        marginHorizontal: SIZES.medium\n    },\n    productTitle: {\n        fontSize: SIZES.medium,\n        fontFamily: \"bold\",\n        color: COLORS.primary\n\n    },\n    supplier: {\n        fontSize: SIZES.small + 2,\n        fontFamily: \"bold\",\n        color: COLORS.gray,\n        marginTop: 3\n\n    }\n})","import React, { useState } from 'react';\nimport { StyleSheet, Text, TextInput, View, TouchableOpacity } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\n\ninterface TextFieldVOneProps {\n  label: string;\n  value: string;\n  secureTextEntry?: boolean;\n  editable?: boolean;\n}\n\nconst TextFieldVOne: React.FC<TextFieldVOneProps> = ({\n  label,\n  value,\n  secureTextEntry = false,\n  editable = false,\n}) => {\n  const [isPasswordVisible, setIsPasswordVisible] = useState(!secureTextEntry);\n\n  const togglePasswordVisibility = () => {\n    setIsPasswordVisible((prev) => !prev);\n  };\n\n\nconst styles = StyleSheet.create({\n    content: {\n      // padding: 20,\n    },\n    label: {\n      fontSize: 16,\n      marginBottom: 10,\n    },\n    passwordContainer: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n    },\n    input: {\n      width: '80%', // Restricting the TextInput to 80% of the container's width\n      borderWidth: 1,\n      borderColor: '#ddd',\n      padding: 10,\n      marginBottom: 20,\n      borderRadius: 5,\n      backgroundColor: editable ? '#fff' : '#f5f5f5',\n    },\n    iconContainer: {\n      paddingLeft: 10, // Adding space between the TextInput and the icon\n    },\n  });\n  return (\n    <View style={styles.content}>\n      <Text style={styles.label}>{label}</Text>\n      <View style={styles.passwordContainer}>\n        <TextInput\n          value={isPasswordVisible ? value : '*********'}\n          secureTextEntry={!isPasswordVisible}\n          style={styles.input}\n          editable={editable}\n        />\n        {secureTextEntry && (\n          <TouchableOpacity onPress={togglePasswordVisibility} style={styles.iconContainer}>\n            <Ionicons\n              name={isPasswordVisible ? 'eye-outline' : 'eye-off-outline'}\n              size={20}\n              color=\"#A0A0A0\"\n            />\n          </TouchableOpacity>\n        )}\n      </View>\n    </View>\n  );\n};\n\nexport default TextFieldVOne;\n\n","import { StyleSheet, Text, View } from 'react-native'\n\n\nexport const generalStyles = StyleSheet.create({\n    center : {\n        alignItems: 'center',\n        width: '100%'\n    },\n    container: {\n        // padding: 16\n        flex: 1,\n        // backgroundColor: '#fff',\n      },\n})","\n export const stripeConverter = (amountInCents: number) => {\n    // Convert dollars to cents\n    const amount = amountInCents * 100;\n    \n    // Return the amount\n    return amount;\n};\n    ","import { ProductModelProps } from '../models/ProductModelProps';\nimport { CONSTANTS } from '../utils/constants';\nimport { BASE_URL } from '../utils/api';\nimport { createFetchClient } from '../utils/createFetchClient';\n\ninterface PaymentJsonProps  {\n  amount: number; // Example value, replace with your actual data\n  currency: string; // Example value, replace with your actual data\n  shipping_fee: number; // Example value, replace with your actual data\n  stripe_id: string; // Example value, replace with your actual data\n  app_name: string; // Example value, replace with your actual data\n}\n\n// Create a fetch client instance for payment API\nconst paymentApi = createFetchClient(\n  BASE_URL,\n  {\n    store_id: \"static\", // fix\n    email: \"static\", // user?.email ?? \"\",\n    tableName: 'prof-website-payment-table',\n    stripe_id: \"acct_1NVCh3JEHBX7gOQA\", // Example value, replace with your actual data\n    showFilteredItems: 'true',\n  },\n  {\n    Authentication: \"token\", // Replace with actual token logic if needed\n    'Content-Type': 'application/json',\n  }\n);\n\n// API Calls\n\n// GET payment data\nexport const getpayment = async () => {\n  return await paymentApi.get(`/payment`);\n};\n\n// CREATE Payment Intent\nexport const createPaymentIntent = async (paymentJsonProps: PaymentJsonProps) => {\n  try {\n    const response = await paymentApi.post('/create-payment-intent', paymentJsonProps);\n    return response;\n  } catch (error) {\n    console.error('Error creating payment intent:', error);\n    throw error;\n  }\n};\n\n// Show Stripe Hosted Page\nexport const showStripeHostedPage = async (priceID: string) => {\n  try {\n    const response = await paymentApi.post('/pay/stripe-hosted-page', { priceID });\n    return response;\n  } catch (error: any) {\n    console.error('Error:', error.message);\n    throw error;\n  }\n};\n\nexport default paymentApi;\n\n\n\n\n\n\n// // import { BASE_URL } from '../utils/api';\n// import { ProductModelProps } from '../models/ProductModelProps';\n// import { CONSTANTS } from '../utils/constants';\n// import { BASE_URL } from '../utils/api';\n// // import { BASE_URL } from '../utils/api';\n// // import { CONSTANTS } from '../utils/constants';\n// // import { CONSTANTS } from '../utils/constants';\n\n\n// interface PaymentJsonProps  {\n//   amount: number, // Example value, replace with your actual data\n//   currency: string, // Example value, replace with your actual data\n//   shipping_fee: number, // Example value, replace with your actual data\n//   stripe_id: string, // Example value, replace with your actual data\n//   app_name: string // Example value, replace with your actual data\n// };\n\n\n//   const paymentApi = axios.create({\n//     baseURL: BASE_URL,\n//     headers: {\n//         Authentication: \"token\",\n//         'Content-Type': 'application/json',\n//     },\n//     params: {\n//       store_id: CONSTANTS.store_id,\n//       email: \"\", // user?.email ?? \"\",\n//       tableName: 'prof-website-payment-table', \n//       stripe_id: \"acct_1NVCh3JEHBX7gOQA\", // Example value, replace with your actual data\n//       showFilteredItems: true\n//     },\n//   });\n\n\n// export const getpayment = async () => {\n//   return await paymentApi.get(`/payment`);\n// };\n\n\n\n// export const createPaymentIntent = async (paymentJsonProps: PaymentJsonProps) => {\n//   try {\n//     const response = await paymentApi.post('/create-payment-intent', paymentJsonProps);\n//     return response.data; // Assuming you want to return the response data\n//   } catch (error) {\n//     throw error; // Rethrow the error to handle it outside\n//   }\n// };\n\n\n// export const showStripeHostedPage = async (priceID: string) => {\n//   try {\n//     const response = await paymentApi.post('/pay/stripe-hosted-page', { priceID });\n//     return response.data; // Assuming you want to return the full response data\n//   } catch (error : any) {\n//     console.error('Error:', error.response?.data || error.message);\n//     // console.log(error.response.data)\n\n//     throw error.response?.data || error.message; // Rethrow the error with more context\n//   }\n// };\n\n\n// export default paymentApi;","import { StoreModelProps } from '../models/StoreModelProps';\nimport { TOKEN_KEY } from '../contexts/AuthContext';\nimport { createFetchClient } from '../utils/createFetchClient';\nimport { BASE_URL } from '@/utils/api';\nimport { CONSTANTS } from '@/utils/constants';\n\nconst storeTableName =  'prof-website-store-table'\n\n// Initialize the fetch client with the base URL and headers\nconst clientStoresApi = createFetchClient(\n  BASE_URL, // Base URL includes the `/prod` part\n  {}, // No default parameters for now\n  { 'Content-Type': 'application/json' } // Default headers\n);\n\n// GET ALL STORES\nexport async function getClientStoresApi(storeID: string, email: string) {\n  try {\n    const response = await clientStoresApi.get('/stores', {\n      params: {\n        store_id: storeID,\n        email: email,\n      },\n      headers: {\n        Authentication: TOKEN_KEY,\n        'Content-Type': 'application/json',\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error fetching stores:', error);\n    throw error; // Re-throw error for handling\n  }\n}\n\n// GET SINGLE STORE\nexport async function getClientStoreApi(id: string) {\n  try {\n    const response = await clientStoresApi.get('/store', {\n      params: {\n        id,\n        tableName: storeTableName,\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error fetching store:', error);\n    throw error; // Re-throw error for handling\n  }\n}\n\n// POST - CREATE OR UPDATE STORE\nexport const postClientStoreApi = async (store: StoreModelProps, storeID: string, email: string, token: string) => {\n  try {\n    const response = await clientStoresApi.post('/store', store, {\n      params: {\n        store_id: storeID,\n        email: email,\n      },\n      headers: {\n        Authentication: token,\n        'Content-Type': 'application/json',\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error posting store:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n// PUT - UPDATE STORE\nexport const updateClientStoreApi = async (store: StoreModelProps) => {\n  try {\n    const response = await clientStoresApi.put(`/store?id=${store.id}`, store);\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error updating store:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n// DELETE STORE\nexport const deleteClientStoreApi = async (id: string) => {\n  try {\n    const response = await clientStoresApi.delete('/store', {\n      params: { id },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error deleting store:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n","import React, { createContext, useContext, useState, ReactNode, useEffect } from 'react';\nimport { getClientStoreApi } from '@/api/storeApi';\nimport { StoreModelProps } from '@/models/StoreModelProps';\nimport { CONSTANTS } from '@/utils/constants';\n\n// error make sure to use client / mankind / customer ... store etc/\n\n\ninterface ClientStoreContextProps { \n  store: StoreModelProps | null;\n  getClientStore: (store_id: string) => void;\n  addStore: (store: StoreModelProps) => void;\n  removeStore: () => void;\n  selectedStore: StoreModelProps | null;\n  selectStore: (store: StoreModelProps) => void;\n  error: string | null;\n  isLoading: boolean;\n\n}\n\nconst ClientStoreContext = createContext<ClientStoreContextProps | undefined>(undefined);\n\nexport const useClientStore = (): ClientStoreContextProps => {\n  const context = useContext(ClientStoreContext);\n  if (!context) {\n    throw new Error('useClientStore must be used within a ClientStoreProvider');\n  }\n  return context;\n};\n\nexport const ClientStoreProvider = ({ children }: { children: ReactNode }) => {\n  const [store, setStore] = useState<StoreModelProps | null>(null);\n  const [selectedStore, setSelectedStore] = useState<StoreModelProps | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  const addStore = (newStore: StoreModelProps) => setStore(newStore);\n\n  const removeStore = () => setStore(null);\n\n  const selectStore = (store: StoreModelProps) => setSelectedStore(store);\n\n  const getClientStore = async (store_owner_id: string) => {\n    setIsLoading(true); // Start loading state\n    setError(null); // Reset previous errors\n    try {\n      const response = await getClientStoreApi(store_owner_id);\n      setStore(response);\n      // console.log(`Fetched client store: ${JSON.stringify(response)}`);\n    } catch (error: any) {\n      console.error(\"Error fetching store:\", error.message);\n      setError(error.message || \"Failed to fetch store. Please try again later.\");\n    } finally {\n      setIsLoading(false); // End loading state\n    }\n  };\n\n  return (\n    <ClientStoreContext.Provider\n      value={{\n        store,\n        getClientStore,\n        addStore,\n        removeStore,\n        selectedStore,\n        selectStore,\n        error,\n        isLoading\n      }}\n    >\n      {children}\n    </ClientStoreContext.Provider>\n  );\n};\n","import { Alert, Platform, StyleSheet, Text, View } from 'react-native'\nimport React, { FC, useContext, useEffect, useState } from 'react'\nimport { StripeProvider, usePlatformPay, PlatformPayButton, PlatformPay, usePaymentSheet } from '@stripe/stripe-react-native'\nimport { useFocusEffect } from '@react-navigation/native';\nimport { CartContext, useCart } from '@/contexts/CartContext';\nimport { stripeConverter } from '@/hooks/stripeConverter';\nimport { CONSTANTS } from '@/utils/constants';\nimport { createPaymentIntent } from '@/api/paymentApi';\nimport { useClientStore } from '@/contexts/ClientStoreContext';\n\n \ninterface PaymentPayScreenProps  {\n    goBack?: () => void\n    publishableKey: string\n    amount: number\n    shippingAmount: number\n    \n}\n\n\nexport const PaymentPayScreen: FC<PaymentPayScreenProps> = (props) => {\n    const [ready, setReady] = useState(false)\n    const [clientSecret, setClientSecret] = useState('')\n    const { isPlatformPaySupported, confirmPlatformPayPayment } = usePlatformPay()\n    // const { carts, totalSum, totalShipping, totalTax, grandTotal, deleteItemFromCart, clearData, decreaseFromCart} = useCart\n    const { carts, totalSum, totalShipping, totalTax, grandTotal, deleteItemFromCart, clearData, decreaseFromCart} = useCart()\n\n    const {store} = useClientStore()\n    // const {initPaymentSheet, presentPaymentSheet, loading} = usePaymentSheet()\n\n    useEffect(() => {\n        setup()\n        // initialisePaymentSheet()\n        console.log(\"Payment set up completed\")\n\n    }, [])\n\n    // useFocusEffect(\n    //     React.useCallback(() => {\n    //       // Run this function every time the screen comes into focus\n    //       console.log('Screen focused');\n    //      setup()\n    //     // initialisePaymentSheet()\n    //     console.log(\"Payment set up completed\")\n\n    //     }, [])\n    //   );\n\n    // const initialisePaymentSheet = async () => {\n    //     const { paymentInent, ephemeralKey , customer } = await fetchPaymentSheet({\n\n    //     })\n    // }\n\n\n    const setup = async () => {\n        // Perform any setup here if needed\n        if(!(await isPlatformPaySupported())) {\n            // console.log\n            Alert.alert(\n                'Error',\n                `${\n                    Platform.OS === 'android' ? 'Google': 'Apple'\n                } Pay is not supported. `\n            )\n            return\n        } else {\n           await isPlatformPaySupported()\n           // setup()\n            console.log(\"sorry..\")\n        }\n\n        const paymentData = {\n            amount: stripeConverter(props.amount), // Example value, replace with your actual data\n            currency: \"USD\", // Example value, replace with your actual data\n            shipping_fee: stripeConverter(props.shippingAmount), // Example value, replace with your actual data\n            stripe_id: \"acct_1NVCh3JEHBX7gOQA\", //  store?.stripe_id ?? \"\", //\"acct_1NVCh3JEHBX7gOQA\", // Example value, replace with your actual data\n            app_name: store?.store_name ?? \"\" // CONSTANTS.appName // Example value, replace with your actual data\n          };\n\n        const response = await createPaymentIntent(paymentData);\n\n       // const result = response.json\n        setClientSecret(response.clientSecret)\n        // console.log(clientSecret)\n        console.log(`This is the best button - ${response.clientSecret}`)\n        setReady(true)\n    }\n\n    // async function buy() {\n    //     if (ready == true) {\n    //         setup()\n    //     }\n    //     setReady(false)\n\n       \n\n    //     const { error } = await confirmPlatformPayPayment(clientSecret, {\n    //         applePay: {\n    //             cartItems: carts.map(item => ({\n    //                 label: store?.store_name, //  CONSTANTS.appName, // pay ....\n    //                 amount: String(item.price),\n    //                 paymentType: PlatformPay.PaymentType.Immediate\n    //             })),\n\n    //             // cartItems: [\n    //             //     {\n    //             //         label: CONSTANTS.appName,\n    //             //         amount: String(props.amount), // '12',// \n    //             //         paymentType: PlatformPay.PaymentType.Immediate,\n                        \n             \n                      \n    //             //     }\n    //             // ],\n    //             merchantCountryCode: \"US\",\n    //             currencyCode: 'USD',\n            \n    //             // requiredBillingContactFields: [\n    //             //     ContactField.EmailAddress,\n    //             //     ContactField.Name,\n    //             //     ContactField.PhoneNumber,\n    //             //     ContactField.PhoneticName,\n    //             //     ContactField.PostalAddress\n    //             // ]\n                \n                \n    //         },\n    //         googlePay: {\n    //             testEnv: true,\n    //             merchantName: 'My merchant name',\n    //             merchantCountryCode: 'US',\n    //             currencyCode: 'USD',\n    //             billingAddressConfig: {\n    //               format: PlatformPay.BillingAddressFormat.Full,\n    //               isPhoneNumberRequired: true,\n    //               isRequired: true,\n    //             },\n    //         },\n        \n    //     })\n\n    async function buy() {\n      try {\n        if (ready) {\n          await setup();  // Ensure setup is awaited\n        }\n        setReady(false);\n    \n        const { error } = await confirmPlatformPayPayment(clientSecret, {\n          applePay: {\n            cartItems: carts.map((item) => ({\n              label: store?.store_name || 'Your Store Name', // Ensure fallback for label\n              amount: String(item.price),\n              paymentType: PlatformPay.PaymentType.Immediate,\n            })),\n            merchantCountryCode: 'US',\n            currencyCode: 'USD',\n          },\n          googlePay: {\n            testEnv: true,\n            merchantName: 'My merchant name',\n            merchantCountryCode: 'US',\n            currencyCode: 'USD',\n            billingAddressConfig: {\n              format: PlatformPay.BillingAddressFormat.Full,\n              isPhoneNumberRequired: true,\n              isRequired: true,\n            },\n          },\n        });\n    \n        if (error) {\n          throw new Error(`Payment failed: ${error.message}`);\n        }\n    \n        Alert.alert('Success', 'The payment was confirmed successfully');\n        console.log('Success', 'The payment was confirmed successfully');\n      } catch (error: any) {\n        setReady(true); // Ensure ready is reset so the button can be used again\n        console.error('Buy error:', error);\n        Alert.alert('Payment Error', error.message || 'An error occurred during payment');\n      }\n    }\n    \n    return (\n        <View style={{}}>\n            <StripeProvider\n                publishableKey={props.publishableKey}\n                merchantIdentifier={CONSTANTS.merchant_id} // Use the correct constant\n            >\n                <View>\n                     \n                    <PlatformPayButton\n                        onPress={buy}\n                        disabled={!ready}\n                        style={styles.payButton}\n                       // appearance={PlatformPay.ButtonStyle.Black}\n                        borderRadius={4}\n                        type={5} //{PlatformPay.ButtonType.AddMoney}\n                    />\n                </View>\n            </StripeProvider> \n        </View>\n    )\n}\n\nexport default PaymentPayScreen\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n        color: 'red',\n    },\n    payButton: {\n        backgroundColor: 'black',\n        tintColor: 'red',\n        width: '100%',\n        height: 50,\n        borderRadius: 5,\n        color: 'red',\n       \n    },\n    buttons: {\n        marginTop: 20,\n    }\n})\n\n\n\n// import { Alert, Platform, StyleSheet, Text, View } from 'react-native';\n// import React, { FC, useContext, useEffect, useState } from 'react';\n// import { StripeProvider, usePlatformPay, PlatformPayButton, PlatformPay } from '@stripe/stripe-react-native';\n// import { useFocusEffect } from '@react-navigation/native';\n// import { useCart } from '../../../contexts/CartContext';\n// import { useClientStore } from '../../../contexts/ClientStoreContext';\n// import { stripeConverter } from '../../../hooks/stripeConverter';\n// import { createPaymentIntent } from '../../../api/paymentApi';\n// import { CONSTANTS } from '../../../utils/constants';\n// // import { CartContext } from '@/contexts/CartContext';\n// // import { stripeConverter } from '@/hooks/stripeConverter';\n// // import { CONSTANTS } from '@/utils/constants';\n// // import { createPaymentIntent } from '@/api/paymentApi';\n// // import { useClientStore } from '@/contexts/ClientStoreContext';\n// // import { stripeConverter } from '@/hooks/stripeConverter';\n\n// interface PaymentPayScreenProps {\n//   goBack?: () => void;\n//   publishableKey: string;\n//   amount: number;\n//   shippingAmount: number;\n// }\n\n// export const PaymentPayScreen: FC<PaymentPayScreenProps> = (props) => {\n//   const [ready, setReady] = useState(false);\n//   const [clientSecret, setClientSecret] = useState('');\n//   const { isPlatformPaySupported, confirmPlatformPayPayment } = usePlatformPay();\n//   const { store } = useClientStore();\n//   const { carts, totalSum, totalShipping, totalTax, grandTotal, quantity, deleteItemFromCart, clearData, decreaseFromCart} = useCart()\n\n//   useFocusEffect(\n//     React.useCallback(() => {\n//       console.log('Screen focused');\n//       setup();\n//     }, [])\n//   );\n\n//   const setup = async () => {\n//     try {\n//       if (!(await isPlatformPaySupported())) {\n//         Alert.alert(\n//           'Error',\n//           `${Platform.OS === 'android' ? 'Google' : 'Apple'} Pay is not supported.`\n//         );\n//         return;\n//       }\n\n//       const paymentData = {\n//         amount: stripeConverter(props.amount),\n//         currency: 'USD',\n//         shipping_fee: stripeConverter(props.shippingAmount),\n//         stripe_id:  'acct_1NVCh3JEHBX7gOQA', // store?.stripe_id ??\n//         app_name: store?.store_name ?? '',\n//       };\n\n//       const response = await createPaymentIntent(paymentData);\n//       setClientSecret(response.clientSecret);\n//       console.log(`Client Secret: ${response.clientSecret}`);\n//       setReady(true);\n//     } catch (error) {\n//       console.error('Error during setup:', error);\n//       Alert.alert('Setup Error', 'There was an error setting up the payment.');\n//     }\n//   };\n\n//   const buy = async () => {\n//     if (!ready) {\n//       return;\n//     }\n    \n//     setReady(false);\n\n//     try {\n//       const { error } = await confirmPlatformPayPayment(clientSecret, {\n//         applePay: {\n//           cartItems: carts.map(item => ({\n//             label: store?.store_name ?? CONSTANTS.appName,\n//             amount: String(item.price),\n//             paymentType: PlatformPay.PaymentType.Immediate,\n//           })),\n//           merchantCountryCode: 'US',\n//           currencyCode: 'USD',\n//         },\n//         googlePay: {\n//           testEnv: true,\n//           merchantName: 'My merchant name',\n//           merchantCountryCode: 'US',\n//           currencyCode: 'USD',\n//           billingAddressConfig: {\n//             format: PlatformPay.BillingAddressFormat.Full,\n//             isPhoneNumberRequired: true,\n//             isRequired: true,\n//           },\n//         },\n//       });\n\n//       if (error) {\n//         setReady(true);\n//         Alert.alert(`Error code: ${error.code}`, error.message);\n//         console.log(`Error code: ${error.code}`, error.message);\n//       } else {\n//         Alert.alert('Success', 'The payment was confirmed successfully');\n//         console.log('Success', 'The payment was confirmed successfully');\n//       }\n//     } catch (error) {\n//       console.error('Payment error:', error);\n//       Alert.alert('Payment Error', 'There was an error processing the payment.');\n//       setReady(true);\n//     }\n//   };\n\n//   return (\n//     <View>\n//     <View style={styles.container}>\n\n//       <StripeProvider\n//         publishableKey={props.publishableKey}\n//         merchantIdentifier={CONSTANTS.merchant_id}\n//       >\n//         <PlatformPayButton\n//           onPress={buy}\n//           disabled={!ready}\n//           style={styles.payButton}\n//           borderRadius={4}\n//           type={PlatformPay.ButtonType.Pay}\n//         />\n//       </StripeProvider>\n\n\n//       </View>\n//       </View>\n//   );\n// };\n\n// export default PaymentPayScreen;\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flex: 1,\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//   },\n//   payButton: {\n//     width: '100%',\n//     height: 50,\n//     borderRadius: 5,\n//   },\n// });\n\n\n","import { Image, StyleSheet, Text, TouchableOpacity, View } from 'react-native'\nimport React, { FC, useContext, useState } from 'react'\nimport { COLORS, SIZES } from '@/utils/theme'\n// import { ProductModelProps } from '../../models/ProductModelProps'\nimport convertToCurrency from '@/hooks/convertToCurrency';\n// import {  useCart } from '../../contexts/CartContext'\nimport { Ionicons , SimpleLineIcons} from \"@expo/vector-icons\"\n// import { stripeConverter } from '../../hook/stripeConverter'\n// import { useAuth } from '../../contexts/AuthContext'\n// import { createPaymentIntent } from '../../api/paymentApi'\nimport { CONSTANTS } from '@/utils/constants'\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useCart } from '@/contexts/CartContext';\nimport { useTheme } from \"@/contexts/ThemeContext\"\n\nconst CartCard = ({ item }: any) => {\n    const { deleteItemFromCart, addToCart , decreaseFromCart, totalSum} = useCart()\n    const [quantity, setQuantity] = useState(item.quantity);\n    const {authState, onLogout} = useAuth()\n    const [paymentStatus, setPaymentStatus] = useState('ijiij');\n\n    const { colors } = useTheme()\n    // Plus\n    const increment = () => {\n        // handlePayment(totalSum, 10)\n\n        addToCart(item)\n    };\n\n    // Minus\n    const decrement = () => {\n        // handlePayment(totalSum, 10)\n        if (item.quantity === 1) {\n          // remove it or do nothing..\n          console.log(\"do nothing\")\n\n        } else {\n            console.log(\"remove 1\")\n            decreaseFromCart(item)\n        }\n    };\n\n  \n  \n  \n  \n    // async function handlePayment(amount: number, shippingAmount: number) {\n  \n    //   //  WORKS GETTING CLIENT ID\n    //   try {\n    //     const paymentData = {\n    //       amount: stripeConverter(amount), // Example value, replace with your actual data\n    //       currency: \"USD\", // Example value, replace with your actual data\n    //       shipping_fee: stripeConverter(shippingAmount), // Example value, replace with your actual data\n    //       // (FIX) - USE STORE.STRIPE\n    //       stripe_id: \"acct_1NVCh3JEHBX7gOQA\", // Example value, replace with your actual data\n    //       app_name: CONSTANTS.appName // Example value, replace with your actual data\n    //     };\n        \n    //     const response = await createPaymentIntent(paymentData);\n    //     // Handle successful response\n    //     setPaymentStatus('Payment successful!');\n    //     console.log(response)\n    //   } catch (error) {\n    //     // Handle error\n    //     setPaymentStatus('Payment failed!');\n    //     // setPaymentStatus(error);\n  \n    //     console.error('Error creating payment intent:', error);\n    //   }\n    // };\n  \n        \n    \nconst styles = StyleSheet.create({\n    container: {\n     marginVertical: 10,\n     flexDirection: 'row'\n    },\n    img : {\n      height: 125,\n      width: \"25%\",\n      borderRadius: 10\n    },\n    cardContent: {\n        flex: 1,\n        marginHorizontal: 10\n    },\n    title: {\n        fontSize: 15,\n        color: colors.title // \"#444444\"\n    },\n    price: {\n        color: \"#797979\",\n        marginVertical: 7,\n        fontSize: 18\n    },\n    circleSizeContainer: {\n        flexDirection: \"row\",\n       \n    },\n    circle: {\n        height: 32,\n        width: 32,\n        borderRadius: 16,\n        backgroundColor: \"#444444\",\n       \n    },\n    sizeCircle: {\n        backgroundColor: \"white\",\n        height: 32,\n        width: 32,\n        borderRadius: 16,\n        justifyContent: 'center',\n        alignItems: \"center\",\n       \n    },\n    sizeText: {\n        fontSize: 18,\n        fontWeight: \"500\"\n    },\n    rating : {\n        top: SIZES.large,\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        // marginHorizontal: SIZES.large\n    \n      }, \n      ratingText: {\n        color: COLORS.gray,\n        fontFamily: \"medium\",\n         paddingHorizontal: SIZES.xSmall\n      },\n    \n  })\n\n  return (\n   \n      <View style={styles.container}>\n     \n        <Image style={styles.img} source={{uri: item.images[0]  ? item.images[0] : CONSTANTS.holderImage}}/>\n        <View style={styles.cardContent}>\n            <Text style={styles.title}>{item.name}</Text>\n            <Text style={styles.price}>{convertToCurrency(item.price)} x {item.quantity}</Text>\n            {/* <Text style={styles.price}>{convertToCurrency(item.price * item.quantity) }</Text> */}\n            \n            {/* <View style={styles.circleSizeContainer}>\n                <View style={styles.circle} />\n            </View>  */}\n                \n<View style={styles.rating}>\n        <TouchableOpacity onPress={()=>increment()}>\n          <SimpleLineIcons  style={{color: item.quantity === 1 ? colors.title : colors.title }}  name='plus' size={20} />\n        </TouchableOpacity>\n\n        <Text style={styles.ratingText}>{item.quantity}</Text>\n\n        <TouchableOpacity  onPress={()=> decrement()}>\n          <SimpleLineIcons style={{color: item.quantity === 1 ? 'gray': colors.title}} name='minus' size={20} />\n        </TouchableOpacity>\n \n\n                {/* <View style={styles.sizeCircle}> */}\n                    {/* <Text style={styles.sizeText}>L</Text>\n                </View>    */}\n\n              \n            </View>\n\n        </View>\n        <TouchableOpacity onPress={() => deleteItemFromCart(item)}>\n            <Ionicons name='trash-outline' size={SIZES.xLarge} color={colors.title}/>\n        </TouchableOpacity>    \n\n        <View>\n\n        </View>\n      </View>\n  \n  )\n}\n\nexport default CartCard\n","import React, { useContext, useState } from \"react\";\nimport {\n  Image,\n  StyleSheet,\n  FlatList,\n  Text,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport { useCart } from \"@/contexts/CartContext\";\nimport CartHeader from \"@/components/other/headers/CartHeader\";\nimport { generalStyles } from \"@/components/other/general/Styles\";\n// import CartCard from '@/components/cart/CartCard';\nimport convertToCurrency from \"@/hooks/convertToCurrency\";\nimport { CONSTANTS } from \"@/utils/constants\";\nimport PaymentPayScreen from \"./PaymentPayScreen\";\nimport CartCard from \"@/components/card/cart/CartCard\";\nimport { useTheme } from \"@/contexts/ThemeContext\";\n\n// Define the CartPageVOne component\nconst CartPageVOne: React.FC = () => {\n  const {\n    carts,\n    totalSum,\n    totalShipping,\n    totalTax,\n    grandTotal,\n    deleteItemFromCart,\n  } = useCart();\n  const [triggerValueChange, setTriggerValueChange] = useState(false);\n\n  const { colors } = useTheme();\n  // Stylesheet for the component\n  const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      padding: 15,\n      color: colors.title\n    },\n    priceContainer: {\n      marginTop: 40,\n    },\n    priceAndTitle: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      marginHorizontal: 20,\n      marginVertical: 10,\n      color: colors.title, // '#757575',\n\n    },\n    text: {\n      color: colors.title, // '#757575',\n      fontSize: 14,\n    },\n    divider: {\n      borderWidth: 1,\n      borderColor: colors.cardBorder, // '#C0C0C0',\n      borderRadius: 15,\n      marginVertical: 10,\n    },\n  });\n\n  return (\n    <View style={styles.container}>\n      {carts.length <= 0 ? (\n        <View style={generalStyles.center}>\n          <Text>Please add items to the cart</Text>\n        </View>\n      ) : (\n        <>\n          <FlatList\n            data={carts}\n            showsVerticalScrollIndicator={false}\n            keyExtractor={(item) => String(item.id)} // Convert item.id to string to ensure it's a valid key\n            contentContainerStyle={{ paddingBottom: 100 }}\n            renderItem={({ item }) => (\n              <CartCard\n                item={item}\n                deleteItemFromCart={deleteItemFromCart}\n                triggerValueChange={triggerValueChange}\n              />\n            )}\n          />\n\n          <View>\n            <View style={styles.priceContainer}>\n              <View style={styles.priceAndTitle}>\n                <Text style={styles.text}>Total:</Text>\n                <Text style={styles.text}>{convertToCurrency(totalSum)}</Text>\n              </View>\n\n              <View style={styles.priceAndTitle}>\n                <Text style={styles.text}>Shipping:</Text>\n                <Text style={styles.text}>\n                  {convertToCurrency(totalShipping)}\n                </Text>\n              </View>\n\n              <View style={styles.priceAndTitle}>\n                <Text style={styles.text}>Tax:</Text>\n                <Text style={styles.text}>{convertToCurrency(totalTax)}</Text>\n              </View>\n            </View>\n\n            <View style={styles.divider} />\n\n            <View style={styles.priceAndTitle}>\n              <Text style={styles.text}>Grand Total:</Text>\n              <Text\n                // style={[styles.text, { color: \"black\", fontWeight: \"700\" }]}\n                style={[styles.text, {  fontWeight: \"700\" }]}\n                >\n                {convertToCurrency(grandTotal)}\n              </Text>\n            </View>\n          </View>\n\n          <View style={{ paddingTop: 30 }}>\n            <PaymentPayScreen\n              publishableKey={CONSTANTS.publishableKeyTest}\n              amount={totalSum}\n              shippingAmount={totalShipping}\n            />\n          </View>\n\n          <View style={{ paddingBottom: 10 }} />\n        </>\n      )}\n    </View>\n  );\n};\n\nexport default CartPageVOne;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import { Image, StyleSheet, FlatList, Text, TouchableOpacity, View } from 'react-native'\n// import React, { useContext, useState } from 'react'\n// import { SafeAreaView } from 'react-native-safe-area-context'\n// import { CartContext } from '@/contexts/CartContext'\n// import CartHeader from '@/components/other/headers/CartHeader'\n// import { generalStyles } from '@/components/other/general/Styles'\n// import CartCard from '@/components/other/cart/CartCard'\n// // import convertToCurrency from '@/hooks/convertToCurrency'\n// import { CONSTANTS } from '@/utils/constants'\n// import PaymentPayScreen from './PaymentPayScreen'\n// import convertToCurrency from '@/hooks/convertToCurrency'\n// // import CartHeader from '../components/headers/CartHeader'\n// // import { Avatar, Divider } from 'react-native-paper'\n// // import LinearGradient from 'react-native-linear-gradient' // cause error\n// // import CartCard from '../components/cart/CartCard'\n// // import { Ionicons , Fontisto} from '@expo/vector-icons'\n// // import { COLORS } from '../utils/theme'\n// // import { CartContext } from '../contexts/CartContext'\n// // import convertToCurrency from '../hook/convertToCurrency'\n// // import { Item } from 'react-native-paper/lib/typescript/components/Drawer/Drawer'\n// // import PaymentButton from '../components/buttons/CheckoutButton'\n// // import PaymentPayScreen from './PaymentPayScreen'\n// // import { CONSTANTS } from '../utils/constants'\n// // import CheckoutButton from '../components/buttons/CheckoutButton'\n// // import { generalStyles } from '../components/general/Styles'\n// // import { useFocusEffect } from '@react-navigation/native'\n\n// // export interface CartProps {\n// //   carts: []\n// // }\n\n// const CartPageVOne = () => {\n\n//   const { carts, totalSum, totalShipping, totalTax, grandTotal, quantity, deleteItemFromCart, clearData, decreaseFromCart} = useContext(CartContext)\n\n//   const [triggerValueChange, setTriggerValueChange] = useState(false)\n//   // useFocusEffect(\n//   //   React.useCallback(() => {\n//   //     // Run this function every time the screen comes into focus\n\n//   //     if (quantity <= 0    ){ // || carts.length <= 0\n//   //       setQuantity(0)\n//   //     }\n//   //   }, [])\n//   // );\n\n//   return (\n//     <View style={styles.container}>\n//       {/* <CartHeader/> */}\n\n//       {carts.length <= 0 ? (\n\n//           <>\n//           <View style={generalStyles.center}>\n//             <Text>\n//               Please add items to the cart\n//             </Text>\n//           </View>\n//           </>\n//       ): (\n// <>\n//         <FlatList\n//         data={carts}\n//         showsVerticalScrollIndicator={false}\n//         keyExtractor={(_, index) => index}\n//         ListHeaderComponent={\n//           <></>\n//         }\n//         contentContainerStyle={{\n//           paddingBottom: 100\n//         }}\n//         renderItem={({item}) => (\n//           // <CartCard item={item} delteItemFromCart={deleteItemFromCart} />\n//           <CartCard item={item} delteItemFromCart={deleteItemFromCart} triggerValueChange={triggerValueChange} />\n//         )}\n//         ListFooterComponent={\n//          <></>\n//         }\n//     />\n\n// <View>\n// <>\n//           <View style={styles.priceContainer}>\n\n//           <View  style={styles.priceAndTitle}>\n//             <Text style={styles.text}>Total:</Text>\n//             <Text style={styles.text}>{convertToCurrency(totalSum)}</Text>\n//           </View>\n\n//           <View  style={styles.priceAndTitle}>\n//             <Text style={styles.text}>Shipping:</Text>\n//             <Text style={styles.text}>{convertToCurrency(totalShipping)}</Text>\n//           </View>\n//           <View  style={styles.priceAndTitle}>\n//             <Text style={styles.text}>Tax:</Text>\n//             <Text style={styles.text}>{convertToCurrency(totalTax)}</Text>\n//           </View>\n//           {/* <View  style={styles.priceAndTitle}>\n//             <Text style={styles.text}>Shipping:</Text>\n//             <Text style={styles.text}>$0.0</Text>\n//           </View> */}\n\n//         </View>\n\n//         <View style={styles.divider}/>\n\n//           <View  style={styles.priceAndTitle}>\n//             <Text style={styles.text}>Grand Total:</Text>\n//             <Text style={[styles.text , {color: \"black\", fontWeight: \"700\"} ]}>{convertToCurrency(grandTotal)}</Text>\n//           </View>\n\n//         </>\n//       </View>\n//       <View style={{paddingTop: 30}}>\n//         <PaymentPayScreen\n//            publishableKey={CONSTANTS.publishableKeyTest}\n//           // publishableKey={CONSTANTS.publishableKeyLive}\n//           amount={totalSum}\n//           shippingAmount={totalShipping}\n//         />\n//     </View>\n\n//       <View style={{paddingBottom: 50}}></View>\n\n// </>\n//       )}\n\n//     </View>\n\n//   )\n// }\n\n// export default CartPageVOne\n\n// const styles = StyleSheet.create({\n\n//   headerContainer: {\n//     marginBottom: 20\n//   },\n//   container: {\n//     flex  : 1,\n//     padding: 15\n//   },\n//   priceContainer :{\n//     marginTop: 40\n//   },\n//   priceAndTitle: {\n//     flexDirection: 'row',\n//     justifyContent: \"space-between\",\n//     marginHorizontal: 20,\n//     marginVertical: 10\n//   },\n//   text: {\n//     color: \"#757575\",\n//     fontSize: 14\n//   },\n//   divider: {\n//     borderWidth: 1,\n//     borderColor: \"#C0C0C0\",\n//     borderRadius: 15,\n//     marginVertical: 10\n//   },\n//   checkoutContainer: {\n//     backgroundColor: \"black\",//  \"#E96E6E\",\n//     width: \"100%\",\n//     marginVertical: 30,\n//     borderRadius: 10\n//   },\n//   buttonText: {\n//     fontSize: 20,\n//     color: \"white\",\n//     textAlign: \"center\",\n//     padding: 10,\n//     fontWeight: \"700\"\n\n//   }\n\n// })\n\n// // rnef\n","import { CollectionModelProps } from '../models/CollectionModelProps';\nimport { createFetchClient } from '../utils/createFetchClient';\nimport { createFetchClientForItems } from '../utils/createFetchClientForItems';\nimport { BASE_URL } from '@/utils/api';\n\nconst collectionTableName = 'prof-website-collection-table';\n\n// Collection\nconst clientCollectionApi = createFetchClient(\n  BASE_URL, // Base URL includes the `/prod` part\n  {}, // No default parameters for now\n  { 'Content-Type': 'application/json' } // Default headers\n);\n\n// Collections\nconst clientCollectionsApi = createFetchClientForItems(\n  BASE_URL,\n  {},{}\n  // { showFilteredItems: 'false' }, // Default as string\n  // { 'Content-Type': 'application/json' }\n);\n\n// GET ALL PRODUCTS\nexport const getClientCollectionsApi = async (storeID: string, showFilteredItems: boolean) => {\n  const response = await clientCollectionsApi.get('/collections', {\n    params: {\n      store_id: storeID,\n      tableName: collectionTableName,\n      showFilteredItems: showFilteredItems ? 'true' : 'false', // Convert boolean to string\n    },\n  });\n\n  return response;\n};\n\n// GET SINGLE PRODUCT\nexport async function getClientCollectionApi(id: string) {\n  try {\n    const response = await clientCollectionApi.get('/collection', {\n      params: {\n        id,\n        tableName: collectionTableName,\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error fetching collection:', error);\n    throw error; // Re-throw error for handling\n  }\n}\n\n// POST - CREATE OR UPDATE PRODUCT\nexport const postClientCollectionApi = async (collection: CollectionModelProps, collectionID: string, email: string, token: string) => {\n  try {\n    const response = await clientCollectionApi.post('/collection', collection, {\n      params: {\n        collection_id: collectionID,\n        email: email,\n      },\n      headers: {\n        Authentication: token,\n        'Content-Type': 'application/json',\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error posting collection:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n// PUT - UPDATE PRODUCT\nexport const updateClientCollectionApi = async (collection: CollectionModelProps) => {\n  try {\n    const response = await clientCollectionApi.put(`/collection?id=${collection.id}`, collection);\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error updating collection:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n// DELETE PRODUCT\nexport const deleteClientCollectionApi = async (id: string) => {\n  try {\n    const response = await clientCollectionApi.delete('/collection', {\n      params: { id },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error deleting collection:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n\n","import React, { createContext, useContext, useState, ReactNode, useEffect, useCallback } from 'react';\nimport { getClientCollectionApi, getClientCollectionsApi } from '@/api/collectionApi';\nimport { CollectionModelProps } from '@/models/CollectionModelProps';\n\ninterface ClientCollectionContextProps {\n  collection: CollectionModelProps | null;\n  collections: CollectionModelProps[];\n  getClientCollections: (store_id: string) => Promise<void>;\n  getClientCollection: (collection_owner_id: string) => Promise<void>;\n  addCollection: (collection: CollectionModelProps) => void;\n  removeCollection: () => void;\n  selectedCollection: CollectionModelProps | null;\n  selectCollection: (collection: CollectionModelProps) => void;\n  error: string | null;\n  isLoading: boolean;\n}\n\nconst ClientCollectionContext = createContext<ClientCollectionContextProps | undefined>(undefined);\n\nexport const useClientCollection = (): ClientCollectionContextProps => {\n  const context = useContext(ClientCollectionContext);\n  if (!context) {\n    throw new Error('useClientCollection must be used within a ClientCollectionProvider');\n  }\n  return context;\n};     \n\nexport const ClientCollectionProvider = ({ children }: { children: ReactNode }) => {\n  const [collection, setCollection] = useState<CollectionModelProps | null>(null);\n  const [collections, setCollections] = useState<CollectionModelProps[]>([]);\n  const [selectedCollection, setSelectedCollection] = useState<CollectionModelProps | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  // Add collection to the state\n  const addCollection = useCallback((newCollection: CollectionModelProps) => {\n    setCollection(newCollection);\n  }, []);\n\n  // Remove the collection from the state\n  const removeCollection = useCallback(() => {\n    setCollection(null);\n  }, []);\n\n  // Select a collection as active\n  const selectCollection = useCallback((collection: CollectionModelProps) => {\n    setSelectedCollection(collection);\n  }, []);\n\n  // Fetch a single collection\n  const getClientCollection = useCallback(async (collection_owner_id: string) => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await getClientCollectionApi(collection_owner_id);\n      setCollection(response.data);\n      console.log(`Fetched client collection Successfully`);\n      // console.log(`Fetched client collection: ${JSON.stringify(response.data, null, 2)}`);\n    } catch (error: any) {\n      console.error(\"Error fetching collection:\", error.message);\n      setError(error.message || \"Failed to fetch collection. Please try again later.\");\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  // Fetch multiple collections\n  const getClientCollections = useCallback(async (store_id: string): Promise<void> => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response: CollectionModelProps[] = await getClientCollectionsApi(store_id, true);\n      // console.log(\"Full API response:\", JSON.stringify(response, null, 2));\n      if (!response || response.length === 0) {\n        throw new Error('No data returned from the API');\n      }\n\n      const validCollections = response.filter(collection => collection && collection.id);\n      setCollections(validCollections);\n      // console.log(`Fetched client collections: ${JSON.stringify(validCollections, null, 2)}`);\n      console.log(`Fetched client collections Successfully`);\n    } catch (error: unknown) {\n      if (error instanceof Error) {\n        console.error(\"Error fetching collections:\", error.message);\n        setError(error.message || \"Failed to fetch collections. Please try again later.\");\n      } else {\n        console.error(\"Unknown error fetching collections\");\n        setError(\"Failed to fetch collections. Please try again later.\");\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  return (\n    <ClientCollectionContext.Provider\n      value={{\n        collection,\n        collections,\n        getClientCollection,\n        getClientCollections,\n        addCollection,\n        removeCollection,\n        selectedCollection,\n        selectCollection,\n        error,\n        isLoading,\n      }}\n    >\n      {children}\n    </ClientCollectionContext.Provider>\n  );\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\n// import { CollectionModelProps } from \"../models/CollectionModelProps\";\n// import { getClientCollectionsApi, postClientCollectionApi, updateClientCollectionApi, deleteClientCollectionApi } from \"../api/collectionsApi\";\n// import { useAuth } from \"./AuthContext\";\n// import { Alert } from \"react-native\";\n// import { router } from \"expo-router\";\n// // import MyAlert from \"@/components/interfaces/MyAlert\";\n\n// interface CollectionContextProps {\n//   collections: CollectionModelProps[];\n//   addCollection: (collection: CollectionModelProps) => Promise<void>;\n//   removeCollection: (collectionId: string) => Promise<void>;\n//   updateCollection: (collection: CollectionModelProps) => Promise<void>;\n//   getClientCollections: () => void;\n//   selectedCollection: CollectionModelProps | null;\n//   selectCollection: (collection: CollectionModelProps) => void;\n//   isLoading: boolean;\n//   error: string | null;\n// }\n\n// export const ClientCollectionContext = createContext<CollectionContextProps | undefined>(undefined);\n\n// export const useClientCollection = () => {\n//   const context = useContext(ClientCollectionContext);\n//   if (!context) {\n//     throw new Error(\"useClientCollection must be used within an CollectionProvider\");\n//   }\n//   return context;\n// };\n\n\n// export const CollectionProvider = ({ children }: { children: ReactNode }) => {\n//   const { authState } = useAuth();\n//   const [collections, setCollections] = useState<CollectionModelProps[]>([]);\n//   const [selectedCollection, setSelectedCollection] = useState<CollectionModelProps | null>(null);\n//   const [isLoading, setIsLoading] = useState<boolean>(false);\n//   const [error, setError] = useState<string | null>(null);\n\n\n//   const addCollection = async (collection: CollectionModelProps) => {\n//     if (!authState?.user) return;\n\n//     const storeID = authState.user.store_owner_id || '';\n//     const email = authState.user.email || '';\n//     const token = authState?.token || \"\"\n\n//     setIsLoading(true);\n//     try {\n//       await postClientCollectionApi(collection, storeID, email, token );\n//       setCollections((prevCollections) => [...prevCollections, collection]);\n//       console.log(\"collection added\", collection );\n\n//       // change fix\n//       router.push('/')\n\n//     } catch (error: any) {\n//       console.error(\"Failed to add collection:\", error.response?.data );\n      \n\n//       // <MyAlert\n//       // title=\"Collection not Created\"\n//       // message=\"You are missing information. Please update your store.\"\n//       // onCancelPress={() => console.log(\"Cancel Pressed\")}\n//       // onUpdatePress={() => router.push('/store')}\n//       // />   \n//       setError(error.response?.data || \"Failed to add collection. Please try again later.\");\n//     } finally {\n//       setIsLoading(false);\n//     }\n//   };\n\n//   const removeCollection = async (collectionId: string) => {\n//     setIsLoading(true);\n//     try {\n//       await deleteClientCollectionApi( collectionId);\n//       setCollections((prevCollections) => prevCollections.filter(collection => collection.id !== collectionId));\n//     } catch (error: any) {\n//       console.error(\"Failed to remove collection:\", error.response?.data?.message || error.message);\n//       setError(error.response?.data?.message || \"Failed to remove collection. Please try again later.\");\n//     } finally {\n//       setIsLoading(false);\n//     }\n//   };\n\n//   const updateCollection = async (collection: CollectionModelProps) => {\n//     setIsLoading(true);\n//     try {\n//       await updateCollection(collection);\n//       setCollections((prevCollections) => prevCollections.map(o => o.id === collection.id ? collection : o));\n//     } catch (error: any) {\n//       console.error(\"Failed to update collection:\", error.response?.data?.message || error.message);\n//       setError(error.response?.data?.message || \"Failed to update collection. Please try again later.\");\n//     } finally {\n//       setIsLoading(false);\n//     }\n//   };\n\n//   const getClientCollections = async () => {\n//     if (!authState?.user) return;\n\n//     setIsLoading(true);\n//     setError(null);\n//     try {\n//       const email = authState.user.email || '';\n//       const store_owner_id = authState.user.store_owner_id || '';\n\n//       const response = await getClientCollectionsApi(store_owner_id, email);\n//       const fetchedCollections = response.data;\n//       setCollections(fetchedCollections);\n//     } catch (error: any) {\n//       console.error(\"Failed to fetch client collections:\", error.response?.data?.message || error.message);\n//       setError(error.response?.data?.message || \"Failed to fetch collections. Please try again later.\");\n//     } finally {\n//       setIsLoading(false);\n//     }\n//   };\n\n//   const selectCollection = (collection: CollectionModelProps) => {\n//     setSelectedCollection(collection);\n//   };\n\n//   return (\n//     <ClientCollectionContext.Provider \n//       value={{ \n//         collections, \n//         addCollection, \n//         removeCollection, \n//         updateCollection, \n//         getClientCollections, \n//         selectedCollection, \n//         selectCollection, \n//         isLoading, \n//         error \n//       }}\n//     >\n//       {children}\n//     </ClientCollectionContext.Provider>\n//   );\n// };\n\n\n","import { useClientProduct } from '@/contexts/ClientProductContext';\nimport { useClientStore } from '@/contexts/ClientStoreContext';\nimport { useClientCollection } from '@/contexts/ClientCollectionContext';\nimport convertToCurrency from '@/hooks/convertToCurrency';\nimport { ProductModelProps } from '@/models/ProductModelProps';\nimport { AWS_HOLDER_IMAGE } from '@/utils/api';\nimport React, { useEffect } from 'react';\nimport { View, Text, Image, StyleSheet, TouchableOpacity, FlatList, Dimensions } from 'react-native';\nimport { useTheme } from \"@/contexts/ThemeContext\";\nimport { router } from 'expo-router';\n\nconst { width } = Dimensions.get('window');\n\nconst CollectionPageVTwo = () => {\n  const { collections, selectedCollection, selectCollection } = useClientCollection();\n  const { products, selectProduct } = useClientProduct();\n  const { store } = useClientStore();\n  const { colors } = useTheme();\n\n\n   // Define the \"All\" collection with default values\n  const allCollection = {\n    id: 'all',\n    store_id: 'all-store',\n    user_id: 'all-user',\n    index: 0,\n    timestamp: new Date().toISOString(),\n    title: 'All',\n    description: 'All available products',\n    caption: '',\n    amount: 0,\n    likes: 0,\n    isliked: false,\n    onSale: false,\n    relatedProductIds: products.map((product) => product.id.toString()),\n    image: '',\n    images: [],\n    tags: [],\n    active: true,\n  };\n\n\n  const collectionsWithAll = [allCollection, ...collections];\n\n  useEffect(() => {\n    if (!selectedCollection) {\n      selectCollection(allCollection);\n    }\n  }, [selectedCollection, selectCollection]);\n\n  const handleProductSelect = (product: ProductModelProps) => {\n    selectProduct(product);\n    if (selectedCollection?.id && product.id) {\n      router.push(`/collections/${selectedCollection.id}/products/${product.id}` as never);\n    }\n  };\n\n  const filteredProducts: ProductModelProps[] = selectedCollection?.id === 'all'\n    ? products\n    : products.filter(product =>\n        selectedCollection?.relatedProductIds.includes(product.id.toString())\n      );\n\n\n\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.background,\n  },\n  categoryList: {\n    maxHeight: 50,\n    padding: 20\n  },\n  categoryContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  categoryButton: {\n    color: colors.buttonText,\n    marginRight: 8,\n    paddingVertical: 5,\n    paddingHorizontal: 12,\n    borderWidth: 1,\n    borderColor: colors.border,\n    borderRadius: 15,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 30,\n  },\n  selectedCollectionButton: {\n    backgroundColor: colors.cardBackground,\n  },\n  categoryText: {\n    fontSize: 13,\n    fontWeight: 'bold',\n    color: colors.cardText,\n  },\n  selectedCollectionText: {\n    color: colors.title,\n  },\n  promoContainer: {\n    marginVertical: 10,\n    // borderRadius: 10,\n    overflow: 'hidden',\n    // backgroundColor: colors.cardBackground,\n    padding: 15,\n  },\n  promoImage: {\n    width: '100%',\n    height: 150,\n    resizeMode: 'cover',\n  },\n  promoTextContainer: {\n    position: 'absolute',\n    top: 15,\n    left: 20,\n    padding: 20\n  },\n  promoTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: colors.title,\n  },\n  promoSubtitle: {\n    fontSize: 14,\n    color: colors.subtitle,\n    marginTop: 5,\n  },\n  promoDiscount: {\n    fontSize: 16,\n    color: '#FF6347',\n    marginTop: 5,\n  },\n  productListContainer: {\n    flex: 1,\n  },\n  productContainer: {\n    paddingBottom: 20,\n  },\n  productCard: {\n    flex: 1,\n    margin: 10,\n    borderRadius: 10,\n    backgroundColor: colors.cardBackground,\n    padding: 10,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: colors.border,\n    width: width / 2 - 30,\n  },\n\n  productImage: {\n    width: width / 2 - 40,\n    height: 120,\n    resizeMode: 'cover',\n    borderRadius: 10,\n    marginBottom: 10,\n  },\n  productPrice: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: colors.cardText,\n  },\n  productName: {\n    fontSize: 14,\n    color: colors.cardText,\n    marginTop: 5,\n  },\n  emptyMessage: {\n    textAlign: 'center',\n    fontSize: 16,\n    color: colors.subtitle,\n    marginTop: 20,\n  },\n});\n\n  return (\n    <View style={styles.container}>\n      <View>\n      <FlatList\n        data={collectionsWithAll}\n        horizontal\n        showsHorizontalScrollIndicator={false}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item }) => (\n          <TouchableOpacity\n            style={[\n              styles.categoryButton,\n              item.id === selectedCollection?.id && styles.selectedCollectionButton\n            ]}\n            onPress={() => selectCollection(item)}\n          >\n            <Text style={[\n              styles.categoryText,\n              item.id === selectedCollection?.id && styles.selectedCollectionText\n            ]}>\n              {item.title}\n            </Text>\n          </TouchableOpacity>\n        )}\n        contentContainerStyle={styles.categoryContainer}\n        style={styles.categoryList}\n      />\n</View>\n      <View style={styles.promoContainer}>\n        <Image\n          source={{ uri: store?.images?.welcome_image || AWS_HOLDER_IMAGE }}\n          style={styles.promoImage}\n        />\n        <View style={styles.promoTextContainer}>\n          <Text style={styles.promoTitle}>Promo for first purchase</Text>\n          <Text style={styles.promoSubtitle}>Special Offers</Text>\n          <Text style={styles.promoDiscount}>40% Off Prices</Text>\n        </View>\n      </View>\n\n      <View style={styles.productListContainer}>\n        <FlatList\n          data={filteredProducts}\n          numColumns={2}\n          keyExtractor={(item) => String(item.id)}\n          renderItem={({ item }) => (\n            <View style={styles.productCard}>\n              <TouchableOpacity onPress={() => handleProductSelect(item)}>\n                <Image source={{ uri: item.images[0] || AWS_HOLDER_IMAGE }} style={styles.productImage} />\n                <Text style={styles.productPrice}>{convertToCurrency(item.price)}</Text>\n                <Text style={styles.productName}>{item.name}</Text>\n              </TouchableOpacity>\n            </View>\n          )}\n          contentContainerStyle={styles.productContainer}\n          ListEmptyComponent={<Text style={styles.emptyMessage}>No products available</Text>}\n        />\n      </View>\n    </View>\n  );\n};\n\nexport default CollectionPageVTwo;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { useClientStore } from '@/contexts/ClientStoreContext';\n// import { useClientCollection } from '@/contexts/ClientCollectionContext';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { AWS_HOLDER_IMAGE } from '@/utils/api';\n// import { COLORS } from '@/utils/theme';\n// import { router } from 'expo-router';\n// import React, { useEffect } from 'react';\n// import { View, Text, Image, StyleSheet, TouchableOpacity, FlatList, Dimensions } from 'react-native';\n// import { useTheme } from \"@/contexts/ThemeContext\"\n\n// const { width } = Dimensions.get('window');\n\n// const CollectionPageVTwo = () => {\n//   const { collections, selectedCollection, selectCollection } = useClientCollection();\n//   const { products, selectProduct } = useClientProduct();\n//   const { store } = useClientStore();\n//   const { colors } = useTheme();\n\n// // Styles\n// const styles = StyleSheet.create({\n//   container: {\n//     flex: 1,\n//     backgroundColor: colors.background,\n//     // paddingHorizontal: 10,\n//   },\n//   categoryList: {\n//     maxHeight: 50,\n//   },\n//   categoryContainer: {\n//     alignItems: 'center',\n//     justifyContent: 'center',\n//   },\n//   categoryButton: {\n//     marginRight: 8,\n//     paddingVertical: 5,\n//     paddingHorizontal: 12,\n//     borderWidth: 1,\n//     borderColor: colors.border, // '#000000',\n//     borderRadius: 15,\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//     height: 30,\n//   },\n//   selectedCollectionButton: {\n//     backgroundColor:  colors.cardText, //,  '#000',\n//     color:  colors.buttonText //,  '#000',\n//   },\n//   categoryText: {\n//     fontSize: 13,\n//     fontWeight: 'bold',\n//     color: colors.cardText // '#000000',\n//   },\n//   selectedCollectionText: {\n//     color: colors.title //'#FFFFFF',\n//   },\n//   promoContainer: {\n//     marginVertical: 10,\n//     borderRadius: 10,\n//     overflow: 'hidden',\n//     backgroundColor: '#F5F5F5',\n//     padding: 15\n//   },\n//   promoImage: {\n//     width: '100%',\n//     height: 150,\n//     resizeMode: 'cover',\n//   },\n//   promoTextContainer: {\n//     position: 'absolute',\n//     top: 15,\n//     left: 20,\n//   },\n//   promoTitle: {\n//     fontSize: 20,\n//     fontWeight: 'bold',\n//     color: COLORS.white,\n//   },\n//   promoSubtitle: {\n//     fontSize: 14,\n//     color: COLORS.gray3,\n//     marginTop: 5,\n//   },\n//   promoDiscount: {\n//     fontSize: 16,\n//     color: '#FF6347',\n//     marginTop: 5,\n//   },\n//   productListContainer: {\n//     flex: 1,\n//   },\n//   productContainer: {\n//     paddingBottom: 20,\n//   },\n//   productCard: {\n//     flex: 1,\n//     margin: 10,\n//     borderRadius: 10,\n//     backgroundColor: '#FFFFFF',\n//     padding: 10,\n//     alignItems: 'center',\n//     borderWidth: 1,\n//     borderColor: '#E0E0E0',\n//   },\n//   productImage: {\n//     width: width / 2 - 40,\n//     height: 120,\n//     resizeMode: 'cover',\n//     borderRadius: 10,\n//     marginBottom: 10,\n//   },\n//   productPrice: {\n//     fontSize: 16,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//   },\n//   productName: {\n//     fontSize: 14,\n//     color: '#333333',\n//     marginTop: 5,\n//   },\n//   emptyMessage: {\n//     textAlign: 'center',\n//     fontSize: 16,\n//     color: '#777777',\n//     marginTop: 20,\n//   },\n// });\n\n//   // Define the \"All\" collection with default values\n//   const allCollection = {\n//     id: 'all',\n//     store_id: 'all-store',\n//     user_id: 'all-user',\n//     index: 0,\n//     timestamp: new Date().toISOString(),\n//     title: 'All',\n//     description: 'All available products',\n//     caption: '',\n//     amount: 0,\n//     likes: 0,\n//     isliked: false,\n//     onSale: false,\n//     relatedProductIds: products.map((product) => product.id.toString()),\n//     image: '',\n//     images: [],\n//     tags: [],\n//     active: true,\n//   };\n\n//   // Add the \"All\" collection to the collections array\n//   const collectionsWithAll = [allCollection, ...collections];\n\n//   // Select \"All\" collection by default on initial render\n//   useEffect(() => {\n//     if (!selectedCollection) {\n//       selectCollection(allCollection);\n//     }\n//   }, [selectedCollection, selectCollection]);\n\n//   // Handle selecting a product\n//   const handleProductSelect = (product: ProductModelProps) => {\n//     selectProduct(product);\n//     // Ensure navigation to the correct product route within the selected collection\n//     if (selectedCollection?.id && product.id) {\n//       router.push(`/collections/${selectedCollection.id}/products/${product.id}` as never);\n//     }\n//   };\n\n//   // Filter products based on the selected collection\n//   const filteredProducts: ProductModelProps[] = selectedCollection?.id === 'all'\n//     ? products // Show all products when \"All\" is selected\n//     : products.filter(product =>\n//         selectedCollection?.relatedProductIds.includes(product.id.toString())\n//       );\n\n//   return (\n//     <View style={styles.container}>\n//       {/* Collection Selection List */}\n//       <FlatList\n//         data={collectionsWithAll}\n//         horizontal\n//         showsHorizontalScrollIndicator={false}\n//         keyExtractor={(item) => item.id}\n//         renderItem={({ item }) => (\n//           <TouchableOpacity\n//             style={[\n//               styles.categoryButton,\n//               item.id === selectedCollection?.id && styles.selectedCollectionButton\n//             ]}\n//             onPress={() => selectCollection(item)}\n//           >\n//             <Text style={[\n//               styles.categoryText,\n//               item.id === selectedCollection?.id && styles.selectedCollectionText\n//             ]}>\n//               {item.title}\n//             </Text>\n//           </TouchableOpacity>\n//         )}\n//         contentContainerStyle={styles.categoryContainer}\n//         style={styles.categoryList}\n//       />\n\n//       {/* Promo Section */}\n//       <View style={styles.promoContainer}>\n//         <Image\n//           source={{ uri: store?.images?.welcome_image || AWS_HOLDER_IMAGE }}\n//           style={styles.promoImage}\n//         />\n//         <View style={styles.promoTextContainer}>\n//           <Text style={styles.promoTitle}>Promo for first purchase</Text>\n//           <Text style={styles.promoSubtitle}>Special Offers</Text>\n//           <Text style={styles.promoDiscount}>40% Off Prices</Text>\n//         </View>\n//       </View>\n\n//       {/* Products List */}\n//       <View style={styles.productListContainer}>\n//         <FlatList\n//           data={filteredProducts}\n//           numColumns={2}\n//           keyExtractor={(item) => String(item.id)}\n//           renderItem={({ item }) => (\n//             <View style={styles.productCard}>\n//               <TouchableOpacity onPress={() => handleProductSelect(item)}>\n//                 <Image source={{ uri: item.images[0] || AWS_HOLDER_IMAGE }} style={styles.productImage} />\n//                 <Text style={styles.productPrice}>{convertToCurrency(item.price)}</Text>\n//                 <Text style={styles.productName}>{item.name}</Text>\n//               </TouchableOpacity>\n//             </View>\n//           )}\n//           contentContainerStyle={styles.productContainer}\n//           ListEmptyComponent={<Text style={styles.emptyMessage}>No products available</Text>}\n//         />\n//       </View>\n//     </View>\n//   );\n// };\n\n// export default CollectionPageVTwo;\n\n\n// All not included\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { useClientStore } from '@/contexts/ClientStoreContext';\n// import { useClientCollection } from '@/contexts/ClientCollectionContext';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { AWS_HOLDER_IMAGE } from '@/utils/api';\n// import { COLORS } from '@/utils/theme';\n// import { router } from 'expo-router';\n// import React from 'react';\n// import { View, Text, Image, StyleSheet, TouchableOpacity, FlatList, Dimensions } from 'react-native';\n\n// const { width } = Dimensions.get('window');\n\n// const CollectionPageVTwo = () => {\n//   const { collections, selectedCollection, selectCollection } = useClientCollection();\n//   const { products, selectProduct } = useClientProduct();\n//   const { store } = useClientStore();\n\n//   // Handle selecting a product\n//   const handleProductSelect = (product: ProductModelProps) => {\n//     selectProduct(product);\n//     // Ensure navigation to the correct product route within the selected collection\n//     if (selectedCollection?.id && product.id) {\n//       router.push(`/collections/${selectedCollection.id}/products/${product.id}` as never);\n//     }\n//   };\n\n//   // Filter products based on the selected collection\n//   const filteredProducts = selectedCollection?.title === 'All'\n//     ? products\n//     : products.filter(product =>\n//         selectedCollection?.relatedProductIds.includes(product.id.toString())\n//       );\n\n//   return (\n//     <View style={styles.container}>\n//       {/* Collection Selection List */}\n//       <FlatList\n//         data={collections}\n//         horizontal\n//         showsHorizontalScrollIndicator={false}\n//         keyExtractor={(item) => item.id}\n//         renderItem={({ item }) => (\n//           <TouchableOpacity\n//             style={[\n//               styles.categoryButton,\n//               item.id === selectedCollection?.id && styles.selectedCollectionButton\n//             ]}\n//             onPress={() => selectCollection(item)}\n//           >\n//             <Text style={[\n//               styles.categoryText,\n//               item.id === selectedCollection?.id && styles.selectedCollectionText\n//             ]}>\n//               {item.title}\n//             </Text>\n//           </TouchableOpacity>\n//         )}\n//         contentContainerStyle={styles.categoryContainer}\n//         style={styles.categoryList}\n//       />\n\n//       {/* Promo Section */}\n//       <View style={styles.promoContainer}>\n//         <Image\n//           source={{ uri: store?.images?.welcome_image || AWS_HOLDER_IMAGE }}\n//           style={styles.promoImage}\n//         />\n//         <View style={styles.promoTextContainer}>\n//           <Text style={styles.promoTitle}>Promo for first purchase</Text>\n//           <Text style={styles.promoSubtitle}>Special Offers</Text>\n//           <Text style={styles.promoDiscount}>40% Off Prices</Text>\n//         </View>\n//       </View>\n\n//       {/* Products List */}\n//       <View style={styles.productListContainer}>\n//         <FlatList\n//           data={filteredProducts}\n//           numColumns={2}\n//           keyExtractor={(item) => String(item.id)}\n//           renderItem={({ item }) => (\n//             <View style={styles.productCard}>\n//               <TouchableOpacity onPress={() => handleProductSelect(item)}>\n//                 <Image source={{ uri: item.images[0] || AWS_HOLDER_IMAGE }} style={styles.productImage} />\n//                 <Text style={styles.productPrice}>{convertToCurrency(item.price)}</Text>\n//                 <Text style={styles.productName}>{item.name}</Text>\n//               </TouchableOpacity>\n//             </View>\n//           )}\n//           contentContainerStyle={styles.productContainer}\n//           ListEmptyComponent={<Text style={styles.emptyMessage}>No products available</Text>}\n//         />\n//       </View>\n//     </View>\n//   );\n// };\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flex: 1,\n//     backgroundColor: '#FFFFFF',\n//     paddingHorizontal: 10,\n//   },\n//   categoryList: {\n//     maxHeight: 50,\n//   },\n//   categoryContainer: {\n//     alignItems: 'center',\n//     justifyContent: 'center',\n//   },\n//   categoryButton: {\n//     marginRight: 8,\n//     paddingVertical: 5,\n//     paddingHorizontal: 12,\n//     borderWidth: 1,\n//     borderColor: '#000000',\n//     borderRadius: 15,\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//     height: 30,\n//   },\n//   selectedCollectionButton: {\n//     backgroundColor: '#000',\n//   },\n//   categoryText: {\n//     fontSize: 13,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//   },\n//   selectedCollectionText: {\n//     color: '#FFFFFF',\n//   },\n//   promoContainer: {\n//     marginVertical: 10,\n//     borderRadius: 10,\n//     overflow: 'hidden',\n//     backgroundColor: '#F5F5F5',\n//   },\n//   promoImage: {\n//     width: '100%',\n//     height: 150,\n//     resizeMode: 'cover',\n//   },\n//   promoTextContainer: {\n//     position: 'absolute',\n//     top: 15,\n//     left: 20,\n//   },\n//   promoTitle: {\n//     fontSize: 20,\n//     fontWeight: 'bold',\n//     color: COLORS.white,\n//   },\n//   promoSubtitle: {\n//     fontSize: 14,\n//     color: COLORS.gray3,\n//     marginTop: 5,\n//   },\n//   promoDiscount: {\n//     fontSize: 16,\n//     color: '#FF6347',\n//     marginTop: 5,\n//   },\n//   productListContainer: {\n//     flex: 1,\n//   },\n//   productContainer: {\n//     paddingBottom: 20,\n//   },\n//   productCard: {\n//     flex: 1,\n//     margin: 10,\n//     borderRadius: 10,\n//     backgroundColor: '#FFFFFF',\n//     padding: 10,\n//     alignItems: 'center',\n//     borderWidth: 1,\n//     borderColor: '#E0E0E0',\n//   },\n//   productImage: {\n//     width: width / 2 - 40,\n//     height: 120,\n//     resizeMode: 'cover',\n//     borderRadius: 10,\n//     marginBottom: 10,\n//   },\n//   productPrice: {\n//     fontSize: 16,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//   },\n//   productName: {\n//     fontSize: 14,\n//     color: '#333333',\n//     marginTop: 5,\n//   },\n//   emptyMessage: {\n//     textAlign: 'center',\n//     fontSize: 16,\n//     color: '#777777',\n//     marginTop: 20,\n//   },\n// });\n\n// export default CollectionPageVTwo;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","// import { v4 as uuidv4 } from 'uuid';\n// const uuid = uuidv4(); // Generate the UUID\n\n// generateUUID.ts\nexport const generateUUID = (idLength: number): string => {\n  let result = '';\n  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  const charactersLength = characters.length;\n  for (let i = 0; i < idLength; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};","import React, { useState } from \"react\";\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  Dimensions,\n  StyleSheet,\n  Alert,\n} from \"react-native\";\nimport { Ionicons } from \"@expo/vector-icons\"; // Import Ionicons from Expo\nimport { COLORS } from \"@/utils/theme\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { router } from \"expo-router\";\nimport { useClientStore } from \"@/contexts/ClientStoreContext\";\n\nconst { width , height} = Dimensions.get(\"window\");\n\n\nconst UserLoginTextFields = () => {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirmedpassword, setConfirmedPassword] = useState(\"\");\n    const [showPassword, setShowPassword] = useState(false);\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n    const {store} = useClientStore() \n\n  const [activeTabIsLogin, setActiveTabIsLogin] = useState(true);\n  const { onLogin, onRegister, onLogout, authState } = useAuth();\n  // const { data: store } = useFetchObject<StoreModelProps>(() => getStore(CONSTANTS.store_id))\n\n  const showAlert = (message: string) =>\n    Alert.alert(\"Error\", message, [{ text: \"OK\" }]);\n\n\n  const loginAction = async () => {\n    try {\n      const result = await onLogin!(store?.id ?? \"\", email, password);\n      if (result.error) {\n        showAlert(result.msg);\n      } else {\n        console.log(\"Login successful\");\n        try {\n          router.replace(\"/home\" as never);\n        } catch (navError) {\n          console.error(\"Navigation error:\", navError);\n        }\n      }\n    } catch (error: any) {\n      console.error(\"(6) Login error:\", error.message);\n      showAlert(\"Login failed. Please try again.\");\n    }\n  };\n    \n  return (\n    <View style={{height: height}}>\n          <View style={styles.inputContainer}>\n            <Ionicons name=\"mail-outline\" size={20} color={COLORS.darkGray} />\n            <TextInput\n              placeholder=\"Enter your email\"\n              //placeholderTextColor={COLORS.darkGray}\n              onChangeText={setEmail}\n              value={email}\n              style={styles.input}\n              keyboardType=\"email-address\"\n              autoCapitalize=\"none\"\n              autoComplete=\"email\"\n              secureTextEntry={false} // Ensure this is set to false\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Ionicons\n              name=\"lock-closed-outline\"\n              size={20}\n              color={COLORS.darkGray}\n            />\n            <TextInput\n              placeholder=\"Enter your password\"\n              //placeholderTextColor={COLORS.darkGray}\n              onChangeText={setPassword}\n              value={password}\n              style={styles.input}\n              secureTextEntry={!showPassword} // Ensure this is set to false\n            />\n            <Ionicons name=\"eye-outline\" size={20} color={COLORS.darkGray} />\n          </View>\n\n          <TouchableOpacity>\n            <Text style={styles.forgotPasswordText}>Forgot Password?</Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity style={styles.loginButton} onPress={loginAction}>\n            <Text style={styles.loginButtonText}>Login</Text>\n          </TouchableOpacity>\n        </View>\n  )\n}\n\nexport default UserLoginTextFields\n\n\nconst styles = StyleSheet.create({\n    container: {\n      paddingHorizontal: 20,\n      paddingTop: 20,\n      backgroundColor: COLORS.white,\n      alignItems: \"center\",\n    },\n    logo: {\n      width: 80,\n      height: 80,\n      marginTop: 50,\n      borderRadius: 13,\n    },\n    appName: {\n      fontSize: 24,\n      fontWeight: \"bold\",\n      color: COLORS.primary,\n      marginTop: 10,\n    },\n    welcomeText: {\n      fontSize: 20,\n      fontWeight: \"bold\",\n      color: COLORS.darkGray,\n      marginTop: 20,\n    },\n    descriptionText: {\n      fontSize: 14,\n      color: COLORS.darkGray,\n      textAlign: \"center\",\n      marginVertical: 10,\n    },\n    tabContainer: {\n      flexDirection: \"row\",\n      marginVertical: 20,\n    },\n    tab: {\n      flex: 1,\n      paddingBottom: 5,\n      alignItems: \"center\",\n    },\n    activeTab: {\n      borderBottomWidth: 2,\n      borderBottomColor: COLORS.primary,\n    },\n    tabText: {\n      fontSize: 16,\n      color: COLORS.darkGray,\n    },\n    activeTabText: {\n      color: COLORS.primary,\n    },\n    inputContainer: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      backgroundColor: COLORS.lightGray,\n      padding: 15,\n      borderRadius: 5,\n      marginVertical: 10,\n      width: width - 40,\n    },\n    input: {\n      flex: 1,\n      marginLeft: 10,\n      color: COLORS.darkGray,\n    },\n    forgotPasswordText: {\n      alignSelf: \"flex-end\",\n      color: COLORS.primary,\n      marginTop: 10,\n      marginBottom: 20,\n    },\n    loginButton: {\n      backgroundColor: COLORS.primary,\n      padding: 15,\n      borderRadius: 5,\n      width: width - 40,\n      alignItems: \"center\",\n    },\n    signupButton: {\n      backgroundColor: COLORS.primary,\n      padding: 15,\n      borderRadius: 5,\n      width: width - 40,\n      alignItems: \"center\",\n      marginTop: 20,\n    },\n    loginButtonText: {\n      fontSize: 18,\n      color: COLORS.white,\n      fontWeight: \"bold\",\n    },\n    termsText: {\n      fontSize: 12,\n      color: COLORS.darkGray,\n      textAlign: \"left\",\n      marginLeft: 10,\n      marginRight: 20,\n    },\n    checkboxContainer: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      marginVertical: 10,\n    },\n    passwordCriteria: {\n      color: COLORS.darkGray,\n      fontSize: 14,\n      marginTop: 5,\n      flexDirection: \"row\",\n      alignItems: \"center\",\n    },\n  });\n  \n","import React, { useState } from \"react\";\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n  Image,\n  Dimensions,\n  Alert,\n} from \"react-native\";\nimport { Ionicons } from \"@expo/vector-icons\"; // Import Ionicons from Expo\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { UserProps } from \"@/models/UserProps\";\nimport { generateUUID } from \"@/hooks/generateUUID\";\nimport { router } from \"expo-router\";\nimport { COLORS } from \"@/utils/theme\";\nimport { useClientStore } from \"@/contexts/ClientStoreContext\";\n\n\nconst { width, height } = Dimensions.get(\"window\");\nconst UserRegisterTextFields = () => {\n\n    const {store} = useClientStore()\n\n    const [name, setName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirmedpassword, setConfirmedPassword] = useState(\"\");\n    const [showPassword, setShowPassword] = useState(false);\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  \n    const [activeTabIsLogin, setActiveTabIsLogin] = useState(false);\n    // const { data: store } = useFetchObject<StoreModelProps>(() =>\n    //   getStore(CONSTANTS.store_id)\n    // );\n    const { onLogin, onRegister, onLogout, authState } = useAuth();\n\n\n  const showAlert = (message: string) =>\n    Alert.alert(\"Error\", message, [{ text: \"OK\" }]);\n\n  const loginAction = async () => {\n    try {\n      const result = await onLogin!(store?.id ?? \"\", email, password);\n      if (result.error) {\n        showAlert(result.msg);\n      } else {\n        console.log(\"Login successful\");\n        try {\n          router.replace(\"/(tabs)\");\n        } catch (navError) {\n          console.error(\"Navigation error:\", navError);\n        }\n      }\n    } catch (error: any) {\n      console.error(\"(7) Login error:\", error.message);\n      showAlert(\"Login failed. Please try again.\");\n    }\n  };\n\n  const registerAction = async () => {\n    const user: UserProps = {\n      id: generateUUID(8),\n      name,\n      email,\n      password,\n      store_ids: [],\n      store_owner_id: \"\",\n      onboardingQ1: \"\",\n      onboardingQ2: \"\",\n      onboardingQ3: \"\",\n      onboardingQ4: \"\",\n      orders: [],\n      favoriteItems: [],\n      cart: [],\n      affiliate_link: \"\",\n      active: false,\n      role: \"\",\n      birthday: \"\",\n      todo_completed: false,\n      tableName: \"\",\n      username: \"\",\n      phone_number: \"\",\n      gender: \"\",\n      profile_image: \"\",\n      address_city: \"\",\n      address_state: \"\",\n      location_history: [],\n      current_notification: \"\",\n      notifications: [],\n      payment_due: 0,\n      payment_due_date: \"\",\n      payment_due_day: \"\",\n      payment_monthly_amount: 0,\n      device_id: \"\",\n      device_os_version: \"\",\n      device_model: \"\",\n      device_ip_address: \"\",\n      device_battery_level: \"\",\n      device_battery_statue: \"\",\n      device_network_connectio_type: \"\",\n      loyalty_date: \"\",\n      payment_history_total: 0,\n      subscription_id: \"\",\n      paid_subscriber: false,\n      newsletter_subscriber: false,\n      notification_subscriber: false,\n      left_review: false,\n      review_stars: [],\n      reviews: [],\n      testimonials: [],\n      notify_arn: \"\",\n      owner_notify_arn: \"\",\n    };\n\n    try {\n      const result = await onRegister(store?.id ?? \"\", user);\n      if (result.error ) {\n        showAlert(result.error);\n        // console.error(\"(3) Registration error:\", error.response);\n        // console.error(\"(3) Registration error:\", error.message);\n        // console.error(\"(3) Registration error:\", error);\n\n        return;\n      } else {\n        console.log(\"Registration successful\");\n        loginAction();\n      }\n    } catch (error: any) {\n      console.error(\"(1) Registration error:\", error.message);\n      console.error(\"(1) Registration error:\", error.response.message);\n      showAlert(`Registration failed. Please try again. ${error.response}`);\n    }\n  };\n\n  return (\n    <View style={{height: height}}>\n          <View style={styles.inputContainer}>\n            <Ionicons name=\"person-outline\" size={20} color={COLORS.darkGray} />\n            <TextInput\n              placeholder=\"Your name\"\n              //placeholderTextColor={COLORS.darkGray}\n              onChangeText={setName}\n              value={name}\n              style={styles.input}\n              secureTextEntry={false} // Ensure this is set to false\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Ionicons name=\"mail-outline\" size={20} color={COLORS.darkGray} />\n            <TextInput\n              placeholder=\"Enter your email\"\n              //placeholderTextColor={COLORS.darkGray}\n              onChangeText={setEmail}\n              value={email}\n              style={styles.input}\n              keyboardType=\"email-address\"\n              autoCapitalize=\"none\"\n              autoComplete=\"email\"\n              secureTextEntry={false} // Ensure this is set to false\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Ionicons\n              name=\"lock-closed-outline\"\n              size={20}\n              color={COLORS.darkGray}\n            />\n            <TextInput\n              placeholder=\"Enter your password\"\n              //placeholderTextColor={COLORS.darkGray}\n              onChangeText={setPassword}\n              value={password}\n              style={styles.input}\n              secureTextEntry={!showPassword}\n            />\n            <TouchableOpacity\n              onPress={() => setShowPassword((prevState) => !prevState)}\n            >\n              <Ionicons\n                name={showPassword ? \"eye-off-outline\" : \"eye-outline\"}\n                size={20}\n                color={COLORS.darkGray}\n              />\n            </TouchableOpacity>\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Ionicons\n              name=\"lock-closed-outline\"\n              size={20}\n              color={COLORS.darkGray}\n            />\n            <TextInput\n              placeholder=\"Confirm your password\"\n              onChangeText={setConfirmedPassword}\n              value={confirmedpassword}\n              style={styles.input}\n              secureTextEntry={!showConfirmPassword} // Ensure this is set to false\n            />\n\n            <TouchableOpacity\n              onPress={() => setShowConfirmPassword((prevState) => !prevState)}\n            >\n              <Ionicons\n                name={showPassword ? \"eye-off-outline\" : \"eye-outline\"}\n                size={20}\n                color={COLORS.darkGray}\n              />\n            </TouchableOpacity>\n          </View>\n\n          <Text style={styles.passwordCriteria}>\n            <Ionicons name=\"checkmark-outline\" size={16} color={COLORS.green} />{\" \"}\n            At least 8 characters\n          </Text>\n          <Text style={styles.passwordCriteria}>\n            <Ionicons name=\"checkmark-outline\" size={16} color={COLORS.green} />{\" \"}\n            At least 1 number\n          </Text>\n          <Text style={styles.passwordCriteria}>\n            <Ionicons name=\"checkmark-outline\" size={16} color={COLORS.green} />{\" \"}\n            Both upper and lower case letters\n          </Text>\n\n          <TouchableOpacity\n            style={styles.signupButton}\n            onPress={registerAction}\n          >\n            <Text style={styles.loginButtonText}>Sign Up</Text>\n          </TouchableOpacity>\n        </View>\n  )\n}\n\nexport default UserRegisterTextFields\n\n\nconst styles = StyleSheet.create({\n    container: {\n      paddingHorizontal: 20,\n      paddingTop: 20,\n      backgroundColor: COLORS.white,\n      alignItems: \"center\",\n    },\n    logo: {\n      width: 80,\n      height: 80,\n      marginTop: 50,\n      borderRadius: 13,\n    },\n    appName: {\n      fontSize: 24,\n      fontWeight: \"bold\",\n      color: COLORS.primary,\n      marginTop: 10,\n    },\n    welcomeText: {\n      fontSize: 20,\n      fontWeight: \"bold\",\n      color: COLORS.darkGray,\n      marginTop: 20,\n    },\n    descriptionText: {\n      fontSize: 14,\n      color: COLORS.darkGray,\n      textAlign: \"center\",\n      marginVertical: 10,\n    },\n    tabContainer: {\n      flexDirection: \"row\",\n      marginVertical: 20,\n    },\n    tab: {\n      flex: 1,\n      paddingBottom: 5,\n      alignItems: \"center\",\n    },\n    activeTab: {\n      borderBottomWidth: 2,\n      borderBottomColor: COLORS.primary,\n    },\n    tabText: {\n      fontSize: 16,\n      color: COLORS.darkGray,\n    },\n    activeTabText: {\n      color: COLORS.primary,\n    },\n    inputContainer: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      backgroundColor: COLORS.lightGray,\n      padding: 15,\n      borderRadius: 5,\n      marginVertical: 10,\n      width: width - 40,\n    },\n    input: {\n      flex: 1,\n      marginLeft: 10,\n      color: COLORS.darkGray,\n    },\n    forgotPasswordText: {\n      alignSelf: \"flex-end\",\n      color: COLORS.primary,\n      marginTop: 10,\n      marginBottom: 20,\n    },\n    loginButton: {\n      backgroundColor: COLORS.primary,\n      padding: 15,\n      borderRadius: 5,\n      width: width - 40,\n      alignItems: \"center\",\n    },\n    signupButton: {\n      backgroundColor: COLORS.primary,\n      padding: 15,\n      borderRadius: 5,\n      width: width - 40,\n      alignItems: \"center\",\n      marginTop: 20,\n    },\n    loginButtonText: {\n      fontSize: 18,\n      color: COLORS.white,\n      fontWeight: \"bold\",\n    },\n    termsText: {\n      fontSize: 12,\n      color: COLORS.darkGray,\n      textAlign: \"left\",\n      marginLeft: 10,\n      marginRight: 20,\n    },\n    checkboxContainer: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      marginVertical: 10,\n    },\n    passwordCriteria: {\n      color: COLORS.darkGray,\n      fontSize: 14,\n      marginTop: 5,\n      flexDirection: \"row\",\n      alignItems: \"center\",\n    },\n  });\n  ","import React, { FC, useState } from \"react\";\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n  Image,\n  Dimensions,\n  Alert,\n} from \"react-native\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { UserProps } from \"@/models/UserProps\";\nimport { generateUUID } from \"@/hooks/generateUUID\";\nimport { router } from \"expo-router\";\nimport { COLORS } from \"@/utils/theme\";\nimport UserLoginTextFields from \"@/components/views/UserLoginTextFields\";\nimport UserRegisterTextFields from \"@/components/views/UserRegisterTextFields\";\nimport { useClientStore } from \"@/contexts/ClientStoreContext\";\n\nconst { width , height } = Dimensions.get(\"window\");\n\n\nconst LoginComponentTwo = () => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmedpassword, setConfirmedPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n  const [activeTabIsLogin, setActiveTabIsLogin] = useState(true);\n  const { onLogin, onRegister, onLogout, authState } = useAuth();\n  // const { data: store } = useFetchObject<StoreModelProps>(() =>\n  //   getStore(CONSTANTS.store_id)\n  // );\n\n  const { store } = useClientStore()\n\n\n  const showAlert = (message: string) =>\n    Alert.alert(\"Error\", message, [{ text: \"OK\" }]);\n\n  const loginAction = async () => {\n    try {\n      const result = await onLogin!(store?.id ?? \"\", email, password);\n      if (result.error) {\n        showAlert(result.msg);\n      } else {\n        console.log(\"Login successful\");\n        try {\n          router.replace(\"/home\" as never);\n        } catch (navError) {\n          console.error(\"Navigation error:\", navError);\n        }\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      showAlert(\"Login failed. Please try again.\");\n    }\n  };\n\n  const registerAction = async () => {\n    const user: UserProps = {\n      id: generateUUID(8),\n      name,\n      email,\n      password,\n      store_ids: [],\n      store_owner_id: \"\",\n      onboardingQ1: \"\",\n      onboardingQ2: \"\",\n      onboardingQ3: \"\",\n      onboardingQ4: \"\",\n      orders: [],\n      favoriteItems: [],\n      cart: [],\n      affiliate_link: \"\",\n      active: false,\n      role: \"\",\n      birthday: \"\",\n      todo_completed: false,\n      tableName: \"\",\n      username: \"\",\n      phone_number: \"\",\n      gender: \"\",\n      profile_image: \"\",\n      address_city: \"\",\n      address_state: \"\",\n      location_history: [],\n      current_notification: \"\",\n      notifications: [],\n      payment_due: 0,\n      payment_due_date: \"\",\n      payment_due_day: \"\",\n      payment_monthly_amount: 0,\n      device_id: \"\",\n      device_os_version: \"\",\n      device_model: \"\",\n      device_ip_address: \"\",\n      device_battery_level: \"\",\n      device_battery_statue: \"\",\n      device_network_connectio_type: \"\",\n      loyalty_date: \"\",\n      payment_history_total: 0,\n      subscription_id: \"\",\n      paid_subscriber: false,\n      newsletter_subscriber: false,\n      notification_subscriber: false,\n      left_review: false,\n      review_stars: [],\n      reviews: [],\n      testimonials: [],\n      notify_arn: \"\",\n      owner_notify_arn: \"\",\n    };\n\n    try {\n      const result = await onRegister!(store?.id ?? \"\", user);\n      if (result.error) {\n        showAlert(result);\n        return;\n      } else {\n        console.log(\"Registration successful\");\n        loginAction();\n      }\n    } catch (error) {\n      console.error(\"(2) Registration error:\", error);\n      showAlert(\"Registration failed. Please try again.\");\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Image\n        source={{\n          uri: \"https://appsformankind-assets.s3.amazonaws.com/Store/Apps_For_Mankind/logo.png\",\n        }}\n        style={styles.logo}\n      />\n      <Text style={styles.welcomeText}>\n        Welcome to {store?.store_name ?? \"\"}\n      </Text>\n      <Text style={styles.descriptionText}>\n        Sign up or login below to manage your project, task, and productivity\n      </Text>\n\n      <View style={styles.tabContainer}>\n        <TouchableOpacity\n          style={[styles.tab, activeTabIsLogin && styles.activeTab]}\n          onPress={() => setActiveTabIsLogin(true)}\n        >\n          <Text\n            style={[styles.tabText, activeTabIsLogin && styles.activeTabText]}\n          >\n            Login\n          </Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={[styles.tab, !activeTabIsLogin && styles.activeTab]}\n          onPress={() => setActiveTabIsLogin(false)}\n        >\n          <Text\n            style={[styles.tabText, !activeTabIsLogin && styles.activeTabText]}\n          >\n            Sign Up\n          </Text>\n        </TouchableOpacity>\n      </View>\n\n      {activeTabIsLogin ? (\n       <UserLoginTextFields />\n      ) : (\n        <UserRegisterTextFields /> \n      )}\n    </View>\n  );\n};\n\nexport default LoginComponentTwo;\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingHorizontal: 20,\n    paddingTop: 20,\n    backgroundColor: COLORS.white,\n    alignItems: \"center\",\n    height: height\n  },\n  logo: {\n    width: 80,\n    height: 80,\n    marginTop: 50,\n    borderRadius: 13,\n  },\n  appName: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: COLORS.primary,\n    marginTop: 10,\n  },\n  welcomeText: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n    color: COLORS.darkGray,\n    marginTop: 20,\n  },\n  descriptionText: {\n    fontSize: 14,\n    color: COLORS.darkGray,\n    textAlign: \"center\",\n    marginVertical: 10,\n  },\n  tabContainer: {\n    flexDirection: \"row\",\n    marginVertical: 20,\n  },\n  tab: {\n    flex: 1,\n    paddingBottom: 5,\n    alignItems: \"center\",\n  },\n  activeTab: {\n    borderBottomWidth: 2,\n    borderBottomColor: COLORS.primary,\n  },\n  tabText: {\n    fontSize: 16,\n    color: COLORS.darkGray,\n  },\n  activeTabText: {\n    color: COLORS.primary,\n  },\n  inputContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: COLORS.lightGray,\n    padding: 15,\n    borderRadius: 5,\n    marginVertical: 10,\n    width: width - 40,\n  },\n  input: {\n    flex: 1,\n    marginLeft: 10,\n    color: COLORS.darkGray,\n  },\n  forgotPasswordText: {\n    alignSelf: \"flex-end\",\n    color: COLORS.primary,\n    marginTop: 10,\n    marginBottom: 20,\n  },\n  loginButton: {\n    backgroundColor: COLORS.primary,\n    padding: 15,\n    borderRadius: 5,\n    width: width - 40,\n    alignItems: \"center\",\n  },\n  signupButton: {\n    backgroundColor: COLORS.primary,\n    padding: 15,\n    borderRadius: 5,\n    width: width - 40,\n    alignItems: \"center\",\n    marginTop: 20,\n  },\n  loginButtonText: {\n    fontSize: 18,\n    color: COLORS.white,\n    fontWeight: \"bold\",\n  },\n  termsText: {\n    fontSize: 12,\n    color: COLORS.darkGray,\n    textAlign: \"left\",\n    marginLeft: 10,\n    marginRight: 20,\n  },\n  checkboxContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginVertical: 10,\n  },\n  passwordCriteria: {\n    color: COLORS.darkGray,\n    fontSize: 14,\n    marginTop: 5,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n});\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { useState } from \"react\";\n// import {\n//   View,\n//   Text,\n//   TextInput,\n//   TouchableOpacity,\n//   StyleSheet,\n//   Image,\n//   Dimensions,\n//   Alert,\n// } from \"react-native\";\n// import { Ionicons } from \"@expo/vector-icons\"; // Import Ionicons from Expo\n// import { useAuth } from \"@/contexts/AuthContext\";\n// import { UserProps } from \"@/models/UserProps\";\n// import { generateUUID } from \"@/hooks/generateUUID\";\n// import { router } from \"expo-router\";\n// import { COLORS } from \"@/utils/theme\";\n// import { CONSTANTS } from \"@/utils/constants\";\n// import useFetchObject from \"@/hooks/useFetchObject\";\n// import { StoreModelProps } from \"@/models/StoreModelProps\";\n// import { getStore } from \"@/api/storeApi\";\n\n// const { width } = Dimensions.get(\"window\");\n\n// const LoginComponentTwo = () => {\n//   const [name, setName] = useState(\"\");\n//   const [email, setEmail] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [confirmedpassword, setConfirmedPassword] = useState(\"\");\n//   const [showPassword, setShowPassword] = useState(false);\n//   const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n//   const [activeTabIsLogin, setActiveTabIsLogin] = useState(true);\n//   const { onLogin, onRegister, onLogout, authState } = useAuth();\n//   const { data: store } = useFetchObject<StoreModelProps>(() =>\n//     getStore(CONSTANTS.store_id)\n//   );\n\n//   const showAlert = (message: string) =>\n//     Alert.alert(\"Error\", message, [{ text: \"OK\" }]);\n\n//   const loginAction = async () => {\n//     try {\n//       const result = await onLogin!(email, password);\n//       if (result.error) {\n//         showAlert(result.msg);\n//       } else {\n//         console.log(\"Login successful\");\n//         try {\n//           router.replace(\"/home\");\n//         } catch (navError) {\n//           console.error(\"Navigation error:\", navError);\n//         }\n//       }\n//     } catch (error) {\n//       console.error(\"Login error:\", error);\n//       showAlert(\"Login failed. Please try again.\");\n//     }\n//   };\n\n//   const registerAction = async () => {\n//     const user: UserProps = {\n//       id: generateUUID(8),\n//       name,\n//       email,\n//       password,\n//       store_ids: [],\n//       store_owner_id: \"\",\n//       onboardingQ1: \"\",\n//       onboardingQ2: \"\",\n//       onboardingQ3: \"\",\n//       onboardingQ4: \"\",\n//       orders: [],\n//       favoriteItems: [],\n//       cart: [],\n//       affiliate_link: \"\",\n//       active: false,\n//       role: \"\",\n//       birthday: \"\",\n//       todo_completed: false,\n//       tableName: \"\",\n//       username: \"\",\n//       phone_number: \"\",\n//       gender: \"\",\n//       profile_image: \"\",\n//       address_city: \"\",\n//       address_state: \"\",\n//       location_history: [],\n//       current_notification: \"\",\n//       notifications: [],\n//       payment_due: 0,\n//       payment_due_date: \"\",\n//       payment_due_day: \"\",\n//       payment_monthly_amount: 0,\n//       device_id: \"\",\n//       device_os_version: \"\",\n//       device_model: \"\",\n//       device_ip_address: \"\",\n//       device_battery_level: \"\",\n//       device_battery_statue: \"\",\n//       device_network_connectio_type: \"\",\n//       loyalty_date: \"\",\n//       payment_history_total: 0,\n//       subscription_id: \"\",\n//       paid_subscriber: false,\n//       newsletter_subscriber: false,\n//       notification_subscriber: false,\n//       left_review: false,\n//       review_stars: [],\n//       reviews: [],\n//       testimonials: [],\n//       notify_arn: \"\",\n//       owner_notify_arn: \"\",\n//     };\n\n//     try {\n//       const result = await onRegister!(user);\n//       if (result.error) {\n//         showAlert(result);\n//         return;\n//       } else {\n//         console.log(\"Registration successful\");\n//         loginAction();\n//       }\n//     } catch (error) {\n//       console.error(\"Registration error:\", error);\n//       showAlert(\"Registration failed. Please try again.\");\n//     }\n//   };\n\n//   return (\n//     <View style={styles.container}>\n//       <Image\n//         source={{\n//           uri: \"https://appsformankind-assets.s3.amazonaws.com/Store/Apps_For_Mankind/logo.png\",\n//         }}\n//         style={styles.logo}\n//       />\n//       <Text style={styles.welcomeText}>\n//         Welcome to {store?.store_name ?? \"\"}\n//       </Text>\n//       <Text style={styles.descriptionText}>\n//         Sign up or login below to manage your project, task, and productivity\n//       </Text>\n\n//       <View style={styles.tabContainer}>\n//         <TouchableOpacity\n//           style={[styles.tab, activeTabIsLogin && styles.activeTab]}\n//           onPress={() => setActiveTabIsLogin(true)}\n//         >\n//           <Text\n//             style={[styles.tabText, activeTabIsLogin && styles.activeTabText]}\n//           >\n//             Login\n//           </Text>\n//         </TouchableOpacity>\n//         <TouchableOpacity\n//           style={[styles.tab, !activeTabIsLogin && styles.activeTab]}\n//           onPress={() => setActiveTabIsLogin(false)}\n//         >\n//           <Text\n//             style={[styles.tabText, !activeTabIsLogin && styles.activeTabText]}\n//           >\n//             Sign Up\n//           </Text>\n//         </TouchableOpacity>\n//       </View>\n\n//       {activeTabIsLogin ? (\n//         <View>\n//           <View style={styles.inputContainer}>\n//             <Ionicons name=\"mail-outline\" size={20} color={COLORS.darkGray} />\n//             <TextInput\n//               placeholder=\"Enter your email\"\n//               //placeholderTextColor={COLORS.darkGray}\n//               onChangeText={setEmail}\n//               value={email}\n//               style={styles.input}\n//               keyboardType=\"email-address\"\n//               autoCapitalize=\"none\"\n//               autoComplete=\"email\"\n//               secureTextEntry={false} // Ensure this is set to false\n//             />\n//           </View>\n\n//           <View style={styles.inputContainer}>\n//             <Ionicons\n//               name=\"lock-closed-outline\"\n//               size={20}\n//               color={COLORS.darkGray}\n//             />\n//             <TextInput\n//               placeholder=\"Enter your password\"\n//               //placeholderTextColor={COLORS.darkGray}\n//               onChangeText={setPassword}\n//               value={password}\n//               style={styles.input}\n//               secureTextEntry={!showPassword} // Ensure this is set to false\n//             />\n//             <Ionicons name=\"eye-outline\" size={20} color={COLORS.darkGray} />\n//           </View>\n\n//           <TouchableOpacity>\n//             <Text style={styles.forgotPasswordText}>Forgot Password?</Text>\n//           </TouchableOpacity>\n\n//           <TouchableOpacity style={styles.loginButton} onPress={loginAction}>\n//             <Text style={styles.loginButtonText}>Login</Text>\n//           </TouchableOpacity>\n//         </View>\n//       ) : (\n//         <View>\n//           <View style={styles.inputContainer}>\n//             <Ionicons name=\"person-outline\" size={20} color={COLORS.darkGray} />\n//             <TextInput\n//               placeholder=\"Your name\"\n//               //placeholderTextColor={COLORS.darkGray}\n//               onChangeText={setName}\n//               value={name}\n//               style={styles.input}\n//               secureTextEntry={false} // Ensure this is set to false\n//             />\n//           </View>\n\n//           <View style={styles.inputContainer}>\n//             <Ionicons name=\"mail-outline\" size={20} color={COLORS.darkGray} />\n//             <TextInput\n//               placeholder=\"Enter your email\"\n//               //placeholderTextColor={COLORS.darkGray}\n//               onChangeText={setEmail}\n//               value={email}\n//               style={styles.input}\n//               keyboardType=\"email-address\"\n//               autoCapitalize=\"none\"\n//               autoComplete=\"email\"\n//               secureTextEntry={false} // Ensure this is set to false\n//             />\n//           </View>\n\n//           <View style={styles.inputContainer}>\n//             <Ionicons\n//               name=\"lock-closed-outline\"\n//               size={20}\n//               color={COLORS.darkGray}\n//             />\n//             <TextInput\n//               placeholder=\"Enter your password\"\n//               //placeholderTextColor={COLORS.darkGray}\n//               onChangeText={setPassword}\n//               value={password}\n//               style={styles.input}\n//               secureTextEntry={!showPassword}\n//             />\n//             <TouchableOpacity\n//               onPress={() => setShowPassword((prevState) => !prevState)}\n//             >\n//               <Ionicons\n//                 name={showPassword ? \"eye-off-outline\" : \"eye-outline\"}\n//                 size={20}\n//                 color={COLORS.darkGray}\n//               />\n//             </TouchableOpacity>\n//           </View>\n\n//           <View style={styles.inputContainer}>\n//             <Ionicons\n//               name=\"lock-closed-outline\"\n//               size={20}\n//               color={COLORS.darkGray}\n//             />\n//             <TextInput\n//               placeholder=\"Confirm your password\"\n//               onChangeText={setConfirmedPassword}\n//               value={confirmedpassword}\n//               style={styles.input}\n//               secureTextEntry={!showConfirmPassword} // Ensure this is set to false\n//             />\n\n//             <TouchableOpacity\n//               onPress={() => setShowConfirmPassword((prevState) => !prevState)}\n//             >\n//               <Ionicons\n//                 name={showPassword ? \"eye-off-outline\" : \"eye-outline\"}\n//                 size={20}\n//                 color={COLORS.darkGray}\n//               />\n//             </TouchableOpacity>\n//           </View>\n\n//           <Text style={styles.passwordCriteria}>\n//             <Ionicons name=\"checkmark-outline\" size={16} color={COLORS.green} />{\" \"}\n//             At least 8 characters\n//           </Text>\n//           <Text style={styles.passwordCriteria}>\n//             <Ionicons name=\"checkmark-outline\" size={16} color={COLORS.green} />{\" \"}\n//             At least 1 number\n//           </Text>\n//           <Text style={styles.passwordCriteria}>\n//             <Ionicons name=\"checkmark-outline\" size={16} color={COLORS.green} />{\" \"}\n//             Both upper and lower case letters\n//           </Text>\n\n//           <TouchableOpacity\n//             style={styles.signupButton}\n//             onPress={registerAction}\n//           >\n//             <Text style={styles.loginButtonText}>Sign Up</Text>\n//           </TouchableOpacity>\n//         </View>\n//       )}\n//     </View>\n//   );\n// };\n\n// export default LoginComponentTwo;\n\n// const styles = StyleSheet.create({\n//   container: {\n//     paddingHorizontal: 20,\n//     paddingTop: 20,\n//     backgroundColor: COLORS.white,\n//     alignItems: \"center\",\n//   },\n//   logo: {\n//     width: 80,\n//     height: 80,\n//     marginTop: 50,\n//     borderRadius: 13,\n//   },\n//   appName: {\n//     fontSize: 24,\n//     fontWeight: \"bold\",\n//     color: COLORS.primary,\n//     marginTop: 10,\n//   },\n//   welcomeText: {\n//     fontSize: 20,\n//     fontWeight: \"bold\",\n//     color: COLORS.darkGray,\n//     marginTop: 20,\n//   },\n//   descriptionText: {\n//     fontSize: 14,\n//     color: COLORS.darkGray,\n//     textAlign: \"center\",\n//     marginVertical: 10,\n//   },\n//   tabContainer: {\n//     flexDirection: \"row\",\n//     marginVertical: 20,\n//   },\n//   tab: {\n//     flex: 1,\n//     paddingBottom: 5,\n//     alignItems: \"center\",\n//   },\n//   activeTab: {\n//     borderBottomWidth: 2,\n//     borderBottomColor: COLORS.primary,\n//   },\n//   tabText: {\n//     fontSize: 16,\n//     color: COLORS.darkGray,\n//   },\n//   activeTabText: {\n//     color: COLORS.primary,\n//   },\n//   inputContainer: {\n//     flexDirection: \"row\",\n//     alignItems: \"center\",\n//     backgroundColor: COLORS.lightGray,\n//     padding: 15,\n//     borderRadius: 5,\n//     marginVertical: 10,\n//     width: width - 40,\n//   },\n//   input: {\n//     flex: 1,\n//     marginLeft: 10,\n//     color: COLORS.darkGray,\n//   },\n//   forgotPasswordText: {\n//     alignSelf: \"flex-end\",\n//     color: COLORS.primary,\n//     marginTop: 10,\n//     marginBottom: 20,\n//   },\n//   loginButton: {\n//     backgroundColor: COLORS.primary,\n//     padding: 15,\n//     borderRadius: 5,\n//     width: width - 40,\n//     alignItems: \"center\",\n//   },\n//   signupButton: {\n//     backgroundColor: COLORS.primary,\n//     padding: 15,\n//     borderRadius: 5,\n//     width: width - 40,\n//     alignItems: \"center\",\n//     marginTop: 20,\n//   },\n//   loginButtonText: {\n//     fontSize: 18,\n//     color: COLORS.white,\n//     fontWeight: \"bold\",\n//   },\n//   termsText: {\n//     fontSize: 12,\n//     color: COLORS.darkGray,\n//     textAlign: \"left\",\n//     marginLeft: 10,\n//     marginRight: 20,\n//   },\n//   checkboxContainer: {\n//     flexDirection: \"row\",\n//     alignItems: \"center\",\n//     marginVertical: 10,\n//   },\n//   passwordCriteria: {\n//     color: COLORS.darkGray,\n//     fontSize: 14,\n//     marginTop: 5,\n//     flexDirection: \"row\",\n//     alignItems: \"center\",\n//   },\n// });\n","import React, { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\nimport { ProductModelProps } from \"@/models/ProductModelProps\";\n\n// Define the context type\ninterface FavoriteContextType {\n  favorites: Partial<ProductModelProps>[];\n  addToFavorite: (item: Partial<ProductModelProps>) => Promise<void>;\n  decreaseFromFavorite: (item: Partial<ProductModelProps>) => void;\n  deleteItemFromFavorite: (item: Partial<ProductModelProps>) => void;\n  totalSum: number;\n  totalTax: number;\n  totalShipping: number;\n  grandTotal: number;\n  quantity: number;\n  clearData: () => void;\n}\n\nexport const FavoriteContext = createContext<FavoriteContextType | undefined>(undefined);\n\nexport const useFavorite = (): FavoriteContextType => {\n  const context = useContext(FavoriteContext);\n  if (!context) {\n    throw new Error(\"useFavorite must be used within a FavoriteProvider\");\n  }\n  return context;\n};\n\ninterface FavoriteProviderProps {\n  children: ReactNode;\n  storage: {\n    getItem: (key: string) => Promise<string | null>;\n    setItem: (key: string, value: string) => Promise<void>;\n    removeItem: (key: string) => Promise<void>;\n  };\n  storageKey: string;\n}\n\nexport const FavoriteProvider: React.FC<FavoriteProviderProps> = ({ children, storage, storageKey }) => {\n  const [favorites, setFavorites] = useState<Partial<ProductModelProps>[]>([]);\n  const [totalSum, setTotalSum] = useState<number>(0);\n  const [totalShipping, setTotalShipping] = useState<number>(10);\n  const [quantity, setQuantity] = useState<number>(0);\n\n  // Load favorites from provided storage when the component mounts\n  useEffect(() => {\n    const loadFavorites = async () => {\n      try {\n        const storedFavorites = await storage.getItem(storageKey);\n        if (storedFavorites) {\n          const parsedFavorites = JSON.parse(storedFavorites);\n          setFavorites(parsedFavorites);\n          calculateTotalSum(parsedFavorites);\n          setQuantity(parsedFavorites.reduce((sum: number, item: Partial<ProductModelProps>) => sum + (item.quantity || 0), 0));\n        }\n      } catch (error) {\n        console.error(\"Failed to load favorites from storage:\", error);\n      }\n    };\n    loadFavorites();\n  }, [storage, storageKey]);\n\n  // Save favorites to provided storage whenever they are updated\n  useEffect(() => {\n    const saveFavorites = async () => {\n      try {\n        if (favorites.length > 0) {\n          await storage.setItem(storageKey, JSON.stringify(favorites));\n        }\n      } catch (error) {\n        console.error(\"Failed to save favorites to storage:\", error);\n      }\n    };\n    saveFavorites();\n  }, [favorites, storage, storageKey]);\n\n  const addToFavorite = async (item: Partial<ProductModelProps>) => {\n    let updatedFavorites = [...favorites];\n    const itemExistIndex = updatedFavorites.findIndex((favorite) => favorite.id === item.id);\n\n    if (itemExistIndex !== -1) {\n      updatedFavorites[itemExistIndex].quantity = (updatedFavorites[itemExistIndex].quantity || 0) + 1;\n    } else {\n      updatedFavorites = [...updatedFavorites, { ...item, quantity: 1 }];\n    }\n\n    setFavorites(updatedFavorites);\n    calculateTotalSum(updatedFavorites);\n    setQuantity((prev) => prev + 1);\n  };\n\n  const decreaseFromFavorite = (item: Partial<ProductModelProps>) => {\n    const itemExistIndex = favorites.findIndex((favorite) => favorite.id === item.id);\n    if (itemExistIndex !== -1) {\n      const updatedFavorites = [...favorites];\n      if ((updatedFavorites[itemExistIndex].quantity || 0) > 1) {\n        updatedFavorites[itemExistIndex].quantity = (updatedFavorites[itemExistIndex].quantity || 0) - 1;\n      } else {\n        updatedFavorites.splice(itemExistIndex, 1); // Remove item if quantity <= 1\n      }\n\n      setFavorites(updatedFavorites);\n      calculateTotalSum(updatedFavorites);\n      setQuantity((prev) => prev - 1);\n    }\n  };\n\n  const deleteItemFromFavorite = (item: Partial<ProductModelProps>) => {\n    const updatedFavorites = favorites.filter((favorite) => favorite.id !== item.id);\n    setFavorites(updatedFavorites);\n    calculateTotalSum(updatedFavorites);\n    setQuantity((prev) => prev - (item.quantity || 0));\n  };\n\n  const clearData = () => {\n    setFavorites([]);\n    setTotalSum(0);\n    setQuantity(0);\n    storage.removeItem(storageKey); // Clear from storage as well\n  };\n\n  // Calculate total sum\n  const calculateTotalSum = (favorites: Partial<ProductModelProps>[]) => {\n    const total = favorites.reduce((sum, item) => sum + (item.price || 0) * (item.quantity || 0), 0);\n    setTotalSum(total);\n  };\n\n  const value: FavoriteContextType = {\n    favorites,\n    addToFavorite,\n    decreaseFromFavorite,\n    totalSum,\n    totalTax: totalSum * 0.08875,\n    totalShipping,\n    grandTotal: totalSum + totalSum * 0.08875 + totalShipping,\n    quantity,\n    deleteItemFromFavorite,\n    clearData,\n  };\n\n  return <FavoriteContext.Provider value={value}>{children}</FavoriteContext.Provider>;\n};\n\n\n// stores it in the view temportay\n// import React, { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\n// import { useFocusEffect } from \"@react-navigation/native\";\n// import { ProductModelProps } from \"@/models/ProductModelProps\";\n// import AsyncStorage from \"@react-native-async-storage/async-storage\"; // Import AsyncStorage\n\n// const FAVORITES_KEY = 'user_favorites'; // Key for storing favorites in AsyncStorage\n\n// // Define the context type\n// interface FavoriteContextType {\n//   favorites: Partial<ProductModelProps>[];\n//   addToFavorite: (item: Partial<ProductModelProps>) => Promise<void>;\n//   decreaseFromFavorite: (item: Partial<ProductModelProps>) => void;\n//   deleteItemFromFavorite: (item: Partial<ProductModelProps>) => void;\n//   totalSum: number;\n//   totalTax: number;\n//   totalShipping: number;\n//   grandTotal: number;\n//   quantity: number;\n//   clearData: () => void;\n// }\n\n// export const FavoriteContext = createContext<FavoriteContextType | undefined>(undefined);\n\n// export const useFavorite = (): FavoriteContextType => {\n//   const context = useContext(FavoriteContext);\n//   if (!context) {\n//     throw new Error(\"useFavorite must be used within a FavoriteProvider\");\n//   }\n//   return context;\n// };\n\n// export const FavoriteProvider = ({ children }: { children: ReactNode }) => {\n//   const [favorites, setFavorites] = useState<Partial<ProductModelProps>[]>([]);\n//   const [totalSum, setTotalSum] = useState<number>(0);\n//   const [totalShipping, setTotalShipping] = useState<number>(10);\n//   const [quantity, setQuantity] = useState<number>(0);\n\n//   // Load favorites from AsyncStorage when the component mounts\n//   useEffect(() => {\n//     const loadFavorites = async () => {\n//       try {\n//         const storedFavorites = await AsyncStorage.getItem(FAVORITES_KEY);\n//         if (storedFavorites) {\n//           setFavorites(JSON.parse(storedFavorites));\n//         }\n//       } catch (error) {\n//         console.error(\"Failed to load favorites from storage:\", error);\n//       }\n//     };\n//     loadFavorites();\n//   }, []);\n\n//   // Save favorites to AsyncStorage whenever they are updated\n//   useEffect(() => {\n//     const saveFavorites = async () => {\n//       try {\n//         await AsyncStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));\n//       } catch (error) {\n//         console.error(\"Failed to save favorites to storage:\", error);\n//       }\n//     };\n//     saveFavorites();\n//   }, [favorites]);\n\n//   const addToFavorite = async (item: Partial<ProductModelProps>) => {\n//     let updatedFavorites = [...favorites];\n//     const itemExistIndex = updatedFavorites.findIndex((favorite) => favorite.id === item.id);\n\n//     if (itemExistIndex !== -1) {\n//       updatedFavorites[itemExistIndex].quantity = (updatedFavorites[itemExistIndex].quantity || 0) + 1;\n//     } else {\n//       updatedFavorites = [...updatedFavorites, { ...item, quantity: 1 }];\n//     }\n\n//     setFavorites(updatedFavorites);\n//     calculateTotalSum(updatedFavorites);\n//     setQuantity((prev) => prev + 1);\n//   };\n\n//   const decreaseFromFavorite = (item: Partial<ProductModelProps>) => {\n//     const itemExistIndex = favorites.findIndex((favorite) => favorite.id === item.id);\n//     if (itemExistIndex !== -1) {\n//       const updatedFavorites = [...favorites];\n//       if ((updatedFavorites[itemExistIndex].quantity || 0) > 1) {\n//         updatedFavorites[itemExistIndex].quantity = (updatedFavorites[itemExistIndex].quantity || 0) - 1;\n//       } else {\n//         updatedFavorites.splice(itemExistIndex, 1); // Remove item if quantity <= 1\n//       }\n\n//       setFavorites(updatedFavorites);\n//       calculateTotalSum(updatedFavorites);\n//       setQuantity((prev) => prev - 1);\n//     }\n//   };\n\n//   const deleteItemFromFavorite = (item: Partial<ProductModelProps>) => {\n//     const updatedFavorites = favorites.filter((favorite) => favorite.id !== item.id);\n//     setFavorites(updatedFavorites);\n//     calculateTotalSum(updatedFavorites);\n//     setQuantity((prev) => prev - (item.quantity || 0));\n//   };\n\n//   const clearData = () => {\n//     setFavorites([]);\n//     setTotalSum(0);\n//     setQuantity(0);\n//     AsyncStorage.removeItem(FAVORITES_KEY); // Clear from storage as well\n//   };\n\n//   // Calculate total sum\n//   const calculateTotalSum = (favorites: Partial<ProductModelProps>[]) => {\n//     const total = favorites.reduce((sum, item) => sum + (item.price || 0) * (item.quantity || 0), 0);\n//     setTotalSum(total);\n//   };\n\n//   const value: FavoriteContextType = {\n//     favorites,\n//     addToFavorite,\n//     decreaseFromFavorite,\n//     totalSum,\n//     totalTax: totalSum * 0.08875,\n//     totalShipping,\n//     grandTotal: totalSum + totalSum * 0.08875 + totalShipping,\n//     quantity,\n//     deleteItemFromFavorite,\n//     clearData,\n//   };\n\n//   return <FavoriteContext.Provider value={value}>{children}</FavoriteContext.Provider>;\n// };\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { createContext, useContext, useState, ReactNode } from \"react\";\n// import { useFocusEffect } from \"@react-navigation/native\";\n// import { ProductModelProps } from \"@/models/ProductModelProps\"; \n\n// // Define the context type\n// interface FavoriteContextType {\n//   favorites: Partial<ProductModelProps>[];\n//   addToFavorite: (item: Partial<ProductModelProps>) => Promise<void>;\n//   decreaseFromFavorite: (item: Partial<ProductModelProps>) => void;\n//   deleteItemFromFavorite: (item: Partial<ProductModelProps>) => void;\n//   totalSum: number;\n//   totalTax: number;\n//   totalShipping: number;\n//   grandTotal: number;\n//   quantity: number;\n//   clearData: (authUser: any) => void;\n// }\n\n// export const FavoriteContext = createContext<FavoriteContextType | undefined>(undefined);\n\n// export const useFavorite = (): FavoriteContextType => {\n//   const context = useContext(FavoriteContext);\n//   if (!context) {\n//     throw new Error(\"useFavorite must be used within a FavoriteProvider\");\n//   }\n//   return context;\n// };\n\n// export const FavoriteProvider = ({ children }: { children: ReactNode }) => {\n//   const [favorites, setFavorites] = useState<Partial<ProductModelProps>[]>([]); // Initialize state with an empty favorite\n//   const [totalSum, setTotalSum] = useState<number>(0);\n//   const [totalShipping, setTotalShipping] = useState<number>(10); // Example shipping cost\n//   const [quantity, setQuantity] = useState<number>(0);\n\n//   const totalTax = totalSum * 0.08875; // Tax calculation\n//   const grandTotal = totalSum + totalTax + totalShipping; // Grand total calculation\n\n//   useFocusEffect(\n//     React.useCallback(() => {\n//       // Load or calculate initial values when the favorite context is first used\n//       calculateTotalSum(favorites);\n//       setQuantity(favorites.reduce((sum, item) => sum + (item.quantity || 0), 0));\n//     }, [favorites]) // Runs when the favorite is updated\n//   );\n\n//   const addToFavorite = async (item: Partial<ProductModelProps>) => {\n//     try {\n//       let updatedFavorites = [...favorites];\n//       const itemExistIndex = updatedFavorites.findIndex((favorite) => favorite.id === item.id);\n\n//       if (itemExistIndex !== -1) {\n//         updatedFavorites[itemExistIndex].quantity = (updatedFavorites[itemExistIndex].quantity || 0) + 1; // Increment quantity\n//       } else {\n//         updatedFavorites = [...updatedFavorites, { ...item, quantity: 1 }];\n//       }\n\n//       setFavorites(updatedFavorites);\n//       calculateTotalSum(updatedFavorites);\n//       setQuantity((prev) => prev + 1);\n\n//       // Ensure to await the user profile update\n//       //  error adding item -- needed editing \n//       // await updateSingleUserItem({ favorite: updatedFavorites, user: authUser });\n\n\n\n\n\n//     } catch (error) {\n//       console.error(\"Error adding item to favorite:\", error);\n//       // You can add further error handling here, e.g., show a notification to the user\n//     }\n//   };\n\n//   const decreaseFromFavorite = (item: Partial<ProductModelProps>) => {\n//     const itemExistIndex = favorites.findIndex((favorite) => favorite.id === item.id);\n//     if (itemExistIndex !== -1) {\n//       const updatedFavorites = [...favorites];\n//       if ((updatedFavorites[itemExistIndex].quantity || 0) > 1) {\n//         updatedFavorites[itemExistIndex].quantity = (updatedFavorites[itemExistIndex].quantity || 0) - 1;\n//       } else {\n//         updatedFavorites.splice(itemExistIndex, 1); // Remove item if quantity <= 1\n//       }\n\n//       setFavorites(updatedFavorites);\n//       calculateTotalSum(updatedFavorites);\n//       setQuantity((prev) => prev - 1);\n//       // updateSingleUserItem({ favorite: updatedFavorites, user: authUser }); // Update user profile favorite\n//     }\n//   };\n\n//   const deleteItemFromFavorite = (item: Partial<ProductModelProps>) => {\n//     const updatedFavorites = favorites.filter((favorite) => favorite.id !== item.id);\n//     setFavorites(updatedFavorites);\n//     calculateTotalSum(updatedFavorites);\n//     setQuantity((prev) => prev - (item.quantity || 0));\n//   };\n\n//   const clearData = (authUser: any) => {\n//     setFavorites([]);\n//     setTotalSum(0);\n//     setQuantity(0);\n//     // updateSingleUserItem({ favorite: [], user: authUser }); // Clear favorite in user profile\n//   };\n\n//   // Calculate total sum\n//   const calculateTotalSum = (favorites: Partial<ProductModelProps>[]) => {\n//     const total = favorites.reduce((sum, item) => sum + (item.price || 0) * (item.quantity || 0), 0);\n//     setTotalSum(total);\n//   };\n\n//   const value: FavoriteContextType = {\n//     favorites,\n//     addToFavorite,\n//     decreaseFromFavorite,\n//     quantity,\n//     totalSum,\n//     totalTax,\n//     totalShipping,\n//     grandTotal,\n//     deleteItemFromFavorite,\n//     clearData,\n//   };\n\n//   return (\n//     <FavoriteContext.Provider value={value}>\n//       {children}\n//     </FavoriteContext.Provider>\n//   );\n// };\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { createContext, useContext, useState, ReactNode } from \"react\";\n// import { useFocusEffect } from \"@react-navigation/native\";\n// import { ProductModelProps } from \"@/models/ProductModelProps\"; \n\n// // Define the context type\n// interface FavoriteContextType {\n//   favorites: Partial<ProductModelProps>[];\n//   addToFavorite: (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => Promise<void>;\n//   decreaseFromFavorite: (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => void;\n//   deleteItemFromFavorite: (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => void;\n//   totalSum: number;\n//   totalTax: number;\n//   totalShipping: number;\n//   grandTotal: number;\n//   quantity: number;\n//   clearData: (authUser: any, updateSingleUserItem: any) => void;\n// }\n\n// export const FavoriteContext = createContext<FavoriteContextType | undefined>(undefined);\n\n// export const useFavorite = (): FavoriteContextType => {\n//   const context = useContext(FavoriteContext);\n//   if (!context) {\n//     throw new Error(\"useFavorite must be used within a FavoriteProvider\");\n//   }\n//   return context;\n// };\n\n// export const FavoriteProvider = ({ children }: { children: ReactNode }) => {\n//   const [favorites, setFavorites] = useState<Partial<ProductModelProps>[]>([]); // Initialize state with an empty favorite\n//   const [totalSum, setTotalSum] = useState<number>(0);\n//   const [totalShipping, setTotalShipping] = useState<number>(10); // Example shipping cost\n//   const [quantity, setQuantity] = useState<number>(0);\n\n//   const totalTax = totalSum * 0.08875; // Tax calculation\n//   const grandTotal = totalSum + totalTax + totalShipping; // Grand total calculation\n\n//   useFocusEffect(\n//     React.useCallback(() => {\n//       // Load or calculate initial values when the favorite context is first used\n//       calculateTotalSum(favorites);\n//       setQuantity(favorites.reduce((sum, item) => sum + (item.quantity || 0), 0));\n//     }, [favorites]) // Runs when the favorite is updated\n//   );\n\n//   const addToFavorite = async (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => {\n//     try {\n//       let updatedFavorites = [...favorites];\n//       const itemExistIndex = updatedFavorites.findIndex((favorite) => favorite.id === item.id);\n\n//       if (itemExistIndex !== -1) {\n//         updatedFavorites[itemExistIndex].quantity = (updatedFavorites[itemExistIndex].quantity || 0) + 1; // Increment quantity\n//       } else {\n//         updatedFavorites = [...updatedFavorites, { ...item, quantity: 1 }];\n//       }\n\n//       setFavorites(updatedFavorites);\n//       calculateTotalSum(updatedFavorites);\n//       setQuantity((prev) => prev + 1);\n\n//       // Ensure to await the user profile update\n//       //  error adding item -- needed editing \n//       // await updateSingleUserItem({ favorite: updatedFavorites, user: authUser });\n\n\n\n\n\n//     } catch (error) {\n//       console.error(\"Error adding item to favorite:\", error);\n//       // You can add further error handling here, e.g., show a notification to the user\n//     }\n//   };\n\n//   const decreaseFromFavorite = (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => {\n//     const itemExistIndex = favorites.findIndex((favorite) => favorite.id === item.id);\n//     if (itemExistIndex !== -1) {\n//       const updatedFavorites = [...favorites];\n//       if ((updatedFavorites[itemExistIndex].quantity || 0) > 1) {\n//         updatedFavorites[itemExistIndex].quantity = (updatedFavorites[itemExistIndex].quantity || 0) - 1;\n//       } else {\n//         updatedFavorites.splice(itemExistIndex, 1); // Remove item if quantity <= 1\n//       }\n\n//       setFavorites(updatedFavorites);\n//       calculateTotalSum(updatedFavorites);\n//       setQuantity((prev) => prev - 1);\n//       updateSingleUserItem({ favorite: updatedFavorites, user: authUser }); // Update user profile favorite\n//     }\n//   };\n\n//   const deleteItemFromFavorite = (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => {\n//     const updatedFavorites = favorites.filter((favorite) => favorite.id !== item.id);\n//     setFavorites(updatedFavorites);\n//     calculateTotalSum(updatedFavorites);\n//     setQuantity((prev) => prev - (item.quantity || 0));\n//     updateSingleUserItem({ favorite: updatedFavorites, user: authUser }); // Update user profile favorite\n//   };\n\n//   const clearData = (authUser: any, updateSingleUserItem: any) => {\n//     setFavorites([]);\n//     setTotalSum(0);\n//     setQuantity(0);\n//     updateSingleUserItem({ favorite: [], user: authUser }); // Clear favorite in user profile\n//   };\n\n//   // Calculate total sum\n//   const calculateTotalSum = (favorites: Partial<ProductModelProps>[]) => {\n//     const total = favorites.reduce((sum, item) => sum + (item.price || 0) * (item.quantity || 0), 0);\n//     setTotalSum(total);\n//   };\n\n//   const value: FavoriteContextType = {\n//     favorites,\n//     addToFavorite,\n//     decreaseFromFavorite,\n//     quantity,\n//     totalSum,\n//     totalTax,\n//     totalShipping,\n//     grandTotal,\n//     deleteItemFromFavorite,\n//     clearData,\n//   };\n\n//   return (\n//     <FavoriteContext.Provider value={value}>\n//       {children}\n//     </FavoriteContext.Provider>\n//   );\n// };\n\n\n","import React, { FC, useEffect, useState } from 'react';\nimport { View, Text, Image, StyleSheet, TouchableOpacity, Dimensions, ScrollView } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { COLORS } from '@/utils/theme'; // Assuming you have a COLORS file\nimport { AWS_HOLDER_IMAGE } from '@/utils/api';\nimport { useClientProduct } from '@/contexts/ClientProductContext';\nimport { ProductModelProps } from '@/models/ProductModelProps';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useCart } from '@/contexts/CartContext';\nimport convertToCurrency from '@/hooks/convertToCurrency';\nimport { useFavorite } from '@/contexts/FavoriteContext';\nimport { useTheme } from \"@/contexts/ThemeContext\"\n\nconst { width, height } = Dimensions.get('window');\n\nexport interface ProductDetailsPageVThreeProps {\n  showSize: boolean\n}\n\nconst ProductDetailsPageVThree: FC<ProductDetailsPageVThreeProps> = (props) => {\n  const [selectedSize, setSelectedSize] = useState<number | null>(null);\n  const [isFavorite, setIsFavorite] = useState<boolean>(false); // State for heart icon toggle\n  const { selectedProduct } = useClientProduct();\n  const { authState, updateSingleUserItem} = useAuth(); // Access authState and updateSingleUserItem\n  const { addToCart } = useCart();\n  const { colors } = useTheme();\n  const { addToFavorite, favorites } = useFavorite();\n\n  const sizes = [6, 6.5, 7, 7.5, 8]; // Example sizes\n\n  const handlePress = () => {\n    if (selectedProduct) {\n      const partialProduct: Partial<ProductModelProps> = {\n        id: selectedProduct.id,\n        name: selectedProduct.name,\n        price: selectedProduct.price,\n        images: selectedProduct.images,\n        quantity: 1, // Default quantity\n        color: 'default', // Add color if necessary\n        size: String(selectedSize) ?? 'default', // Add size if necessary\n      };\n      addToCart(partialProduct); // Pass authUser and updateSingleUserItem\n    }\n  };\n// Check if product is already a favorite when favorites or selectedProduct changes\nuseEffect(() => {\n  if (selectedProduct && favorites.some((fav) => fav.id === selectedProduct.id)) {\n    setIsFavorite(true);\n  } else {\n    setIsFavorite(false);\n  }\n}, [favorites, selectedProduct]); // Dependency array: Runs when favorites or selectedProduct changes\n\nconst toggleFavorite = async () => {\n  console.log(\"Fav selected 3\")\n  if (selectedProduct) {\n    const currentFavorites = authState?.user?.favoriteItems || [];\n\n    // Check if the product is already a favorite\n    const updatedFavorites = currentFavorites.includes(selectedProduct.id)\n      ? currentFavorites.filter((itemId) => itemId !== selectedProduct.id) // Remove from favorites\n      : [...currentFavorites, selectedProduct.id]; // Add to favorites\n\n    setIsFavorite(!isFavorite); // Toggle UI state\n\n    // Call the `updateSingleUserItem` function with the updated favorites list\n    // await updateSingleUserItem('favoriteItems', updatedFavorites);\n\n    // Add the product to the favorites list in the context\n    addToFavorite(selectedProduct);\n  }\n};\n\n\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.background\n  },\n  scrollContainer: {\n    paddingBottom: 120, // Space for the fixed Add to Cart button\n  },\n  heartIconWrapper: {\n    position: 'absolute',\n    top: 16,\n    right: 16,\n    zIndex: 10, // Keep it on top\n  },\n  imageCarousel: {\n    height: width,\n  },\n  productImage: {\n    width: width,\n    height: width,\n    resizeMode: 'cover',\n  },\n  productInfo: {\n    padding: 16,\n  },\n  productName: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: colors.pageText\n  },\n  productColor: {\n    fontSize: 14,\n    color: '#666',\n    marginTop: 4,\n  },\n  priceDescription: {\n    padding: 16,\n  },\n  price: {\n    fontSize: 28,\n    fontWeight: 'bold',\n    color: colors.pageText\n  },\n  description: {\n    fontSize: 14,\n    color: colors.pageText, //'#555',\n    marginTop: 8,\n  },\n  sizeLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: colors.pageText, // '#000',\n    paddingHorizontal: 16,\n    paddingTop: 16,\n  },\n  sizeSelector: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    paddingHorizontal: 16,\n    marginTop: 8,\n  },\n  sizeOption: {\n    borderRadius: 50,\n    borderWidth: 1,\n    borderColor: colors.border, // '#ddd',\n    padding: 12,\n    width: 50,\n    height: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  selectedSizeOption: {\n    backgroundColor: '#000',\n    borderColor: '#000',\n  },\n  sizeText: {\n    fontSize: 16,\n    color: '#000',\n  },\n  selectedSizeText: {\n    color: '#fff',\n  },\n  fixedBottomButtonContainer: {\n    position: 'absolute',\n    bottom: 0,\n    width: '100%',\n    paddingHorizontal: 16,\n    paddingVertical: 16,\n    // backgroundColor: 'transpart',\n  },\n  addToCartButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: colors.buttonBackground, //'#000',\n    paddingVertical: 16,\n    borderRadius: 50,\n  },\n  addToCartButtonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: colors.buttonText,// '#fff',\n    marginRight: 10,\n  },\n});\n\n  return (\n    <View style={styles.container}>\n      {/* Heart Icon (Favorite) */}\n      <View style={styles.heartIconWrapper}>\n        <TouchableOpacity onPress={toggleFavorite}>\n          <Ionicons\n            name={isFavorite ? \"heart\" : \"heart-outline\"} // Toggle between filled and outline\n            size={24}\n            color={isFavorite ? \"black\" : \"black\"} // Set black when active\n          />\n        </TouchableOpacity>\n      </View>\n\n      {/* Product Scrollable Content */}\n      <ScrollView contentContainerStyle={styles.scrollContainer}>\n        {/* Product Image Carousel */}\n        <ScrollView horizontal pagingEnabled showsHorizontalScrollIndicator={false} style={styles.imageCarousel}>\n          {selectedProduct?.images?.map((imageUri, index) => (\n            <Image key={index} source={{ uri: imageUri || AWS_HOLDER_IMAGE }} style={styles.productImage} />\n          ))}\n        </ScrollView>\n\n        {/* Product Info */}\n        <View style={styles.productInfo}>\n          <Text style={styles.productName}>{selectedProduct?.name}</Text>\n          <Text style={styles.productColor}>Color: {selectedProduct?.color}</Text>\n        </View>\n\n        {/* Price and Description */}\n        <View style={styles.priceDescription}>\n          <Text style={styles.price}>{convertToCurrency(selectedProduct?.price ?? 0) }</Text>\n          <Text style={styles.description}>\n            {selectedProduct?.description}\n          </Text>\n        </View>\n{/* Size Selector */}\n{props.showSize ? (\n  <>\n    <Text style={styles.sizeLabel}>PICK YOUR SIZE</Text>\n    <View style={styles.sizeSelector}>\n      {sizes.map((size, index) => (\n        <TouchableOpacity\n          key={index}\n          style={[styles.sizeOption, selectedSize === size && styles.selectedSizeOption]}\n          onPress={() => setSelectedSize(size)}\n        >\n          <Text style={[styles.sizeText, selectedSize === size && styles.selectedSizeText]}>{size}</Text>\n        </TouchableOpacity>\n      ))}\n    </View>\n  </>\n) : (\n  <View />\n)}\n\n        \n       \n      </ScrollView>\n  \n\n      {/* Add to Cart Button - Fixed at the bottom */}\n      <View style={styles.fixedBottomButtonContainer}>\n        <TouchableOpacity style={styles.addToCartButton} onPress={handlePress}>\n          <Text style={styles.addToCartButtonText}>Add to Cart</Text>\n          <Ionicons name=\"cart-outline\" size={24} color={colors.primary} />\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n};\n\n\nexport default ProductDetailsPageVThree;\n\n\n\n// cart button in scroll view\n// import React, { useState } from 'react';\n// import { View, Text, Image, StyleSheet, TouchableOpacity, Dimensions, ScrollView } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { COLORS } from '@/utils/theme'; // Assuming you have a COLORS file\n// import { AWS_HOLDER_IMAGE } from '@/utils/api';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { useCart } from '@/contexts/CartContext';\n\n// const { width } = Dimensions.get('window');\n\n// const ProductDetailsPageVThree: React.FC = () => {\n//   const [selectedSize, setSelectedSize] = useState<number | null>(null);\n//   const [isFavorite, setIsFavorite] = useState<boolean>(false); // State for heart icon toggle\n//   const { selectedProduct } = useClientProduct();\n//   const { authState, updateSingleUserItem } = useAuth(); // Access authState and updateSingleUserItem\n//   const { addToCart } = useCart();\n\n//   const sizes = [6, 6.5, 7, 7.5, 8]; // Example sizes\n\n//   const handlePress = () => {\n//     if (selectedProduct) {\n//       const partialProduct: Partial<ProductModelProps> = {\n//         id: selectedProduct.id,\n//         name: selectedProduct.name,\n//         price: selectedProduct.price,\n//         images: selectedProduct.images,\n//         quantity: 1, // Default quantity\n//         color: 'default', // Add color if necessary\n//         size: String(selectedSize) ?? 'default', // Add size if necessary\n//       };\n//       addToCart(partialProduct); // Pass authUser and updateSingleUserItem\n//     }\n//   };\n\n//   const toggleFavorite = () => {\n//     setIsFavorite(!isFavorite); // Toggle the heart icon\n//   };\n\n//   return (\n//     <ScrollView contentContainerStyle={styles.container}>\n//       {/* Heart Icon (Favorite) */}\n//       <View style={styles.heartIconWrapper}>\n//         <TouchableOpacity onPress={toggleFavorite}>\n//           <Ionicons\n//             name={isFavorite ? \"heart\" : \"heart-outline\"} // Toggle between filled and outline\n//             size={24}\n//             color={isFavorite ? \"black\" : \"black\"} // Set black when active\n//           />\n//         </TouchableOpacity>\n//       </View>\n\n//       {/* Product Image Carousel */}\n//       <ScrollView horizontal pagingEnabled showsHorizontalScrollIndicator={false} style={styles.imageCarousel}>\n//         {selectedProduct?.images?.map((imageUri, index) => (\n//           <Image key={index} source={{ uri: imageUri || AWS_HOLDER_IMAGE }} style={styles.productImage} />\n//         ))}\n//       </ScrollView>\n\n//       {/* Product Info */}\n//       <View style={styles.productInfo}>\n//         <Text style={styles.productName}>Nike Air Max 720</Text>\n//         <Text style={styles.productColor}>Color: Black Anthracite</Text>\n//       </View>\n\n//       {/* Price and Description */}\n//       <View style={styles.priceDescription}>\n//         <Text style={styles.price}>$180</Text>\n//         <Text style={styles.description}>\n//           The Nike Air Max 720 goes bigger than ever before with Nike's tallest Air unit yet, offering more air underfoot for unimaginable, all-day comfort.\n//         </Text>\n//       </View>\n\n//       {/* Size Selector */}\n//       <Text style={styles.sizeLabel}>PICK YOUR SIZE</Text>\n//       <View style={styles.sizeSelector}>\n//         {sizes.map((size, index) => (\n//           <TouchableOpacity\n//             key={index}\n//             style={[styles.sizeOption, selectedSize === size && styles.selectedSizeOption]}\n//             onPress={() => setSelectedSize(size)}\n//           >\n//             <Text style={[styles.sizeText, selectedSize === size && styles.selectedSizeText]}>{size}</Text>\n//           </TouchableOpacity>\n//         ))}\n//       </View>\n\n//       {/* Add to Cart Button */}\n//       <TouchableOpacity style={styles.addToCartButton} onPress={handlePress}>\n//         <Text style={styles.addToCartButtonText}>Add to Cart</Text>\n//         <Ionicons name=\"cart-outline\" size={24} color=\"white\" />\n//       </TouchableOpacity>\n//     </ScrollView>\n//   );\n// };\n\n// const styles = StyleSheet.create({\n//   container: {\n//     backgroundColor: '#F5F5F5',\n//     paddingBottom: 40,\n//   },\n//   heartIconWrapper: {\n//     position: 'absolute',\n//     top: 16,\n//     right: 16,\n//     zIndex: 10, // Keep it on top\n//   },\n//   imageCarousel: {\n//     height: width,\n//   },\n//   productImage: {\n//     width: width,\n//     height: width,\n//     resizeMode: 'cover',\n//   },\n//   productInfo: {\n//     padding: 16,\n//   },\n//   productName: {\n//     fontSize: 24,\n//     fontWeight: 'bold',\n//     color: '#000',\n//   },\n//   productColor: {\n//     fontSize: 14,\n//     color: '#666',\n//     marginTop: 4,\n//   },\n//   priceDescription: {\n//     padding: 16,\n//   },\n//   price: {\n//     fontSize: 28,\n//     fontWeight: 'bold',\n//     color: '#000',\n//   },\n//   description: {\n//     fontSize: 14,\n//     color: '#555',\n//     marginTop: 8,\n//   },\n//   sizeLabel: {\n//     fontSize: 16,\n//     fontWeight: 'bold',\n//     color: '#000',\n//     paddingHorizontal: 16,\n//     paddingTop: 16,\n//   },\n//   sizeSelector: {\n//     flexDirection: 'row',\n//     justifyContent: 'space-around',\n//     paddingHorizontal: 16,\n//     marginTop: 8,\n//   },\n//   sizeOption: {\n//     borderRadius: 50,\n//     borderWidth: 1,\n//     borderColor: '#ddd',\n//     padding: 12,\n//     width: 50,\n//     height: 50,\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//   },\n//   selectedSizeOption: {\n//     backgroundColor: '#000',\n//     borderColor: '#000',\n//   },\n//   sizeText: {\n//     fontSize: 16,\n//     color: '#000',\n//   },\n//   selectedSizeText: {\n//     color: '#fff',\n//   },\n//   addToCartButton: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     justifyContent: 'center',\n//     backgroundColor: '#000',\n//     paddingVertical: 16,\n//     marginHorizontal: 16,\n//     borderRadius: 50,\n//     marginTop: 24,\n//   },\n//   addToCartButtonText: {\n//     fontSize: 18,\n//     fontWeight: 'bold',\n//     color: '#fff',\n//     marginRight: 10,\n//   },\n// });\n\n// export default ProductDetailsPageVThree;\n\n\n// simple\n// import React, { FC, useState } from 'react';\n// import { View, Text, Image, StyleSheet, ScrollView } from 'react-native';\n// import { useCart } from '@/contexts/CartContext';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import GlitterButton from '@/components/buttons/GlitterButtom';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useAuth } from '@/contexts/AuthContext';\n\n// const ProductDetailsPageVThree: FC = () => {\n//   const [selectedColor, setSelectedColor] = useState<string | null>(null);\n//   const [selectedSize, setSelectedSize] = useState<string | null>(null);\n//   const { addToCart } = useCart();\n//   const { selectedProduct } = useClientProduct();\n//   const { authState, updateSingleUserItem } = useAuth(); // Access authState and updateSingleUserItem\n\n//   const handlePress = () => {\n//     if (selectedProduct) {\n//       const partialProduct: Partial<ProductModelProps> = {\n//         id: selectedProduct.id,\n//         name: selectedProduct.name,\n//         price: selectedProduct.price,\n//         images: selectedProduct.images,\n//         quantity: 1, // Default quantity\n//         color: selectedColor ?? 'default', // Add color if necessary\n//         size: selectedSize ?? 'default', // Add size if necessary\n//       };\n//       addToCart(partialProduct); // Pass authUser and updateSingleUserItem\n//     }\n//   };\n\n//   const description = selectedProduct?.description ?? \"\";\n\n//   return (\n//     <View style={{ backgroundColor: 'white' }}>\n//       <ScrollView contentContainerStyle={styles.container}>\n//         <View style={styles.imageContainer}>\n//           <Image \n//             source={{ uri: selectedProduct?.images[0] }} // Replace with actual image URI\n//             style={styles.productImage}\n//           />\n//           <View style={styles.textOverlay}>\n//             <Text style={styles.overlayTitle}>{selectedProduct?.name}</Text>\n//             <Text style={styles.overlaySubtitle}>{description}</Text>\n//           </View>\n//         </View>\n        \n//         <View style={styles.section}>\n//           <View style={styles.productInfo}>\n//             <Text style={styles.productTitle}>{selectedProduct?.name}</Text>\n//             <Text style={styles.productSubtitle}>\n//               {description.length > 11 ? description.slice(0, 11) + '...' : description}\n//             </Text>\n//           </View>\n//         </View>\n\n//         <View style={styles.section}>\n//           <View style={styles.priceSection}>\n//             <Text style={styles.priceLabel}>Price</Text>\n//             <Text style={styles.divider}>|</Text>\n//             <View style={styles.priceInfo}>\n//               <Text style={styles.price}>\n//                 {convertToCurrency(selectedProduct?.price ?? 10000)}\n//               </Text>\n//               <Text style={styles.description}>{description}</Text>\n//             </View>\n//           </View>\n//         </View>\n\n//         <GlitterButton onPress={handlePress} buttonText={'Add To Cart'} />\n//       </ScrollView>\n//     </View>\n//   );\n// };\n\n// export default ProductDetailsPageVThree;\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flexGrow: 1,\n//     backgroundColor: '#FFFFFF',\n//     padding: 16,\n//   },\n//   imageContainer: {\n//     position: 'relative',\n//   },\n//   productImage: {\n//     width: '100%',\n//     height: 400,\n//     borderRadius: 10,\n//     marginBottom: 20,\n//   },\n//   textOverlay: {\n//     position: 'absolute',\n//     top: 20,\n//     left: 20,\n//     right: 20,\n//   },\n//   overlayTitle: {\n//     fontSize: 24,\n//     fontWeight: 'bold',\n//     color: '#FFFFFF',\n//     marginBottom: 5,\n//   },\n//   overlaySubtitle: {\n//     fontSize: 16,\n//     color: '#FFFFFF',\n//   },\n//   productInfo: {\n//     marginBottom: 20,\n//   },\n//   productTitle: {\n//     fontSize: 22,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//   },\n//   productSubtitle: {\n//     fontSize: 16,\n//     color: '#7D7D7D',\n//     marginTop: 5,\n//   },\n//   section: {\n//     borderWidth: 1,\n//     borderColor: '#E0E0E0',\n//     borderRadius: 10,\n//     padding: 16,\n//     marginBottom: 20,\n//   },\n//   priceSection: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//   },\n//   priceLabel: {\n//     fontSize: 16,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//     marginRight: 10, // Added margin to separate label from price\n//   },\n//   divider: {\n//     fontSize: 16,\n//     color: '#E0E0E0',\n//     marginHorizontal: 10, // Divider spacing\n//   },\n//   priceInfo: {\n//     flex: 1,\n//   },\n//   price: {\n//     fontSize: 28,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//     marginBottom: 5,\n//   },\n//   description: {\n//     fontSize: 14,\n//     color: '#7D7D7D',\n//   },\n// });\n\n\n// import React, { FC, useState } from 'react';\n// import { View, Text, Image, StyleSheet, ScrollView } from 'react-native';\n// import { COLORS, SIZES } from '@/utils/theme';\n// import { useCart } from '@/contexts/CartContext';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n// import GlitterButton from '@/components/buttons/GlitterButtom';\n\n// const ProductDetailsPageVThree: FC = () => {\n//   const [selectedColor, setSelectedColor] = useState<string | null>(null);\n//   const [selectedSize, setSelectedSize] = useState<string | null>(null);\n//   const { addToCart } = useCart();\n//   const { selectedProduct } = useClientProduct();\n\n//   const [isPressed, setIsPressed] = useState(false);\n\n//   const handlePress = () => {\n//     if (selectedProduct) {\n//       const partialProduct: Partial<typeof selectedProduct> = {\n//         ...selectedProduct,\n//         quantity: 1, // Default quantity\n//         color: selectedColor ?? 'default', // Add color if necessary\n//         size: selectedSize ?? 'default', // Add size if necessary\n//       };\n//       addToCart(partialProduct); // Add the product to the cart\n//       setIsPressed(true);\n\n//       // Reset animation state after some time\n//       setTimeout(() => setIsPressed(false), 500);\n//     }\n//   };\n\n//   const description = selectedProduct?.description ?? \"\";\n\n//   return (\n//     <View style={{ backgroundColor: 'white' }}>\n//       <ScrollView contentContainerStyle={styles.container}>\n//         <View style={styles.imageContainer}>\n//           <Image \n//             source={{ uri: selectedProduct?.images[0] }} // Replace with actual image URI\n//             style={styles.productImage}\n//           />\n//           <View style={styles.textOverlay}>\n//             <Text style={styles.overlayTitle}>{selectedProduct?.name}</Text>\n//             <Text style={styles.overlaySubtitle}>{description}</Text>\n//           </View>\n//         </View>\n        \n//         <View style={styles.section}>\n//           <View style={styles.productInfo}>\n//             <Text style={styles.productTitle}>{selectedProduct?.name}</Text>\n//             <Text style={styles.productSubtitle}>\n//               {description.length > 11 ? description.slice(0, 11) + '...' : description}\n//             </Text>\n//           </View>\n//         </View>\n\n//         <View style={styles.section}>\n//           <View style={styles.priceSection}>\n//             <Text style={styles.priceLabel}>Price</Text>\n//             <Text style={styles.divider}>|</Text>\n//             <View style={styles.priceInfo}>\n//               <Text style={styles.price}>\n//                 {convertToCurrency(selectedProduct?.price ?? 10000)}\n//               </Text>\n//               <Text style={styles.description}>{description}</Text>\n//             </View>\n//           </View>\n//         </View>\n\n//         <GlitterButton onPress={handlePress} buttonText={'Add To Cart'} />\n//       </ScrollView>\n//     </View>\n//   );\n// };\n\n// export default ProductDetailsPageVThree;\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flexGrow: 1,\n//     backgroundColor: '#FFFFFF',\n//     padding: 16,\n//   },\n//   imageContainer: {\n//     position: 'relative',\n//   },\n//   productImage: {\n//     width: '100%',\n//     height: 400,\n//     borderRadius: 10,\n//     marginBottom: 20,\n//   },\n//   textOverlay: {\n//     position: 'absolute',\n//     top: 20,\n//     left: 20,\n//     right: 20,\n//   },\n//   productInfo: {\n//     marginBottom: 20,\n//   },\n//   productTitle: {\n//     fontSize: 22,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//   },\n//   productSubtitle: {\n//     fontSize: 16,\n//     color: '#7D7D7D',\n//     marginTop: 5,\n//   },\n//   overlayTitle: {\n//     fontSize: 24,\n//     fontWeight: 'bold',\n//     color: '#FFFFFF',\n//     marginBottom: 5,\n//   },\n//   overlaySubtitle: {\n//     fontSize: 16,\n//     color: '#FFFFFF',\n//   },\n//   section: {\n//     borderWidth: 1,\n//     borderColor: '#E0E0E0',\n//     borderRadius: 10,\n//     padding: 16,\n//     marginBottom: 20,\n//   },\n//   priceSection: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//   },\n//   priceLabel: {\n//     fontSize: 16,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//     marginRight: 10, // Added margin to separate label from price\n//   },\n//   divider: {\n//     fontSize: 16,\n//     color: '#E0E0E0',\n//     marginHorizontal: 10, // Divider spacing\n//   },\n//   priceInfo: {\n//     flex: 1,\n//   },\n//   price: {\n//     fontSize: 28,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//     marginBottom: 5,\n//   },\n \n\n\n\n\n\n\n// import React, { FC, useContext, useState } from 'react';\n// import { View, Text, Image, StyleSheet, TouchableOpacity, ScrollView } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { COLORS, SIZES } from '@/utils/theme'; // Adjust based on your theme structure\n// import { CartContext } from '@/contexts/CartContext';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// // import SizesView from '@/components/card/SizesView';\n// import ProductColorPickerView from '@/components/views/ProductColorPickerView';\n// import SizesView from '@/components/views/SizesView';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import convertToCurrency from '@/hooks/convertToCurrency';\n\n// const ProductDetailsPageVThree: FC<ProductModelProps> = (props) => {\n//   const [selectedColor, setSelectedColor] = useState<string | null>(null);\n//   const [selectedSize, setSelectedSize] = useState<string | null>(null);\n//   const { addToCart } = useContext(CartContext);\n//   const { selectedProduct } = useClientProduct();\n\n//   const colors = ['#F5F5DC', '#000000', '#A0522D'];\n//   const sizes = ['S', 'M', 'L', 'XL', 'XXL'];\n\n//   const description = selectedProduct?.description ?? \"\"\n//   return (\n//     <View style={{backgroundColor: \"white\"}}>\n//     <ScrollView contentContainerStyle={styles.container}>\n//       <Image \n//         source={{ uri: selectedProduct?.images[0] }} // Replace with actual image URI\n//         style={styles.productImage}\n//       />\n      \n//       <View style={styles.section}>\n//         <View style={styles.productInfo}>\n//           <Text style={styles.productTitle}>{selectedProduct?.name}</Text>\n//           <Text style={styles.productSubtitle}>{description.length > 11 ? description.slice(0, 11) + '...' : description}\n//           </Text>\n//         </View>\n//       </View>\n\n\n\n\n// {/* Variants  */}\n// {/* <ProductColorPickerView colors={colors} selectedColor={selectedColor} onColorSelect={setSelectedColor} /> */}    \n// {/* <SizesView sizes={sizes} selectedSize={selectedSize} onSizeSelect={setSelectedSize} /> */}\n\n\n//       <View style={styles.section}>\n//       <View style={styles.priceSection}>\n//         <Text style={styles.priceLabel}>Price</Text>\n\n//         <Text style={styles.divider}>|</Text>\n//         <View style={styles.priceInfo}>\n//         <Text style={styles.price}>{ convertToCurrency(selectedProduct?.price ?? 10000) }</Text>\n\n//           <Text style={styles.description}>\n//             {selectedProduct?.description ?? \"\"}\n//           </Text>\n//         </View>\n//       </View>\n//     </View>\n//       <TouchableOpacity style={styles.buyButton} onPress={() => {\n//           if (selectedProduct) {\n//             addToCart(selectedProduct);\n\n//           }\n//       }}>\n//         <Text style={styles.buyButtonText}>Add To Cart</Text>\n//       </TouchableOpacity>\n//     </ScrollView>\n//     </View>\n//   );\n// };\n\n// export default ProductDetailsPageVThree;\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flexGrow: 1,\n//     backgroundColor: '#FFFFFF',\n//     padding: 16,\n//   },\n//    divider: {\n//     fontSize: 16,\n//     color: '#E0E0E0',\n//     marginHorizontal: 10, // Divider spacing\n//   },\n//   productImage: {\n//     width: '100%',\n//     height: 400,\n//     borderRadius: 10,\n//     marginBottom: 20,\n//   },\n//   section: {\n//     borderWidth: 1,\n//     borderColor: '#E0E0E0',\n//     borderRadius: 10,\n//     padding: 16,\n//     marginBottom: 20,\n//   },\n//   productInfo: {\n//     marginBottom: 20,\n//   },\n//   productTitle: {\n//     fontSize: 22,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//   },\n//   productSubtitle: {\n//     fontSize: 16,\n//     color: '#7D7D7D',\n//     marginTop: 5,\n//   },\n//   sectionTitle: {\n//     fontSize: 16,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//     marginBottom: 10,\n//   },\n//   colorOptions: {\n//     flexDirection: 'row',\n//   },\n//   colorCircle: {\n//     width: 30,\n//     height: 30,\n//     borderRadius: 15,\n//     marginRight: 10,\n//     borderWidth: 1,\n//     borderColor: '#E0E0E0',\n//   },\n//   selectedColorCircle: {\n//     borderWidth: 2,\n//     borderColor: '#000000',\n//   },\n//   sizeOptions: {\n//     flexDirection: 'row',\n//     justifyContent: 'space-between',\n//   },\n//   sizeButton: {\n//     paddingVertical: 8,\n//     paddingHorizontal: 16,\n//     borderWidth: 1,\n//     borderColor: '#E0E0E0',\n//     borderRadius: 5,\n//   },\n//   selectedSizeButton: {\n//     backgroundColor: '#000000',\n//   },\n//   sizeText: {\n//     fontSize: 14,\n//     color: '#000000',\n//   },\n//   selectedSizeText: {\n//     color: '#FFFFFF',\n//   },\n//   priceSection: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     justifyContent: 'space-between',\n//   },\n//   priceLabel: {\n//     fontSize: 16,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//   },\n//   priceInfo: {\n//     flex: 1, // Allows priceInfo to take up remaining space\n//   },\n//   price: {\n//     fontSize: 28,\n//     fontWeight: 'bold',\n//     color: '#000000',\n//     marginRight: 10,\n//   },\n//   descriptionContainer: {\n//     flex: 1,\n//   },\n//   description: {\n//     fontSize: 14,\n//     color: '#7D7D7D',\n//     flexWrap: 'wrap', // Allows text to wrap within the container\n//   },\n//   buyButton: {\n//     backgroundColor: '#FFFFFF',\n//     borderWidth: 2,\n//     borderColor: '#000000',\n//     borderRadius: 25,\n//     paddingVertical: 15,\n//     alignItems: 'center',\n//     marginTop: 20, // Added margin to ensure it's visible\n//   },\n//   buyButtonText: {\n//     color: '#000000',\n//     fontSize: 18,\n//     fontWeight: 'bold',\n//   },\n// });\n","\n\n// good\n// import React, { useState } from 'react';\n// import { View, Text, Image, StyleSheet, TouchableOpacity, Dimensions, ScrollView } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { COLORS } from '@/utils/theme'; // Assuming you have a COLORS file\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { useCart } from '@/contexts/CartContext';\n\n// const { width } = Dimensions.get('window');\n\n// const ProductDetailsPageVFour: React.FC = () => {\n//   const [selectedSize, setSelectedSize] = useState<number | null>(null);\n//   const [isFavorite, setIsFavorite] = useState(false); // Control heart button toggle\n//   const { selectedProduct } = useClientProduct();\n//   const { authState, updateSingleUserItem } = useAuth();\n//   const { addToCart } = useCart();\n\n//   const sizes = [6, 6.5, 7, 7.5, 8]; // Example sizes\n\n//   const handlePress = () => {\n//     if (selectedProduct) {\n//       const partialProduct: Partial<ProductModelProps> = {\n//         id: selectedProduct.id,\n//         name: selectedProduct.name,\n//         price: selectedProduct.price,\n//         images: selectedProduct.images,\n//         quantity: 1,\n//         color: 'default',\n//         size: String(selectedSize) ?? 'default',\n//       };\n//       addToCart(partialProduct);\n//     }\n//   };\n\n//   // Toggle the heart (favorite) icon\n//   const toggleFavorite = () => {\n//     setIsFavorite(!isFavorite);\n//   };\n\n//   return (\n//     <View style={styles.container}>\n//       {/* Product Image Carousel */}\n//       <ScrollView horizontal pagingEnabled showsHorizontalScrollIndicator={false} style={styles.imageCarousel}>\n//         {selectedProduct?.images.map((imageUri, index) => (\n//           <Image key={index} source={{ uri: imageUri }} style={styles.productImage} />\n//         ))}\n//       </ScrollView>\n\n//       {/* Heart Icon on the Right */}\n//       <View style={styles.header}>\n//         <TouchableOpacity onPress={toggleFavorite}>\n//           <Ionicons\n//             name={isFavorite ? 'heart' : 'heart-outline'}\n//             size={24}\n//             color={isFavorite ? 'black' : 'white'} // Toggle color on press\n//           />\n//         </TouchableOpacity>\n//       </View>\n\n//       {/* Modal for Bottom Section */}\n//       <View style={styles.modalContent}>\n//         {/* Product Info */}\n//         <View style={styles.productInfo}>\n//           <Text style={styles.productName}>Nike Air Max 720</Text>\n//           <Text style={styles.productColor}>Color: Black Anthracite</Text>\n//         </View>\n\n//         {/* Price and Description */}\n//         <View style={styles.priceDescription}>\n//           <Text style={styles.price}>$180</Text>\n//           <Text style={styles.description}>\n//             The Nike Air Max 720 goes bigger than ever before with Nike's tallest Air unit yet, offering more air underfoot for unimaginable, all-day comfort.\n//           </Text>\n//         </View>\n\n//         {/* Size Selector */}\n//         <Text style={styles.sizeLabel}>PICK YOUR SIZE</Text>\n//         <View style={styles.sizeSelector}>\n//           {sizes.map((size, index) => (\n//             <TouchableOpacity\n//               key={index}\n//               style={[styles.sizeOption, selectedSize === size && styles.selectedSizeOption]}\n//               onPress={() => setSelectedSize(size)}\n//             >\n//               <Text style={[styles.sizeText, selectedSize === size && styles.selectedSizeText]}>{size}</Text>\n//             </TouchableOpacity>\n//           ))}\n//         </View>\n\n\n\n\n\n\n\n// // ProductDetails.tsx\n// import React, { useState } from 'react';\n// import { View, Text, Image, StyleSheet, ScrollView, Dimensions, TouchableOpacity } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { COLORS } from '@/utils/theme';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { useCart } from '@/contexts/CartContext';\n// import AFMBottomSheet from '@/components/bottom-sheet/AFMBottomSheet'; // Import custom bottom sheet\n// import { useAuth } from '@/contexts/AuthContext';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n\n// const { width } = Dimensions.get('window');\n\n// const ProductDetails: React.FC = () => {\n//   const [selectedSize, setSelectedSize] = useState<number | null>(null);\n//   const { selectedProduct } = useClientProduct();\n//   const { addToCart } = useCart();\n//   const { authState, updateSingleUserItem } = useAuth(); // Access authState and updateSingleUserItem\n\n//   const sizes = [6, 6.5, 7, 7.5, 8]; // Example sizes\n\n// //   const handleAddToCart = () => {\n// //     if (selectedProduct) {\n// //       addToCart({\n// //         id: selectedProduct.id,\n// //         name: selectedProduct.name,\n// //         price: selectedProduct.price,\n// //         images: selectedProduct.images,\n// //         quantity: 1,\n// //         size: String(selectedSize) ?? 'default',\n// //       });\n// //     }\n// //   };\n\n//     const handleAddToCart = () => {\n//     if (selectedProduct) {\n//       const partialProduct: Partial<ProductModelProps> = {\n//         id: selectedProduct.id,\n//         name: selectedProduct.name,\n//         price: selectedProduct.price,\n//         images: selectedProduct.images,\n//         quantity: 1,\n//         color: 'default',\n//         size: String(selectedSize) ?? 'default',\n//       };\n//       addToCart(partialProduct);\n//     }\n//   };\n\n\n//   return (\n//     <View style={styles.container}>\n//       <ScrollView contentContainerStyle={styles.productContainer}>\n//         {/* Product Image Carousel */}\n//         <ScrollView horizontal pagingEnabled showsHorizontalScrollIndicator={false} style={styles.imageCarousel}>\n//           {selectedProduct?.images.map((image, index) => (\n//             <Image key={index} source={{ uri: image }} style={styles.productImage} />\n//           ))}\n//         </ScrollView>\n\n//         {/* Product Info */}\n//         <View style={styles.productInfo}>\n//           <Text style={styles.productName}>{selectedProduct?.name}</Text>\n//           <Text style={styles.productColor}>Color: Black Anthracite</Text>\n//         </View>\n//       </ScrollView>\n\n//       {/* Custom Bottom Sheet */}\n//       <AFMBottomSheet>\n//         <View style={styles.sheetContent}>\n//           {/* Price and Description */}\n//           <Text style={styles.price}>${selectedProduct?.price}</Text>\n//           <Text style={styles.description}>\n//             {selectedProduct?.description}\n//           </Text>\n\n//           {/* Size Selector */}\n//           <Text style={styles.sizeLabel}>PICK YOUR SIZE</Text>\n//           <View style={styles.sizeSelector}>\n//             {sizes.map((size) => (\n//               <TouchableOpacity\n//                 key={size}\n//                 style={[styles.sizeOption, selectedSize === size && styles.selectedSizeOption]}\n//                 onPress={() => setSelectedSize(size)}\n//               >\n//                 <Text style={[styles.sizeText, selectedSize === size && styles.selectedSizeText]}>{size}</Text>\n//               </TouchableOpacity>\n//             ))}\n//           </View>\n\n//           {/* Add to Cart Button */}\n//           <TouchableOpacity style={styles.addToCartButton} onPress={handleAddToCart}>\n//             <Text style={styles.addToCartButtonText}>Add to Cart</Text>\n//             <Ionicons name=\"cart-outline\" size={24} color=\"white\" />\n//           </TouchableOpacity>\n//         </View>\n//       </AFMBottomSheet>\n//     </View>\n//   );\n// };\n\n// export default ProductDetails;\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flex: 1,\n//     backgroundColor: '#fff',\n//   },\n//   productContainer: {\n//     paddingBottom: 100, // Space for the bottom sheet\n//   },\n//   imageCarousel: {\n//     height: width,\n//   },\n//   productImage: {\n//     width: width,\n//     height: width,\n//     resizeMode: 'cover',\n//   },\n//   productInfo: {\n//     padding: 16,\n//   },\n//   productName: {\n//     fontSize: 24,\n//     fontWeight: 'bold',\n//   },\n//   productColor: {\n//     fontSize: 16,\n//     color: '#666',\n//     marginTop: 8,\n//   },\n//   sheetContent: {\n//     padding: 16,\n//   },\n//   price: {\n//     fontSize: 28,\n//     fontWeight: 'bold',\n//   },\n//   description: {\n//     fontSize: 14,\n//     color: '#555',\n//     marginTop: 8,\n//   },\n//   sizeLabel: {\n//     fontSize: 16,\n//     fontWeight: 'bold',\n//     marginTop: 16,\n//   },\n//   sizeSelector: {\n//     flexDirection: 'row',\n//     justifyContent: 'space-between',\n//     marginTop: 8,\n//   },\n//   sizeOption: {\n//     borderRadius: 50,\n//     borderWidth: 1,\n//     borderColor: '#ddd',\n//     padding: 12,\n//     width: 50,\n//     height: 50,\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//   },\n//   selectedSizeOption: {\n//     backgroundColor: '#000',\n//     borderColor: '#000',\n//   },\n//   sizeText: {\n//     fontSize: 16,\n//   },\n//   selectedSizeText: {\n//     color: '#fff',\n//   },\n//   addToCartButton: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     justifyContent: 'center',\n//     backgroundColor: '#000',\n//     paddingVertical: 16,\n//     marginTop: 24,\n//     borderRadius: 50,\n//   },\n//   addToCartButtonText: {\n//     fontSize: 18,\n//     fontWeight: 'bold',\n//     color: '#fff',\n//     marginRight: 10,\n//   },\n// });\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport React, { useState } from 'react';\nimport { View, Text, Image, StyleSheet, TouchableOpacity, Dimensions, ScrollView } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { COLORS } from '@/utils/theme'; \nimport { useClientProduct } from '@/contexts/ClientProductContext';\nimport { ProductModelProps } from '@/models/ProductModelProps';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useCart } from '@/contexts/CartContext';\nimport { MotiView } from 'moti';\nimport { useFavorite } from '@/contexts/FavoriteContext';\n\nconst { width } = Dimensions.get('window');\n\nconst ProductDetails: React.FC = () => {\n  const [selectedSize, setSelectedSize] = useState<number | null>(null);\n  const [isFavorite, setIsFavorite] = useState(false); \n  const { selectedProduct } = useClientProduct();\n  const { authState, updateSingleUserItem } = useAuth();\n  const { addToCart } = useCart();\n  const { addToFavorite } = useFavorite();\n\n  const sizes = [6, 6.5, 7, 7.5, 8]; \n\n  const handlePress = () => {\n    console.log(\"Fav selected 4\")\n\n    if (selectedProduct) {\n      // const partialProduct: Partial<ProductModelProps> = {\n      //   id: selectedProduct.id,\n      //   name: selectedProduct.name,\n      //   price: selectedProduct.price,\n      //   images: selectedProduct.images,\n      //   quantity: 1,\n      //   color: 'default',\n      //   size: String(selectedSize) ?? 'default',\n      // };\n      addToCart(selectedProduct);\n    }\n  };\n\n  const toggleFavorite = () => {\n    setIsFavorite(!isFavorite);\n  \n    console.log(\"Fav selected 4 Item favorted 4 - check favorites\")\n    // Get the current favorite items and append the selected product's ID\n    const currentFavorites = authState?.user?.favoriteItems || [];\n    \n    if (selectedProduct) { \n    // Check if the product is already a favorite\n    // const updatedFavorites = currentFavorites.includes(selectedProduct?.id)\n    //   ? currentFavorites.filter(itemId => itemId !== selectedProduct?.id) // Remove if already in favorites\n    //   : [...currentFavorites, selectedProduct?.id]; // Add to favorites if not in the list\n  \n    // Update the favoriteItems with the new list (api)\n    // updateSingleUserItem(\"favoriteItems\", updatedFavorites);\n\n    addToFavorite(selectedProduct);\n    \n    }\n  };\n  \n\n  \n  return (\n    <View style={styles.container}>\n      {/* Product Image Carousel */}\n      <ScrollView horizontal pagingEnabled showsHorizontalScrollIndicator={false} style={styles.imageCarousel}>\n        {selectedProduct?.images.map((imageUri, index) => (\n          <Image key={index} source={{ uri: imageUri }} style={styles.productImage} />\n        ))}\n      </ScrollView>\n\n      {/* Heart Icon on the Right */}\n      <View style={styles.header}>\n        <TouchableOpacity onPress={toggleFavorite}>\n          <Ionicons\n            name={isFavorite ? 'heart' : 'heart-outline'}\n            size={24}\n            color={isFavorite ? 'black' : 'white'} \n          />\n        </TouchableOpacity>\n      </View>\n\n      {/* Bottom Modal Section with Animation */}\n      <MotiView\n        from={{ translateY: 300 }} \n        animate={{ translateY: 0 }} \n        transition={{ type: 'timing', duration: 600 }} \n        style={styles.modalContent}\n      >\n        {/* Product Info */}\n        <View style={styles.productInfo}>\n          <Text style={styles.productName}>Nike Air Max 720</Text>\n          <Text style={styles.productColor}>Color: Black Anthracite</Text>\n        </View>\n\n        {/* Price and Description */}\n        <View style={styles.priceDescription}>\n          <Text style={styles.price}>$180</Text>\n          <Text style={styles.description}>\n            The Nike Air Max 720 goes bigger than ever before with Nike's tallest Air unit yet, offering more air underfoot for unimaginable, all-day comfort.\n          </Text>\n        </View>\n\n        {/* Size Selector */}\n        <Text style={styles.sizeLabel}>PICK YOUR SIZE</Text>\n        <View style={styles.sizeSelector}>\n          {sizes.map((size, index) => (\n            <TouchableOpacity\n              key={index}\n              style={[styles.sizeOption, selectedSize === size && styles.selectedSizeOption]}\n              onPress={() => setSelectedSize(size)}\n            >\n              <Text style={[styles.sizeText, selectedSize === size && styles.selectedSizeText]}>{size}</Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n\n        {/* Add to Cart Button */}\n        <TouchableOpacity style={styles.addToCartButton} onPress={handlePress}>\n          <Text style={styles.addToCartButtonText}>Add to Cart</Text>\n          <Ionicons name=\"cart-outline\" size={24} color=\"white\" />\n        </TouchableOpacity>\n      </MotiView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000', \n  },\n  header: {\n    position: 'absolute',\n    top: 40,\n    right: 20,\n    zIndex: 1,\n  },\n  imageCarousel: {\n    height: width, \n  },\n  productImage: {\n    width: width,\n    height: width,\n    resizeMode: 'cover', \n  },\n  modalContent: {\n    backgroundColor: 'black',\n    borderTopLeftRadius: 30,\n    borderTopRightRadius: 30,\n    paddingTop: 20,\n    paddingBottom: 40,\n    paddingHorizontal: 16,\n    marginTop: -20, \n  },\n  productInfo: {\n    paddingBottom: 16,\n  },\n  productName: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  productColor: {\n    fontSize: 14,\n    color: '#999',\n    marginTop: 4,\n  },\n  priceDescription: {\n    paddingBottom: 16,\n  },\n  price: {\n    fontSize: 28,\n    fontWeight: 'bold',\n    color: 'white',\n  },\n  description: {\n    fontSize: 14,\n    color: '#aaa',\n    marginTop: 8,\n  },\n  sizeLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'white',\n    marginBottom: 8,\n  },\n  sizeSelector: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 24,\n  },\n  sizeOption: {\n    borderRadius: 50,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    padding: 12,\n    width: 50,\n    height: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  selectedSizeOption: {\n    backgroundColor: 'white',\n    borderColor: 'white',\n  },\n  sizeText: {\n    fontSize: 16,\n    color: 'white',\n  },\n  selectedSizeText: {\n    color: 'black',\n  },\n  addToCartButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'white',\n    paddingVertical: 16,\n    borderRadius: 50,\n  },\n  addToCartButtonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: 'black',\n    marginRight: 10,\n  },\n});\n\nexport default ProductDetails;\n\n\n\n\n\n// good\n// import React, { useState } from 'react';\n// import { View, Text, Image, StyleSheet, TouchableOpacity, Dimensions, ScrollView } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { COLORS } from '@/utils/theme'; // Assuming you have a COLORS file\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { useCart } from '@/contexts/CartContext';\n\n// const { width } = Dimensions.get('window');\n\n// const ProductDetailsPageVFour: React.FC = () => {\n//   const [selectedSize, setSelectedSize] = useState<number | null>(null);\n//   const [isFavorite, setIsFavorite] = useState(false); // Control heart button toggle\n//   const { selectedProduct } = useClientProduct();\n//   const { authState, updateSingleUserItem } = useAuth();\n//   const { addToCart } = useCart();\n\n//   const sizes = [6, 6.5, 7, 7.5, 8]; // Example sizes\n\n//   const handlePress = () => {\n//     if (selectedProduct) {\n//       const partialProduct: Partial<ProductModelProps> = {\n//         id: selectedProduct.id,\n//         name: selectedProduct.name,\n//         price: selectedProduct.price,\n//         images: selectedProduct.images,\n//         quantity: 1,\n//         color: 'default',\n//         size: String(selectedSize) ?? 'default',\n//       };\n//       addToCart(partialProduct);\n//     }\n//   };\n\n//   // Toggle the heart (favorite) icon\n//   const toggleFavorite = () => {\n//     setIsFavorite(!isFavorite);\n//   };\n\n//   return (\n//     <View style={styles.container}>\n//       {/* Product Image Carousel */}\n//       <ScrollView horizontal pagingEnabled showsHorizontalScrollIndicator={false} style={styles.imageCarousel}>\n//         {selectedProduct?.images.map((imageUri, index) => (\n//           <Image key={index} source={{ uri: imageUri }} style={styles.productImage} />\n//         ))}\n//       </ScrollView>\n\n//       {/* Heart Icon on the Right */}\n//       <View style={styles.header}>\n//         <TouchableOpacity onPress={toggleFavorite}>\n//           <Ionicons\n//             name={isFavorite ? 'heart' : 'heart-outline'}\n//             size={24}\n//             color={isFavorite ? 'black' : 'white'} // Toggle color on press\n//           />\n//         </TouchableOpacity>\n//       </View>\n\n//       {/* Modal for Bottom Section */}\n//       <View style={styles.modalContent}>\n//         {/* Product Info */}\n//         <View style={styles.productInfo}>\n//           <Text style={styles.productName}>Nike Air Max 720</Text>\n//           <Text style={styles.productColor}>Color: Black Anthracite</Text>\n//         </View>\n\n//         {/* Price and Description */}\n//         <View style={styles.priceDescription}>\n//           <Text style={styles.price}>$180</Text>\n//           <Text style={styles.description}>\n//             The Nike Air Max 720 goes bigger than ever before with Nike's tallest Air unit yet, offering more air underfoot for unimaginable, all-day comfort.\n//           </Text>\n//         </View>\n\n//         {/* Size Selector */}\n//         <Text style={styles.sizeLabel}>PICK YOUR SIZE</Text>\n//         <View style={styles.sizeSelector}>\n//           {sizes.map((size, index) => (\n//             <TouchableOpacity\n//               key={index}\n//               style={[styles.sizeOption, selectedSize === size && styles.selectedSizeOption]}\n//               onPress={() => setSelectedSize(size)}\n//             >\n//               <Text style={[styles.sizeText, selectedSize === size && styles.selectedSizeText]}>{size}</Text>\n//             </TouchableOpacity>\n//           ))}\n//         </View>\n\n//         {/* Add to Cart Button */}\n//         <TouchableOpacity style={styles.addToCartButton} onPress={handlePress}>\n//           <Text style={styles.addToCartButtonText}>Add to Cart</Text>\n//           <Ionicons name=\"cart-outline\" size={24} color=\"white\" />\n//         </TouchableOpacity>\n//       </View>\n//     </View>\n//   );\n// };\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flex: 1,\n//     backgroundColor: '#000', // Background black to avoid white gaps\n//   },\n//   header: {\n//     position: 'absolute',\n//     top: 40,\n//     right: 20,\n//     zIndex: 1,\n//   },\n//   imageCarousel: {\n//     height: width, // Match width to make it square\n//   },\n//   productImage: {\n//     width: width,\n//     height: width,\n//     resizeMode: 'cover', // Cover the entire area\n//   },\n//   modalContent: {\n//     backgroundColor: 'black',\n//     borderTopLeftRadius: 30,\n//     borderTopRightRadius: 30,\n//     paddingTop: 20,\n//     paddingBottom: 40,\n//     paddingHorizontal: 16,\n//     marginTop: -20, // Ensure no gap between image and modal\n//   },\n//   productInfo: {\n//     paddingBottom: 16,\n//   },\n//   productName: {\n//     fontSize: 24,\n//     fontWeight: 'bold',\n//     color: 'white',\n//   },\n//   productColor: {\n//     fontSize: 14,\n//     color: '#999',\n//     marginTop: 4,\n//   },\n//   priceDescription: {\n//     paddingBottom: 16,\n//   },\n//   price: {\n//     fontSize: 28,\n//     fontWeight: 'bold',\n//     color: 'white',\n//   },\n//   description: {\n//     fontSize: 14,\n//     color: '#aaa',\n//     marginTop: 8,\n//   },\n//   sizeLabel: {\n//     fontSize: 16,\n//     fontWeight: 'bold',\n//     color: 'white',\n//     marginBottom: 8,\n//   },\n//   sizeSelector: {\n//     flexDirection: 'row',\n//     justifyContent: 'space-around',\n//     marginBottom: 24,\n//   },\n//   sizeOption: {\n//     borderRadius: 50,\n//     borderWidth: 1,\n//     borderColor: '#ddd',\n//     padding: 12,\n//     width: 50,\n//     height: 50,\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//   },\n//   selectedSizeOption: {\n//     backgroundColor: 'white',\n//     borderColor: 'white',\n//   },\n//   sizeText: {\n//     fontSize: 16,\n//     color: 'white',\n//   },\n//   selectedSizeText: {\n//     color: 'black',\n//   },\n//   addToCartButton: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     justifyContent: 'center',\n//     backgroundColor: 'white',\n//     paddingVertical: 16,\n//     borderRadius: 50,\n//   },\n//   addToCartButtonText: {\n//     fontSize: 18,\n//     fontWeight: 'bold',\n//     color: 'black',\n//     marginRight: 10,\n//   },\n// });\n\n// export default ProductDetailsPageVFour;\n\n\n\n\n\n\n\n// cool siding animation\n// import React, { useState } from 'react';\n// import { View, Text, Image, StyleSheet, TouchableOpacity, Dimensions, ScrollView, Modal } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { COLORS } from '@/utils/theme';\n// import { AWS_HOLDER_IMAGE } from '@/utils/api';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { useCart } from '@/contexts/CartContext';\n\n// const { width } = Dimensions.get('window');\n\n// const ProductDetails: React.FC = () => {\n//   const [selectedSize, setSelectedSize] = useState<number | null>(null);\n//   const { selectedProduct } = useClientProduct();\n//   const { authState, updateSingleUserItem } = useAuth();\n//   const { addToCart } = useCart();\n//   const [isModalVisible, setIsModalVisible] = useState(true); // Control the modal\n\n//   const sizes = [6, 6.5, 7, 7.5, 8];\n\n//   const handlePress = () => {\n//     if (selectedProduct) {\n//       const partialProduct: Partial<ProductModelProps> = {\n//         id: selectedProduct.id,\n//         name: selectedProduct.name,\n//         price: selectedProduct.price,\n//         images: selectedProduct.images,\n//         quantity: 1,\n//         color: 'default',\n//         size: String(selectedSize) ?? 'default',\n//       };\n//       addToCart(partialProduct);\n//     }\n//   };\n\n//   return (\n//     <View style={styles.container}>\n//       {/* Product Image Carousel */}\n//       <ScrollView horizontal pagingEnabled showsHorizontalScrollIndicator={false} style={styles.imageCarousel}>\n//         <Image source={{ uri: AWS_HOLDER_IMAGE }} style={styles.productImage} />\n//       </ScrollView>\n\n//       {/* Heart Icon on the Right */}\n//       <View style={styles.header}>\n//         <TouchableOpacity>\n//           <Ionicons name=\"heart-outline\" size={24} color=\"black\" />\n//         </TouchableOpacity>\n//       </View>\n\n//       {/* Modal for Bottom Section */}\n//       <Modal\n//         animationType=\"slide\"\n//         transparent={true}\n//         visible={isModalVisible}\n//         onRequestClose={() => setIsModalVisible(false)}\n//       >\n//         <View style={styles.modalContainer}>\n//           <View style={styles.modalContent}>\n//             {/* Product Info */}\n//             <View style={styles.productInfo}>\n//               <Text style={styles.productName}>Nike Air Max 720</Text>\n//               <Text style={styles.productColor}>Color: Black Anthracite</Text>\n//             </View>\n\n//             {/* Price and Description */}\n//             <View style={styles.priceDescription}>\n//               <Text style={styles.price}>$180</Text>\n//               <Text style={styles.description}>\n//                 The Nike Air Max 720 goes bigger than ever before with Nike's tallest Air unit yet, offering more air underfoot for unimaginable, all-day comfort.\n//               </Text>\n//             </View>\n\n//             {/* Size Selector */}\n//             <Text style={styles.sizeLabel}>PICK YOUR SIZE</Text>\n//             <View style={styles.sizeSelector}>\n//               {sizes.map((size, index) => (\n//                 <TouchableOpacity\n//                   key={index}\n//                   style={[styles.sizeOption, selectedSize === size && styles.selectedSizeOption]}\n//                   onPress={() => setSelectedSize(size)}\n//                 >\n//                   <Text style={[styles.sizeText, selectedSize === size && styles.selectedSizeText]}>{size}</Text>\n//                 </TouchableOpacity>\n//               ))}\n//             </View>\n\n//             {/* Add to Cart Button */}\n//             <TouchableOpacity style={styles.addToCartButton} onPress={handlePress}>\n//               <Text style={styles.addToCartButtonText}>Add to Cart</Text>\n//               <Ionicons name=\"cart-outline\" size={24} color=\"white\" />\n//             </TouchableOpacity>\n//           </View>\n//         </View>\n//       </Modal>\n//     </View>\n//   );\n// };\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flex: 1,\n//     backgroundColor: '#F5F5F5',\n//   },\n//   header: {\n//     position: 'absolute',\n//     top: 40,\n//     right: 20,\n//     zIndex: 1,\n//   },\n//   imageCarousel: {\n//     height: width,\n//   },\n//   productImage: {\n//     width: width,\n//     height: width,\n//     resizeMode: 'cover',\n//   },\n//   modalContainer: {\n//     flex: 1,\n//     justifyContent: 'flex-end',\n//   },\n//   modalContent: {\n//     backgroundColor: 'black', // Inverted colors\n//     borderTopLeftRadius: 30,\n//     borderTopRightRadius: 30,\n//     paddingTop: 20,\n//     paddingBottom: 40,\n//     paddingHorizontal: 16,\n//   },\n//   productInfo: {\n//     paddingBottom: 16,\n//   },\n//   productName: {\n//     fontSize: 24,\n//     fontWeight: 'bold',\n//     color: 'white',\n//   },\n//   productColor: {\n//     fontSize: 14,\n//     color: '#999',\n//     marginTop: 4,\n//   },\n//   priceDescription: {\n//     paddingBottom: 16,\n//   },\n//   price: {\n//     fontSize: 28,\n//     fontWeight: 'bold',\n//     color: 'white',\n//   },\n//   description: {\n//     fontSize: 14,\n//     color: '#aaa',\n//     marginTop: 8,\n//   },\n//   sizeLabel: {\n//     fontSize: 16,\n//     fontWeight: 'bold',\n//     color: 'white',\n//     marginBottom: 8,\n//   },\n//   sizeSelector: {\n//     flexDirection: 'row',\n//     justifyContent: 'space-around',\n//     marginBottom: 24,\n//   },\n//   sizeOption: {\n//     borderRadius: 50,\n//     borderWidth: 1,\n//     borderColor: '#ddd',\n//     padding: 12,\n//     width: 50,\n//     height: 50,\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//   },\n//   selectedSizeOption: {\n//     backgroundColor: 'white',\n//     borderColor: 'white',\n//   },\n//   sizeText: {\n//     fontSize: 16,\n//     color: 'white',\n//   },\n//   selectedSizeText: {\n//     color: 'black',\n//   },\n//   addToCartButton: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     justifyContent: 'center',\n//     backgroundColor: 'white',\n//     paddingVertical: 16,\n//     borderRadius: 50,\n//   },\n//   addToCartButtonText: {\n//     fontSize: 18,\n//     fontWeight: 'bold',\n//     color: 'black',\n//     marginRight: 10,\n//   },\n// });\n\n// export default ProductDetails;\n\n\n// styling issues \n","import React, { useState } from \"react\";\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n  Image,\n  Dimensions,\n  Alert,\n} from \"react-native\";\nimport { COLORS } from \"@/utils/theme\";\nimport UserLoginTextFields from \"@/components/views/UserLoginTextFields\";\nimport UserRegisterTextFields from \"@/components/views/UserRegisterTextFields\";\nimport { useClientStore } from \"@/contexts/ClientStoreContext\";\n\nconst { width } = Dimensions.get(\"window\");\n\nconst RegisterComponentTwo = () => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmedpassword, setConfirmedPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n  const [activeTabIsLogin, setActiveTabIsLogin] = useState(false);\n  // const { data: store } = useFetchObject<StoreModelProps>(() =>\n  //   getStore(CONSTANTS.store_id)\n  // );\n\n  const { store } = useClientStore()\n\n\n  return (\n    <View style={styles.container}>\n      <Image\n        source={{\n          uri: \"https://appsformankind-assets.s3.amazonaws.com/Store/Apps_For_Mankind/logo.png\",\n        }}\n        style={styles.logo}\n      />\n      <Text style={styles.welcomeText}>\n        Welcome to {store?.store_name ?? \"\"}\n      </Text>\n      <Text style={styles.descriptionText}>\n        Sign up or login below to manage your project, task, and productivity\n      </Text>\n\n      <View style={styles.tabContainer}>\n        <TouchableOpacity\n          style={[styles.tab, activeTabIsLogin && styles.activeTab]}\n          onPress={() => setActiveTabIsLogin(true)}\n        >\n          <Text\n            style={[styles.tabText, activeTabIsLogin && styles.activeTabText]}\n          >\n            Login\n          </Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={[styles.tab, !activeTabIsLogin && styles.activeTab]}\n          onPress={() => setActiveTabIsLogin(false)}\n        >\n          <Text\n            style={[styles.tabText, !activeTabIsLogin && styles.activeTabText]}\n          >\n            Sign Up\n          </Text>\n        </TouchableOpacity>\n      </View>\n\n      {activeTabIsLogin ? (\n       <UserLoginTextFields />\n      ) : (\n       <UserRegisterTextFields />\n      )}\n    </View>\n  );\n};\n\nexport default RegisterComponentTwo;\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingHorizontal: 20,\n    paddingTop: 20,\n    backgroundColor: COLORS.white,\n    alignItems: \"center\",\n  },\n  logo: {\n    width: 80,\n    height: 80,\n    marginTop: 50,\n    borderRadius: 13,\n  },\n  appName: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: COLORS.primary,\n    marginTop: 10,\n  },\n  welcomeText: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n    color: COLORS.darkGray,\n    marginTop: 20,\n  },\n  descriptionText: {\n    fontSize: 14,\n    color: COLORS.darkGray,\n    textAlign: \"center\",\n    marginVertical: 10,\n  },\n  tabContainer: {\n    flexDirection: \"row\",\n    marginVertical: 20,\n  },\n  tab: {\n    flex: 1,\n    paddingBottom: 5,\n    alignItems: \"center\",\n  },\n  activeTab: {\n    borderBottomWidth: 2,\n    borderBottomColor: COLORS.primary,\n  },\n  tabText: {\n    fontSize: 16,\n    color: COLORS.darkGray,\n  },\n  activeTabText: {\n    color: COLORS.primary,\n  },\n  inputContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: COLORS.lightGray,\n    padding: 15,\n    borderRadius: 5,\n    marginVertical: 10,\n    width: width - 40,\n  },\n  input: {\n    flex: 1,\n    marginLeft: 10,\n    color: COLORS.darkGray,\n  },\n  forgotPasswordText: {\n    alignSelf: \"flex-end\",\n    color: COLORS.primary,\n    marginTop: 10,\n    marginBottom: 20,\n  },\n  loginButton: {\n    backgroundColor: COLORS.primary,\n    padding: 15,\n    borderRadius: 5,\n    width: width - 40,\n    alignItems: \"center\",\n  },\n  signupButton: {\n    backgroundColor: COLORS.primary,\n    padding: 15,\n    borderRadius: 5,\n    width: width - 40,\n    alignItems: \"center\",\n    marginTop: 20,\n  },\n  loginButtonText: {\n    fontSize: 18,\n    color: COLORS.white,\n    fontWeight: \"bold\",\n  },\n  termsText: {\n    fontSize: 12,\n    color: COLORS.darkGray,\n    textAlign: \"left\",\n    marginLeft: 10,\n    marginRight: 20,\n  },\n  checkboxContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginVertical: 10,\n  },\n  passwordCriteria: {\n    color: COLORS.darkGray,\n    fontSize: 14,\n    marginTop: 5,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n});\n","import React from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet, ScrollView } from 'react-native';\nimport { Ionicons, MaterialIcons, FontAwesome5 } from '@expo/vector-icons';\nimport { Link, router } from 'expo-router';\nimport BannerVOne from '@/components/banner/BannerVOne';\nimport { useAuth } from '@/contexts/AuthContext';\nimport MyButton from '@/components/buttons/MyButton';\nimport { useTheme } from '@/contexts/ThemeContext';\n\nconst SettingsPage = () => {\n  const { colors } = useTheme(); // Directly access colors from the theme\n   const { authState , onLogout } = useAuth()\n\n  const handleLogOut = async () => {\n    if (onLogout) {\n      try {\n        await onLogout();\n        router.replace('/welcome' as never); // Navigate to the welcome screen after logout\n      } catch (error) {\n        console.error('Logout failed:', error);\n      }\n    } else {\n      console.error('Logout function is not defined');\n    }\n  };\n\n\n  const styles = createStyles(colors); // Create styles using dynamic colors from the theme\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.upperSection}></View>\n      <ScrollView contentContainerStyle={styles.content}>\n        <Text style={styles.title}>Settings</Text>\n\n        <BannerVOne />\n\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>General</Text>\n          \n          <Link href={'/profile' as never} asChild>\n            <TouchableOpacity style={styles.option}>\n              <FontAwesome5 name=\"user\" size={20} color={colors.title} />\n              <Text style={styles.optionText}>Profile information</Text>\n              <Ionicons name=\"chevron-forward\" size={20} color={colors.title} />\n            </TouchableOpacity>\n          </Link>\n\n          <Link href={'/appearance' as never} asChild>\n            <TouchableOpacity style={styles.option}>\n              <Ionicons name=\"color-palette-outline\" size={20} color={colors.title} />\n              <Text style={styles.optionText}>Appearance</Text>\n              <Ionicons name=\"chevron-forward\" size={20} color={colors.title} />\n            </TouchableOpacity>\n          </Link>\n\n          <Link href={'/favorites' as never} asChild>\n            <TouchableOpacity style={styles.option}>\n              <Ionicons name=\"heart-outline\" size={20} color={colors.title} />\n              <Text style={styles.optionText}>Favorites</Text>\n              <Ionicons name=\"chevron-forward\" size={20} color={colors.title} />\n            </TouchableOpacity>\n          </Link>\n        </View>\n\n        <View style={styles.section}>\n          <Text style={styles.sectionTitle}>Application</Text>\n          \n          <Link href={'/privacy-policy' as never} asChild>\n            <TouchableOpacity style={styles.option}>\n              <Ionicons name=\"alert-circle-outline\" size={20} color={colors.title} />\n              <Text style={styles.optionText}>Privacy Policy</Text>\n              <Ionicons name=\"chevron-forward\" size={20} color={colors.title} />\n            </TouchableOpacity>\n          </Link>\n\n          <Link href={'/terms-of-use' as never} asChild>\n            <TouchableOpacity style={styles.option}>\n              <Ionicons name=\"help-circle-outline\" size={20} color={colors.title} />\n              <Text style={styles.optionText}>Terms of Use</Text>\n              <Ionicons name=\"chevron-forward\" size={20} color={colors.title} />\n            </TouchableOpacity>\n          </Link>\n        </View>\n\n        <MyButton\n          title=\"Log out\"\n          onPress={handleLogOut}\n          buttonStyle={styles.logoutButton}\n          textStyle={styles.logoutText}\n        />\n      </ScrollView>\n    </View>\n  );\n};\n\nconst createStyles = (colors: any) => {\n  return StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: colors.background, // Dynamic background color\n    },\n    upperSection: {},\n    title: {\n      fontSize: 32,\n      fontWeight: 'bold',\n      color: colors.title, // Dynamic text color\n      textAlign: 'left',\n      marginVertical: 20,\n      marginLeft: 16,\n      paddingBottom: 20,\n    },\n    content: {\n      paddingHorizontal: 20,\n      paddingBottom: 20,\n      shadowColor: '#000',\n      shadowOffset: { width: 0, height: 4 },\n      shadowOpacity: 0.3,\n      shadowRadius: 10,\n      elevation: 4, // for Android shadow\n      marginTop: 12,\n    },\n    section: {\n      marginBottom: 30,\n    },\n    sectionTitle: {\n      fontSize: 18,\n      fontWeight: '600',\n      color: colors.title, // Dynamic text color\n      marginBottom: 10,\n    },\n    option: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      paddingVertical: 15,\n      borderBottomWidth: 1,\n      borderBottomColor: colors.border, // Dynamic border color\n    },\n    optionText: {\n      flex: 1,\n      fontSize: 16,\n      color: colors.title, // Dynamic text color\n      marginLeft: 10,\n    },\n    logoutButton: {\n      backgroundColor: colors.card, // Dynamic card color\n      padding: 15,\n      borderRadius: 10,\n      alignItems: 'center',\n      borderWidth: 1,\n      borderColor: colors.title, // Dynamic border color\n      marginTop: 20,\n    },\n    logoutText: {\n      color: colors.title, // Dynamic text color\n      fontSize: 16,\n    },\n  });\n};\n\nexport default SettingsPage;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React from 'react';\n// import { View, Text, TouchableOpacity, StyleSheet, ScrollView } from 'react-native';\n// import { Ionicons, MaterialIcons, FontAwesome5 } from '@expo/vector-icons';\n// import { Link} from 'expo-router';\n// import BannerVOne from '@/components/banner/BannerVOne';\n// import { useAuth } from '@/contexts/AuthContext';\n// import MyButton from '@/components/buttons/MyButton';\n// // import CustomButton from '@/components/buttons/WhiteButton';\n// // import MyButton from '@/components/buttons/WhiteButton';\n\n// const SettingsPage = () => {\n//   // const insets = useSafeAreaInsets();\n\n//   // const { authState , onLogout } = useAuth()\n\n//   const handleLogOut = async () => {\n//     // if (onLogout) {\n//     //   try {\n//     //     await onLogout();\n//     //     router.replace('/welcome' as never); // Navigate to the welcome screen after logout\n//     //   } catch (error) {\n//     //     console.error('Logout failed:', error);\n//     //   }\n//     // } else {\n//     //   console.error('Logout function is not defined');\n//     // }\n//   };\n\n//   return (\n//     <View style={styles.container}>\n//       {/* <Stack.Screen options={{headerShown: false}} /> */}\n//      <View  style={styles.upperSection}>\n//       {/* <View style={styles.divider}/> */}\n//      {/* <View style={{paddingBottom: 20}}/> */}\n//      </View>\n//      <ScrollView contentContainerStyle={styles.content}>\n//      <Text style={styles.title}>Settings</Text>\n\n//       <BannerVOne />\n     \n//         <View style={styles.section}>\n//           <Text style={styles.sectionTitle}>General</Text>\n          \n//           <Link href={'/profile' as never} asChild>\n//             <TouchableOpacity style={styles.option}>\n//               <FontAwesome5 name=\"user\" size={20} color=\"black\" />\n//               <Text style={styles.optionText}>Profile information</Text>\n//               <Ionicons name=\"chevron-forward\" size={20} color=\"black\" />\n//             </TouchableOpacity>\n//           </Link>\n\n// {/* \n//           <Link href={'settings/profile-information' as never} asChild>\n//           <TouchableOpacity style={styles.option}>\n//             <MaterialIcons name=\"payment\" size={20} color=\"black\" />\n//             <Text style={styles.optionText}>Payment methods</Text>\n//             <Ionicons name=\"chevron-forward\" size={20} color=\"black\" />\n//           </TouchableOpacity>\n//           </Link> */}\n\n//           <Link href={'/appearance' as never} asChild>\n//           <TouchableOpacity style={styles.option}>\n//             <Ionicons name=\"color-palette-outline\" size={20} color=\"black\" />\n//             <Text style={styles.optionText}>Appearance</Text>\n//             <Ionicons name=\"chevron-forward\" size={20} color=\"black\" />\n//           </TouchableOpacity>\n//           </Link> \n\n//           <Link href={'/favorites' as never} asChild>\n//           <TouchableOpacity style={styles.option}>\n//             <Ionicons name=\"color-palette-outline\" size={20} color=\"black\" />\n//             <Text style={styles.optionText}>Favorites</Text>\n//             <Ionicons name=\"chevron-forward\" size={20} color=\"black\" />\n//           </TouchableOpacity>\n//           </Link>\n// {/* \n//           <Link href={'settings/profile-information' as never} asChild>\n//           <TouchableOpacity style={styles.option}>\n//             <Ionicons name=\"notifications-outline\" size={20} color=\"black\" />\n//             <Text style={styles.optionText}>Notifications</Text>\n//             <Ionicons name=\"chevron-forward\" size={20} color=\"black\" />\n//           </TouchableOpacity>\n//           </Link> */}\n\n//         </View>\n\n//         {/* <View style={styles.section}>\n//           <Text style={styles.sectionTitle}>Support</Text>\n//           <Link href={'/report-an-issue' as never} asChild>\n//           <TouchableOpacity style={styles.option}>\n//             <Ionicons name=\"alert-circle-outline\" size={20} color=\"black\" />\n//             <Text style={styles.optionText}>Report an issue</Text>\n//             <Ionicons name=\"chevron-forward\" size={20} color=\"black\" />\n//           </TouchableOpacity>\n//           </Link>\n\n//           <Link href={'/faq' as never} asChild>\n//           <TouchableOpacity style={styles.option}>\n//             <Ionicons name=\"help-circle-outline\" size={20} color=\"black\" />\n//             <Text style={styles.optionText}>term</Text>\n//             <Ionicons name=\"chevron-forward\" size={20} color=\"black\" />\n//           </TouchableOpacity>\n\n//           </Link>\n\n//         </View> */}\n\n\n\n// <View style={styles.section}>\n//           <Text style={styles.sectionTitle}>Application</Text>\n//           <Link href={'/privacy-policy' as never} asChild>\n//           <TouchableOpacity style={styles.option}>\n//             <Ionicons name=\"alert-circle-outline\" size={20} color=\"black\" />\n//             <Text style={styles.optionText}>Privacy Policy</Text>\n//             <Ionicons name=\"chevron-forward\" size={20} color=\"black\" />\n//           </TouchableOpacity>\n//           </Link>\n\n//           <Link href={'/terms-of-use' as never} asChild>\n//           <TouchableOpacity style={styles.option}>\n//             <Ionicons name=\"help-circle-outline\" size={20} color=\"black\" />\n//             <Text style={styles.optionText}>Terms of use</Text>\n//             <Ionicons name=\"chevron-forward\" size={20} color=\"black\" />\n//           </TouchableOpacity>\n          \n//           </Link>\n\n//         </View>\n//         <MyButton\n//         title=\"Log out\"\n//         onPress={handleLogOut}\n//         buttonStyle={styles.logoutButton}\n//         textStyle={styles.logoutText}\n//       />\n//       </ScrollView>\n//     </View>\n//   );\n// };\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flex: 1,\n//     backgroundColor: '#FFFFFF',\n//   },\n//   upperSection: {\n  \n//   },\n//   divider: {\n//     height: 1,\n//     backgroundColor: '#EAEAEA',\n//     // paddingBottom: 20\n//     // marginBottom: 20,\n//   },\n\n//   title: {\n//     fontSize: 32,\n//     fontWeight: 'bold',\n//     color: '#000',\n//     textAlign: 'left',\n//     marginVertical: 20,\n//     marginLeft: 16,\n//     paddingBottom: 20,\n//   },\n//   content: {\n//     paddingHorizontal: 20,\n//     paddingBottom: 20,\n//     shadowColor: '#000',\n//     shadowOffset: { width: 0, height: 4 },\n//     shadowOpacity: 0.3,\n//     shadowRadius: 10,\n//     elevation: 4, // for Android shadow\n//     marginTop: 12,\n\n//   },\n//   section: {\n//     marginBottom: 30,\n//   },\n//   sectionTitle: {\n//     fontSize: 18,\n//     fontWeight: '600',\n//     color: '#000',\n//     marginBottom: 10,\n//   },\n//   option: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     paddingVertical: 15,\n//     borderBottomWidth: 1,\n//     borderBottomColor: '#EAEAEA',\n//   },\n//   optionText: {\n//     flex: 1,\n//     fontSize: 16,\n//     color: '#000',\n//     marginLeft: 10,\n//   },\n//   logoutButton: {\n//     backgroundColor: '#FFFFFF',\n//     padding: 15,\n//     borderRadius: 10,\n//     alignItems: 'center',\n//     borderWidth: 1,\n//     borderColor: '#000',\n//     marginTop: 20,\n//   },\n//   logoutText: {\n//     color: '#000',\n//     fontSize: 16,\n//   },\n// });\n\n// export default SettingsPage;\n","import { Button, Image, StyleSheet, Text, TextInput, View, Alert , Modal} from 'react-native';\nimport React, { useEffect, useState } from 'react';\nimport { router, SplashScreen, Stack, useNavigation, useRouter } from 'expo-router';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { UserProps } from '@/models/UserProps';\nimport { generateUUID } from '@/hooks/generateUUID';\nimport { useClientStore } from '@/contexts/ClientStoreContext';\n\nconst LoginComponentOne = () => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { onLogin, onRegister, onLogout , authState } = useAuth();\n  const [errorMessage, setErrorMessage] = useState('');\n  const navigation = useNavigation();\n  const [openModal , setOpenModal] = useState(false)\n\n  const {store} = useClientStore()\n\n\n\n  const showAlert = (message: string) => Alert.alert(\"Error\", message, [{ text: \"OK\" }]);\n\n  const loginAction = async () => {\n    try {\n      const result = await onLogin!(store?.id ?? \"\",email, password);\n      if (result.error) {\n        showAlert(result.msg);\n      } else {\n        console.log(\"Login successful\");\n        // Wrap navigation.goBack in a try-catch block\n        try {\n        router.replace('/home' as never)\n\n        } catch (navError) {\n          console.error(\"Navigation error:\", navError);\n        }\n      }\n    } catch (error: any) {\n      console.error(\"(5) Login error:\", error.message);\n      showAlert(\"Login failed. Please try again.\");\n    }\n  };\n\n  const registerAction = async () => {\n    const user: UserProps = {\n      id: generateUUID(8),\n      name,\n      email,\n      password,\n      store_ids: [],\n      store_owner_id: '',\n      onboardingQ1: '',\n      onboardingQ2: '',\n      onboardingQ3: '',\n      onboardingQ4: '',\n      orders: [],\n      favoriteItems: [],\n      cart: [],\n      affiliate_link: '',\n      active: false,\n      role: '',\n      birthday: '',\n      todo_completed: false,\n      tableName: '',\n      username: '',\n      phone_number: '',\n      gender: '',\n      profile_image: '',\n      address_city: '',\n      address_state: '',\n      location_history: [],\n      current_notification: '',\n      notifications: [],\n      payment_due: 0,\n      payment_due_date: '',\n      payment_due_day: '',\n      payment_monthly_amount: 0,\n      device_id: '',\n      device_os_version: '',\n      device_model: '',\n      device_ip_address: '',\n      device_battery_level: '',\n      device_battery_statue: '',\n      device_network_connectio_type: '',\n      loyalty_date: '',\n      payment_history_total: 0,\n      subscription_id: '',\n      paid_subscriber: false,\n      newsletter_subscriber: false,\n      notification_subscriber: false,\n      left_review: false,\n      review_stars: [],\n      reviews: [],\n      testimonials: [],\n      notify_arn: '',\n      owner_notify_arn: ''\n    };\n\n    try {\n      const result = await onRegister!(store?.id ?? \"\", user);\n      if (result.error) {\n        showAlert(result);\n        return;\n      } else {\n        console.log(\"Registration successful\");\n        // Call the loginAction after successful registration\n        loginAction();\n      }\n    } catch (error : any) {\n      console.error(\"(1) Registration error:\", error.message);\n      showAlert(\"Registration failed. Please try again.\");\n    }\n  };\n\n  return (\n    \n    // <Modal visible={openModal} >\n    <View style={styles.container}>\n            <Stack.Screen  options={{ title: 'Login'  }}  />\n\n      {/* <Modal visible={openModal} transparent={true} animationType='fade' > */}\n      <View style={styles.imgContainer}>\n        <Image source={{ uri: 'https://appsformankind-assets.s3.amazonaws.com/Products/Oak_and_Ivy/Furniture_8.jpg' }} style={styles.img} />\n      </View>\n      <View style={styles.form}>\n        <TextInput style={styles.input} placeholder=\"Name\" onChangeText={setName} value={name} />\n        <TextInput style={styles.input} placeholder=\"Email\" onChangeText={setEmail} value={email} />\n        <TextInput style={styles.input} placeholder=\"Password\" secureTextEntry onChangeText={setPassword} value={password} />\n        <Button onPress={loginAction} title=\"Sign in\" />\n        <Button onPress={registerAction} title=\"Create Account\" />\n        <Button onPress={onLogout} title=\"Logout\" />\n        {/* <Text>{authState?.authenticated ? \"TRUE\": \"FALSE\"}</Text> */}\n\n      </View>\n      {/* </Modal> */}\n    </View>\n   \n    \n  );\n};\n\nexport default LoginComponentOne;\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    width: '100%',\n  },\n  imgContainer: {\n    marginLeft: 8,\n    height: 200,\n    width: 200,\n    borderRadius: 6,\n    paddingTop: 30,\n  },\n  img: {\n    height: 200,\n    width: 200,\n    borderRadius: 100,\n  },\n  form: {\n    paddingTop: 50,\n    gap: 10,\n    width: '60%',\n  },\n  input: {\n    height: 44,\n    borderWidth: 1,\n    borderRadius: 4,\n    padding: 10,\n    backgroundColor: \"#fff\",\n  },\n});\n\n\n\n\n\n","import React, { useEffect, useState } from \"react\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ImageBackground,\n  TouchableOpacity,\n  StatusBar,\n  Modal,\n  Dimensions,\n  ActivityIndicator,\n  Alert,\n} from \"react-native\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport LoginComponentOne from \"../login/LoginComponentOne\";\nimport { CONSTANTS } from \"@/utils/constants\";\nimport {\n  ClientStoreProvider,\n  useClientStore,\n} from \"@/contexts/ClientStoreContext\";\nimport { router } from \"expo-router\";\nimport { useAuth } from \"@/contexts/AuthContext\";\n\nconst { width, height } = Dimensions.get(\"screen\");\n\n// export default function WelcomePageTwo() {\nconst WelcomePageTwo = () => {\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [modalVisible, setModalVisible] = useState(false);\n  const { store } = useClientStore();\n  const { authState } = useAuth();\n\n  // const welcomeImage = store?.images?.welcome_image ?? \"\";\n\n  return (\n    <View style={styles.container}>\n      <StatusBar\n        barStyle=\"dark-content\"\n        translucent\n        backgroundColor=\"transparent\"\n      />\n\n      <ImageBackground\n        source={{\n          uri: \"https://appsformankind-assets.s3.amazonaws.com/Store/Jays_Sea_Moss/waterfall.jpg\",\n        }}\n        style={styles.backgroundImage}\n        resizeMode=\"cover\"\n      >\n        <View style={styles.overlay}>\n          <View style={styles.header}>\n            <Text style={styles.logoText}>{store?.store_name}</Text>\n            <Text style={styles.tagline}>\n              Nature's Superfood, Your Ultimate Wellness Companion.\n            </Text>\n          </View>\n\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={styles.buttonPrimary}\n              onPress={() => {\n                console.log(authState?.authenticated);\n                router.push(\"/login\" as never);\n              }}\n            >\n              <Ionicons name=\"log-in-outline\" size={20} color=\"black\" />\n              <Text style={styles.buttonPrimaryText}>Proceed to Login</Text>\n              <Ionicons name=\"arrow-forward\" size={20} color=\"black\" />\n            </TouchableOpacity>\n\n            <TouchableOpacity\n              style={styles.buttonSecondary}\n              onPress={() => router.push(\"/register\" as never)}\n            >\n              <Ionicons name=\"person-add-outline\" size={20} color=\"white\" />\n              <Text style={styles.buttonSecondaryText}>New User? Sign Up</Text>\n              <Ionicons name=\"arrow-forward\" size={20} color=\"white\" />\n            </TouchableOpacity>\n          </View>\n        </View>\n      </ImageBackground>\n\n      {/* Modal for Login */}\n      <Modal\n        animationType=\"slide\"\n        transparent={true}\n        visible={modalVisible}\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles.modalContent}>\n            <TouchableOpacity\n              style={styles.closeButton}\n              onPress={() => setModalVisible(false)}\n            >\n              <Ionicons name=\"close-outline\" size={24} color=\"black\" />\n            </TouchableOpacity>\n            <LoginComponentOne />\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n}\n\nexport default WelcomePageTwo\n\n\n\n\nconst styles = StyleSheet.create({\n  loadingContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"#F5F5F5\",\n  },\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"#F5F5F5\",\n  },\n  backgroundImage: {\n    flex: 1,\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  overlay: {\n    flex: 1,\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"rgba(0, 0, 0, 0.3)\", // Dark overlay for text visibility\n    paddingTop: 60,\n    paddingBottom: 40,\n    width: width,\n  },\n  header: {\n    alignItems: \"center\",\n  },\n  logoText: {\n    fontSize: 40,\n    fontWeight: \"bold\",\n    color: \"white\",\n  },\n  tagline: {\n    fontSize: 16,\n    color: \"white\",\n    textAlign: \"center\",\n    paddingHorizontal: 20,\n    marginTop: 10,\n  },\n  buttonContainer: {\n    width: \"100%\",\n    alignItems: \"center\",\n  },\n  buttonPrimary: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"white\",\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    borderRadius: 30,\n    width: \"90%\",\n    justifyContent: \"space-between\",\n    marginBottom: 15,\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 5,\n    elevation: 5,\n  },\n  buttonPrimaryText: {\n    color: \"black\",\n    fontSize: 18,\n    fontWeight: \"bold\",\n  },\n  buttonSecondary: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"black\",\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    borderRadius: 30,\n    width: \"90%\",\n    justifyContent: \"space-between\",\n  },\n  buttonSecondaryText: {\n    color: \"white\",\n    fontSize: 18,\n    fontWeight: \"bold\",\n  },\n  noImageContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  noImageText: {\n    fontSize: 16,\n    color: \"gray\",\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\", // Semi-transparent background\n  },\n  modalContent: {\n    width: \"90%\",\n    padding: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    elevation: 10,\n  },\n  closeButton: {\n    alignSelf: \"flex-end\",\n  },\n});\n\n// import React from 'react';\n// import { View, Text, StyleSheet, ImageBackground, TouchableOpacity, StatusBar, Dimensions } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n// import { useClientStore } from '@/contexts/ClientStoreContext';\n\n// const { width, height } = Dimensions.get(\"screen\");\n\n// export default function WelcomePageTwo() {\n\n//   const { store } = useClientStore();\n\n//   const welcomeImage = store?.images?.welcome_image ?? \"\";\n\n//   return (\n//     <View style={styles.container}>\n//       <StatusBar barStyle=\"dark-content\" translucent backgroundColor=\"transparent\" />\n\n//       {welcomeImage ? (\n//         <ImageBackground\n//           source={{ uri: welcomeImage }}\n//           style={styles.backgroundImage}\n//           resizeMode=\"cover\"\n//         >\n//           <View style={styles.overlay}>\n//             <View style={styles.header}>\n//               <Text style={styles.logoText}>{store?.store_name}</Text>\n//               <Text style={styles.tagline}>Nature's Superfood, Your Ultimate Wellness Companion.</Text>\n//             </View>\n\n//             <View style={styles.buttonContainer}>\n//               <TouchableOpacity style={styles.buttonPrimary} onPress={() => {}}>\n//                 <Ionicons name=\"log-in-outline\" size={20} color=\"black\" />\n//                 <Text style={styles.buttonPrimaryText}>Proceed to Login</Text>\n//                 <Ionicons name=\"arrow-forward\" size={20} color=\"black\" />\n//               </TouchableOpacity>\n\n//               <TouchableOpacity style={styles.buttonSecondary} onPress={() => {}}>\n//                 <Ionicons name=\"person-add-outline\" size={20} color=\"white\" />\n//                 <Text style={styles.buttonSecondaryText}>New User? Sign Up</Text>\n//                 <Ionicons name=\"arrow-forward\" size={20} color=\"white\" />\n//               </TouchableOpacity>\n//             </View>\n//           </View>\n//         </ImageBackground>\n//       ) : (\n//         <View style={styles.noImageContainer}>\n//           <Text style={styles.noImageText}>No image available</Text>\n//         </View>\n//       )}\n//     </View>\n//   );\n// }\n\n// const styles = StyleSheet.create({\n//   container: {\n//     flex: 1,\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//     backgroundColor: '#F5F5F5',\n//   },\n//   backgroundImage: {\n//     flex: 1,\n//     width: '100%',\n//     height: '100%',\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//   },\n//   overlay: {\n//     flex: 1,\n//     justifyContent: 'space-between',\n//     alignItems: 'center',\n//     backgroundColor: 'rgba(0, 0, 0, 0.3)', // Dark overlay for text visibility\n//     paddingTop: 60,\n//     paddingBottom: 40,\n//     width: width\n//   },\n//   header: {\n//     alignItems: 'center',\n//   },\n//   logoText: {\n//     fontSize: 40,\n//     fontWeight: 'bold',\n//     color: 'white',\n//   },\n//   tagline: {\n//     fontSize: 16,\n//     color: 'white',\n//     textAlign: 'center',\n//     paddingHorizontal: 20,\n//     marginTop: 10,\n//   },\n//   buttonContainer: {\n//     width: '100%',\n//     alignItems: 'center',\n//   },\n//   buttonPrimary: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     backgroundColor: 'white',\n//     paddingVertical: 15,\n//     paddingHorizontal: 30,\n//     borderRadius: 30,\n//     width: '90%',\n//     justifyContent: 'space-between',\n//     marginBottom: 15,\n//     shadowColor: '#000',\n//     shadowOffset: { width: 0, height: 2 },\n//     shadowOpacity: 0.2,\n//     shadowRadius: 5,\n//     elevation: 5,\n//   },\n//   buttonPrimaryText: {\n//     color: 'black',\n//     fontSize: 18,\n//     fontWeight: 'bold',\n//   },\n//   buttonSecondary: {\n//     flexDirection: 'row',\n//     alignItems: 'center',\n//     backgroundColor: 'black',\n//     paddingVertical: 15,\n//     paddingHorizontal: 30,\n//     borderRadius: 30,\n//     width: '90%',\n//     justifyContent: 'space-between',\n//   },\n//   buttonSecondaryText: {\n//     color: 'white',\n//     fontSize: 18,\n//     fontWeight: 'bold',\n//   },\n//   noImageContainer: {\n//     flex: 1,\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//   },\n//   noImageText: {\n//     fontSize: 16,\n//     color: 'gray',\n//   },\n// });\n","import React from 'react';\nimport { StyleSheet, Text, ScrollView, View } from 'react-native';\nimport { COLORS, SIZES } from '@/utils/theme';\nimport { useClientStore } from '@/contexts/ClientStoreContext';\n// import { useClientStore,  COLORS, SIZES } from \"@dhuntleypro/afm-library\"\n\nconst TermsOfUsePage = () => {\n  const { store } = useClientStore();\n  const storeName = store?.store_name || 'Your Store Name';\n\n  return (\n    <ScrollView style={styles.container}>\n      {/* <Text style={styles.heading}>Terms of Use</Text> */}\n      <Text style={styles.paragraph}>\n        Welcome to {storeName}. By accessing or using our website or app, you agree to be bound by the following terms and conditions.\n      </Text>\n\n      <Text style={styles.subheading}>1. Acceptance of Terms</Text>\n      <Text style={styles.paragraph}>\n        By accessing our website, you agree to these Terms of Use. If you do not agree, you must not use our site.\n      </Text>\n\n      <Text style={styles.subheading}>2. Changes to Terms</Text>\n      <Text style={styles.paragraph}>\n        {storeName} reserves the right to update or modify these terms at any time without prior notice. Your continued use of the site constitutes your acceptance of the new terms.\n      </Text>\n\n      <Text style={styles.subheading}>3. Use of the Site</Text>\n      <Text style={styles.paragraph}>\n        You agree to use our site for lawful purposes only. Prohibited activities include, but are not limited to:\n      </Text>\n      <View style={styles.list}>\n        <Text style={styles.listItem}>• Violating any laws or regulations.</Text>\n        <Text style={styles.listItem}>• Infringing upon our intellectual property rights or the rights of others.</Text>\n        <Text style={styles.listItem}>• Transmitting harmful or malicious software.</Text>\n      </View>\n\n      <Text style={styles.subheading}>4. Account Information</Text>\n      <Text style={styles.paragraph}>\n        When you create an account, you agree to provide accurate and complete information. You are responsible for maintaining the confidentiality of your account and password.\n      </Text>\n\n      <Text style={styles.subheading}>5. Product Information</Text>\n      <Text style={styles.paragraph}>\n        We strive to display accurate product descriptions and pricing. However, {storeName} does not guarantee that these details are error-free.\n      </Text>\n\n      <Text style={styles.subheading}>6. Intellectual Property</Text>\n      <Text style={styles.paragraph}>\n        All content on this site, including text, graphics, logos, and images, is the property of {storeName} and is protected by copyright laws.\n      </Text>\n\n      <Text style={styles.subheading}>7. Termination</Text>\n      <Text style={styles.paragraph}>\n        We reserve the right to terminate your access to the site at any time, without notice, for any reason, including violation of these terms.\n      </Text>\n\n      <Text style={styles.subheading}>8. Limitation of Liability</Text>\n      <Text style={styles.paragraph}>\n        {storeName} is not liable for any damages arising from the use of our site or products. This includes, but is not limited to, direct, indirect, incidental, or punitive damages.\n      </Text>\n\n      <Text style={styles.subheading}>9. Governing Law</Text>\n      <Text style={styles.paragraph}>\n        These terms are governed by the laws of [Your Jurisdiction]. Any disputes arising from these terms or your use of the site will be resolved in the courts of [Your Jurisdiction].\n      </Text>\n    </ScrollView>\n  );\n};\n\nexport default TermsOfUsePage;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: COLORS.lightWhite,\n  },\n  heading: {\n    fontSize: SIZES.large,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  subheading: {\n    fontSize: SIZES.medium,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n  },\n  paragraph: {\n    fontSize: SIZES.small,\n    lineHeight: 22,\n    color: COLORS.darkGray,\n  },\n  list: {\n    paddingLeft: 20,\n    marginBottom: 10,\n  },\n  listItem: {\n    fontSize: SIZES.small,\n    lineHeight: 22,\n    color: COLORS.darkGray,\n  },\n});","import React from 'react';\nimport { StyleSheet, Text, ScrollView, View } from 'react-native';\nimport { COLORS, SIZES } from '@/utils/theme';\nimport { useClientStore } from '@/contexts/ClientStoreContext';\n\nconst PrivacyPolicyPage = () => {\n  const { store } = useClientStore();\n  const storeName = store?.store_name || 'Your Store Name';\n\n  return (\n    <ScrollView style={styles.container}>\n      {/* <Text style={styles.heading}>Privacy Policy</Text> */}\n      <Text style={styles.paragraph}>\n        At {storeName}, we are committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and protect your personal information.\n      </Text>\n\n      <Text style={styles.subheading}>1. Information Collection</Text>\n      <Text style={styles.paragraph}>\n        We collect information that you provide to us when you register on our site, place an order, subscribe to our newsletter, or fill out a form. This may include your name, email address, mailing address, phone number, and payment information.\n      </Text>\n\n      <Text style={styles.subheading}>2. Use of Information</Text>\n      <Text style={styles.paragraph}>\n        The information we collect may be used in the following ways:\n      </Text>\n      <View style={styles.list}>\n        <Text style={styles.listItem}>• To personalize your experience and respond to your individual needs.</Text>\n        <Text style={styles.listItem}>• To improve our website based on the information and feedback we receive from you.</Text>\n        <Text style={styles.listItem}>• To process transactions efficiently.</Text>\n        <Text style={styles.listItem}>• To send periodic emails related to your order or other products and services.</Text>\n      </View>\n\n      <Text style={styles.subheading}>3. Sharing of Information</Text>\n      <Text style={styles.paragraph}>\n        We do not sell, trade, or otherwise transfer your personally identifiable information to outside parties, except to trusted third parties who assist us in operating our website, conducting our business, or servicing you, so long as those parties agree to keep this information confidential.\n      </Text>\n\n      <Text style={styles.subheading}>4. Security</Text>\n      <Text style={styles.paragraph}>\n        We implement a variety of security measures to maintain the safety of your personal information. Your personal information is contained behind secured networks and is only accessible by a limited number of persons who have special access rights to such systems.\n      </Text>\n\n      <Text style={styles.subheading}>5. User Rights</Text>\n      <Text style={styles.paragraph}>\n        You have the right to access, update, or delete your personal information at any time. You may also opt-out of receiving future communications from us by following the unsubscribe instructions included in each email.\n      </Text>\n\n      <Text style={styles.subheading}>6. Cookies</Text>\n      <Text style={styles.paragraph}>\n        We use cookies to enhance your experience, gather general visitor information, and track visits to our website. You can choose to have your computer warn you each time a cookie is being sent, or you can choose to turn off all cookies via your browser settings.\n      </Text>\n\n      <Text style={styles.subheading}>7. Changes to this Policy</Text>\n      <Text style={styles.paragraph}>\n        {storeName} reserves the right to update this Privacy Policy at any time. We will notify you of any significant changes by updating the date at the top of this document or via email if you have an account with us.\n      </Text>\n\n      <Text style={styles.subheading}>8. Contact Us</Text>\n      <Text style={styles.paragraph}>\n        If you have any questions about this Privacy Policy, please contact us at [Your Contact Information].\n      </Text>\n    </ScrollView>\n  );\n};\n\nexport default PrivacyPolicyPage;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: COLORS.lightWhite,\n  },\n  heading: {\n    fontSize: SIZES.large,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  subheading: {\n    fontSize: SIZES.medium,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n  },\n  paragraph: {\n    fontSize: SIZES.small,\n    lineHeight: 22,\n    color: COLORS.darkGray,\n  },\n  list: {\n    paddingLeft: 20,\n    marginBottom: 10,\n  },\n  listItem: {\n    fontSize: SIZES.small,\n    lineHeight: 22,\n    color: COLORS.darkGray,\n  },\n});","import { StyleSheet, Text, View } from 'react-native'\nimport React from 'react'\n\nconst CookiesPage = () => {\n  return (\n    <View>\n      <Text>CookiesPage</Text>\n    </View>\n  )\n}\n\nexport default CookiesPage\n\nconst styles = StyleSheet.create({})","import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  TouchableOpacity,\n  StyleSheet,\n  Dimensions,\n} from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { useTheme } from '@/contexts/ThemeContext';\n\nconst { width } = Dimensions.get('window');\n\ninterface AppearanceOption {\n  label: string;\n  mode: 'light' | 'dark' | 'system';\n}\n\nconst options: AppearanceOption[] = [\n  { label: 'Light', mode: 'light' },\n  { label: 'Dark', mode: 'dark' },\n  { label: 'System', mode: 'system' },\n];\n\nconst AppearanceSelection: React.FC = () => {\n  const { setTheme, theme } = useTheme();\n  const handleSelection = (mode: AppearanceOption['mode']) => {\n    setTheme(mode);\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>APPEARANCE</Text>\n      <View style={styles.optionsContainer}>\n        {options.map((option) => (\n          <TouchableOpacity\n            key={option.mode}\n            style={[\n              styles.option,\n              theme === option.mode && styles.selectedOption,\n            ]}\n            onPress={() => handleSelection(option.mode)}\n          >\n            <View style={styles.optionContent}>\n              <View style={[styles.preview, theme === option.mode && styles.selectedPreview]}>\n                <Text style={styles.previewText}>Aa</Text>\n              </View>\n              <Text style={styles.optionLabel}>{option.label}</Text>\n              {theme === option.mode && (\n                <Ionicons name=\"checkmark-circle\" size={24} color=\"green\" style={styles.checkIcon} />\n              )}\n            </View>\n          </TouchableOpacity>\n        ))}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: 20,\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#888',\n    marginBottom: 10,\n  },\n  optionsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  option: {\n    width: (width - 60) / 3, // Ensures the three options fit horizontally\n    alignItems: 'center',\n    padding: 10,\n    borderRadius: 10,\n    borderColor: '#ddd',\n    borderWidth: 1,\n    backgroundColor: '#f7f7f7',\n  },\n  selectedOption: {\n    borderColor: 'black',\n    backgroundColor: '#EDEDED',\n  },\n  optionContent: {\n    alignItems: 'center',\n  },\n  preview: {\n    width: 50,\n    height: 50,\n    borderRadius: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#ddd',\n  },\n  selectedPreview: {\n    backgroundColor: '#333',\n  },\n  previewText: {\n    fontSize: 18,\n    color: 'black',\n  },\n  optionLabel: {\n    marginTop: 10,\n    fontSize: 14,\n    color: 'black',\n  },\n  checkIcon: {\n    position: 'absolute',\n    right: 5,\n    top: 5,\n  },\n});\n\nexport default AppearanceSelection;\n\n\n// import React, { useState } from 'react';\n// import {\n//   View,\n//   Text,\n//   TouchableOpacity,\n//   StyleSheet,\n//   Dimensions,\n// } from 'react-native';\n// import { Ionicons } from '@expo/vector-icons';\n\n// const { width } = Dimensions.get('window');\n\n// interface AppearanceOption {\n//   label: string;\n//   mode: 'light' | 'dark' | 'system';\n// }\n\n// const options: AppearanceOption[] = [\n//   { label: 'Light', mode: 'light' },\n//   { label: 'Dark', mode: 'dark' },\n//   { label: 'System', mode: 'system' },\n// ];\n\n// const AppearanceSelection: React.FC = () => {\n//   const [selectedMode, setSelectedMode] = useState<AppearanceOption['mode']>('system');\n\n//   const handleSelection = (mode: AppearanceOption['mode']) => {\n//     setSelectedMode(mode);\n//     // Implement theme changing logic here, such as updating context or calling a theme switching function\n//   };\n\n//   return (\n//     <View style={styles.container}>\n//       <Text style={styles.title}>APPEARANCE</Text>\n//       <View style={styles.optionsContainer}>\n//         {options.map((option) => (\n//           <TouchableOpacity\n//             key={option.mode}\n//             style={[\n//               styles.option,\n//               selectedMode === option.mode && styles.selectedOption,\n//             ]}\n//             onPress={() => handleSelection(option.mode)}\n//           >\n//             <View style={styles.optionContent}>\n//               <View style={[styles.preview, selectedMode === option.mode && styles.selectedPreview]}>\n//                 <Text style={styles.previewText}>Aa</Text>\n//               </View>\n//               <Text style={styles.optionLabel}>{option.label}</Text>\n//               {selectedMode === option.mode && (\n//                 <Ionicons name=\"checkmark-circle\" size={24} color=\"black\" style={styles.checkIcon} />\n//               )}\n//             </View>\n//           </TouchableOpacity>\n//         ))}\n//       </View>\n//     </View>\n//   );\n// };\n\n// const styles = StyleSheet.create({\n//   container: {\n//     padding: 20,\n//   },\n//   title: {\n//     fontSize: 16,\n//     fontWeight: 'bold',\n//     color: '#888',\n//     marginBottom: 10,\n//   },\n//   optionsContainer: {\n//     flexDirection: 'row',\n//     justifyContent: 'space-between',\n//   },\n//   option: {\n//     width: (width - 60) / 3, // Ensures the three options fit horizontally\n//     alignItems: 'center',\n//     padding: 10,\n//     borderRadius: 10,\n//     borderColor: '#ddd',\n//     borderWidth: 1,\n//     backgroundColor: '#f7f7f7',\n//   },\n//   selectedOption: {\n//     borderColor: 'black',\n//     backgroundColor: '#EDEDED',\n//   },\n//   optionContent: {\n//     alignItems: 'center',\n//   },\n//   preview: {\n//     width: 50,\n//     height: 50,\n//     borderRadius: 10,\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//     backgroundColor: '#ddd',\n//   },\n//   selectedPreview: {\n//     backgroundColor: '#333',\n//   },\n//   previewText: {\n//     fontSize: 18,\n//     color: 'black',\n//   },\n//   optionLabel: {\n//     marginTop: 10,\n//     fontSize: 14,\n//     color: 'black',\n//   },\n//   checkIcon: {\n//     position: 'absolute',\n//     right: 5,\n//     top: 5,\n//   },\n// });\n\n// export default AppearanceSelection;\n","import { StyleSheet, Text, View } from 'react-native'\nimport React from 'react'\n\nconst FAQPage = () => {\n  return (\n    <View>\n      <Text>faqPage</Text>\n    </View>\n  )\n}\n\nexport default FAQPage\n\nconst styles = StyleSheet.create({})","import { Image, StyleSheet, Text, TouchableOpacity, View } from \"react-native\";\nimport React, { FC, useContext, useState } from \"react\";\nimport { COLORS, SIZES } from \"@/utils/theme\";\n// import { ProductModelProps } from '../../models/ProductModelProps'\nimport convertToCurrency from \"@/hooks/convertToCurrency\";\n// import {  useFavorite } from '../../contexts/FavoriteContext'\nimport { Ionicons, SimpleLineIcons } from \"@expo/vector-icons\";\n// import { stripeConverter } from '../../hook/stripeConverter'\n// import { useAuth } from '../../contexts/AuthContext'\n// import { createPaymentIntent } from '../../api/paymentApi'\nimport { CONSTANTS } from \"@/utils/constants\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { useFavorite } from \"@/contexts/FavoriteContext\";\nimport { useTheme } from \"@react-navigation/native\";\n\nconst FavoriteCard = ({ item }: any) => {\n  const {colors} = useTheme()\n  const {\n    deleteItemFromFavorite,\n    addToFavorite,\n    decreaseFromFavorite,\n    totalSum,\n  } = useFavorite();\n  const [quantity, setQuantity] = useState(item.quantity);\n  const { authState, onLogout } = useAuth();\n  const [paymentStatus, setPaymentStatus] = useState(\"ijiij\");\n\n\n\nconst styles = StyleSheet.create({\n  container: {\n    marginVertical: 10,\n    flexDirection: \"row\",\n  },\n  img: {\n    height: 125,\n    width: \"25%\",\n    borderRadius: 10,\n  },\n  cardContent: {\n    flex: 1,\n    marginHorizontal: 10,\n  },\n  title: {\n    fontSize: 15,\n    color: colors.text,\n  },\n  price: {\n    color: \"#797979\",\n    marginVertical: 7,\n    fontSize: 18,\n  },\n  circleSizeContainer: {\n    flexDirection: \"row\",\n  },\n  circle: {\n    height: 32,\n    width: 32,\n    borderRadius: 16,\n    backgroundColor: \"#444444\",\n  },\n  sizeCircle: {\n    backgroundColor: \"white\",\n    height: 32,\n    width: 32,\n    borderRadius: 16,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  sizeText: {\n    fontSize: 18,\n    fontWeight: \"500\",\n  },\n  rating: {\n    top: SIZES.large,\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n    // marginHorizontal: SIZES.large\n  },\n  ratingText: {\n    color: COLORS.gray,\n    fontFamily: \"medium\",\n    paddingHorizontal: SIZES.xSmall,\n  },\n});\n\n  return (\n    <View style={styles.container}>\n      <Image\n        style={styles.img}\n        source={{ uri: item.image ? item.image : CONSTANTS.holderImage }}\n      />\n      <View style={styles.cardContent}>\n        <Text style={styles.title}>{item.name}</Text>\n        <Text style={styles.price}>\n          {convertToCurrency(item.price)} \n        </Text>\n        {/* <Text style={styles.price}>{convertToCurrency(item.price * item.quantity) }</Text> */}\n\n        {/* <View style={styles.circleSizeContainer}>\n                <View style={styles.circle} />\n            </View>  */}\n\n        <View style={styles.rating}></View>\n      </View>\n      <TouchableOpacity onPress={() => deleteItemFromFavorite(item)}>\n        <Ionicons\n          name=\"trash-outline\"\n          size={SIZES.xLarge}\n          color={colors.text}\n        />\n      </TouchableOpacity>\n\n      <View></View>\n    </View>\n  );\n};\n\nexport default FavoriteCard;\n\n\n// import React from 'react';\n// import { TouchableOpacity, View, Text, Image } from 'react-native';\n// import { useFavorite } from '@/contexts/FavoriteContext';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// // Update the FavoriteCard component to accept these props\n// const FavoriteCard: React.FC<{\n//     item: Partial<ProductModelProps>;\n//     deleteItemFromFavorite: (item: Partial<ProductModelProps>, authUser: any, updateSingleUserItem: any) => void;\n//     triggerValueChange: boolean;\n//   }> = ({ item, deleteItemFromFavorite, triggerValueChange }) => {\n//     // Handle favorite toggle logic here, if necessary\n\n//     return (\n//       <View style={{ padding: 10 }}>\n//         {/* Example UI for the favorite item */}\n//         {item.image && (\n//           <Image source={{ uri: item.image }} style={{ width: 100, height: 100 }} />\n//         )}\n//         <Text>{item.name || 'Unnamed Product'}</Text>\n//         <Text>{item.price || 'Price Unavailable'}</Text>\n\n//         {/* Heart Icon */}\n//         <TouchableOpacity onPress={() => deleteItemFromFavorite(item, null, null)}>\n//           <Text>{'♡'}</Text> {/* Display filled heart if favorite */}\n//         </TouchableOpacity>\n//       </View>\n//     );\n//   };\n\n//   export default FavoriteCard;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Image,\n  StyleSheet,\n  FlatList,\n  Text,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport { useFavorite } from \"@/contexts/FavoriteContext\";\n// import FavoriteHeader from '@/components/other/headers/FavoriteHeader';\nimport { generalStyles } from \"@/components/other/general/Styles\";\n// import CartCard from \"@/components/cart/CartCard\";\nimport convertToCurrency from \"@/hooks/convertToCurrency\";\nimport { CONSTANTS } from \"@/utils/constants\";\nimport FavoriteCard from \"@/components/card/fovorite/FavoritrCard\";\nimport { useTheme } from \"@/contexts/ThemeContext\";\n// import PaymentPayScreen from './PaymentPayScreen';\n\n// Define the FavoritePageVOne component\nconst FavoritesPageVOne: React.FC = () => {\n  const {\n    favorites,\n    totalSum,\n    totalShipping,\n    totalTax,\n    grandTotal,\n    deleteItemFromFavorite,\n  } = useFavorite();\n  const [triggerValueChange, setTriggerValueChange] = useState(false);\n\n  const { colors } = useTheme();\n  // Stylesheet for the component\n  const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      padding: 15,\n      color: colors.title\n    },\n    priceContainer: {\n      marginTop: 40,\n    },\n    priceAndTitle: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      marginHorizontal: 20,\n      marginVertical: 10,\n      color: colors.title, // '#757575',\n\n    },\n    text: {\n      color: colors.title, // '#757575',\n      fontSize: 14,\n    },\n    divider: {\n      borderWidth: 1,\n      borderColor: colors.cardBorder, // '#C0C0C0',\n      borderRadius: 15,\n      marginVertical: 10,\n    },\n  });\n  return (\n    <View style={styles.container}>\n      {favorites.length <= 0 ? (\n        <View style={generalStyles.center}>\n          <Text>Please add items to the favorite</Text>\n        </View>\n      ) : (\n        <>\n          <FlatList\n            data={favorites}\n            showsVerticalScrollIndicator={false}\n            keyExtractor={(item) => String(item.id)} // Convert item.id to string to ensure it's a valid key\n            contentContainerStyle={{ paddingBottom: 100 }}\n            renderItem={({ item }) => (\n              <FavoriteCard\n                item={item}\n                deleteItemFromFavorite={deleteItemFromFavorite}\n                triggerValueChange={triggerValueChange}\n              />\n            )}\n          />\n          <View style={{ paddingBottom: 50 }} />\n        </>\n      )}\n    </View>\n  );\n};\n\nexport default FavoritesPageVOne;\n","import React, { useState } from 'react';\nimport { SafeAreaView, View, TextInput, TouchableOpacity, Text, FlatList, StyleSheet, Dimensions } from 'react-native';\nimport { Feather, Ionicons } from '@expo/vector-icons';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { COLORS, SIZES } from '@/utils/theme';\nimport { ProductModelProps } from '@/models/ProductModelProps';\nimport { ProductCardV2 } from '@/components/card/product/ProductCardV2';\nimport { useClientProduct } from '@/contexts/ClientProductContext';\n\nconst { width } = Dimensions.get('window');\n\nconst CollectionProductSearchScreen = () => {\n  const { authState } = useAuth();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState<ProductModelProps[]>([]);\n  const [selectedProductId, setSelectedProductId] = useState<string | null>(null); // Track selected product ID\n\n  const storeID = authState?.user ? authState.user.store_owner_id : '';\n  const email = authState?.user ? authState.user.email : '';\n\n  const { products } = useClientProduct();\n\n  const handleSearch = (text: string) => {\n    try {\n      setSearchTerm(text);\n      const results = products.filter((product: ProductModelProps) =>\n        product.name.toLowerCase().includes(text.toLowerCase())\n      );\n      setSearchResults(results);\n    } catch (error) {\n      console.log(\"Failed to get products\", error);\n    }\n  };\n\n  const handleProductSelect = (id: string) => {\n    setSelectedProductId(id); // Set the selected product ID\n  };\n\n  const isProductSelected = (id: string) => id === selectedProductId; // Check if a product is selected\n\n  return (\n    <SafeAreaView style={{ flex: 1 }}>\n      <View style={styles.searchContainer}>\n        <TouchableOpacity>\n          <Ionicons \n            name='camera-outline' \n            size={SIZES.xLarge} \n            style={styles.searchIcon}\n          />\n        </TouchableOpacity>\n\n        <View style={styles.searchWrapper}>\n          <TextInput \n            style={styles.searchInput} \n            value={searchTerm}\n            onChangeText={handleSearch}\n            placeholder='What are you looking for 1'\n          />\n        </View>\n\n        <View>\n          <TouchableOpacity style={styles.searchBtn} onPress={() => handleSearch(searchTerm)}>\n            <Feather name='search' size={24} color={COLORS.offwhite}/>\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      {/* Search result */}\n      <FlatList\n        keyExtractor={(item: ProductModelProps) => item.id}\n        data={searchTerm === '' ? products : (searchResults.length === 0 ? products : searchResults)}\n        renderItem={({ item }) => (\n          <View style={[\n            styles.gridLayout,\n            isProductSelected(item.id) ? styles.selected : {} // Apply selected style\n          ]}>\n            <TouchableOpacity onPress={() => handleProductSelect(item.id)}>\n              <ProductCardV2 {...item} />\n            </TouchableOpacity>\n          </View>\n        )}\n        numColumns={2}\n        columnWrapperStyle={styles.row}\n        contentContainerStyle={{ paddingHorizontal: 12 }}\n      />\n    </SafeAreaView>\n  );\n};\n\nexport default CollectionProductSearchScreen;\n\nexport const styles = StyleSheet.create({\n  gridLayout: {\n    flex: 1,\n    margin: 8, // Adjust the margin to space items evenly\n    borderRadius: 10,\n    borderColor: COLORS.gray,\n    borderWidth: 2, // Default border\n  },\n  selected: {\n    borderColor: COLORS.primary, // Highlight the selected product\n    borderWidth: 3, // Increase border width for selected product\n  },\n  row: {\n    justifyContent: 'space-between', // Ensure even spacing between items\n  },\n  searchContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignContent: \"center\",\n    marginHorizontal: SIZES.small,\n    backgroundColor: COLORS.secondary,\n    borderRadius: SIZES.medium,\n    marginVertical: SIZES.medium,\n    height: 50\n  },\n  searchIcon: {\n    marginHorizontal: 10,\n    color: COLORS.gray,\n    marginTop: SIZES.small\n  },\n  searchWrapper:{ \n    flex: 1,\n    backgroundColor: COLORS.secondary,\n    marginRight: SIZES.small,\n    borderRadius: SIZES.small\n  },\n  searchInput: {\n    fontFamily: \"regular\",\n    width: \"100%\",\n    height: \"100%\",\n    paddingHorizontal: SIZES.small\n  },\n  searchBtn: {\n    width: 50,\n    height: \"100%\",\n    borderRadius: SIZES.medium,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: COLORS.primary\n  }\n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// colr indcator for currentlt selected ??\n// import React, { useState } from 'react';\n// import { SafeAreaView, View, TextInput, TouchableOpacity, Text, FlatList, StyleSheet, Dimensions } from 'react-native';\n// import { Feather, Ionicons } from '@expo/vector-icons';\n// // import { getProducts } from '../../../api/productsApi';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { COLORS, SIZES } from '@/utils/theme';\n// import { CONSTANTS } from '@/utils/constants';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import {ProductCardV2} from '@/components/card/product/ProductCardV2';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n\n// const { width } = Dimensions.get('window');\n\n// const CollectionProductSearchScreen = () => {\n//   const { authState } = useAuth();\n//   const [searchTerm, setSearchTerm] = useState('');\n//   const [searchResults, setSearchResults] = useState<ProductModelProps[]>([]);\n\n//   const storeID = authState?.user ? authState.user.store_owner_id : '';\n//   const email = authState?.user ? authState.user.email : '';\n\n//   const { products } = useClientProduct();\n\n//   const handleSearch = (text: string) => {\n//     try {\n//       setSearchTerm(text);\n//       const results = products.filter((product: ProductModelProps) =>\n//         product.name.toLowerCase().includes(text.toLowerCase())\n//       );\n//       setSearchResults(results);\n//     } catch (error) {\n//       console.log(\"Failed to get products\", error);\n//     }\n//   };\n\n//   return (\n//     <SafeAreaView style={{ flex: 1 }}>\n//       <View style={styles.searchContainer}>\n//         <TouchableOpacity>\n//           <Ionicons \n//             name='camera-outline' \n//             size={SIZES.xLarge} \n//             style={styles.searchIcon}\n//           />\n//         </TouchableOpacity>\n\n//         <View style={styles.searchWrapper}>\n//           <TextInput \n//             style={styles.searchInput} \n//             value={searchTerm}\n//             onChangeText={handleSearch}\n//             placeholder='What are you looking for 1'\n//           />\n//         </View>\n\n//         <View>\n//           <TouchableOpacity style={styles.searchBtn} onPress={() => handleSearch(searchTerm)}>\n//             <Feather name='search' size={24} color={COLORS.offwhite}/>\n//           </TouchableOpacity>\n//         </View>\n//       </View>\n\n//       {/* Search result */}\n//       <FlatList\n//         keyExtractor={(item: ProductModelProps) => item.id}\n//         data={searchTerm === '' ? products : (searchResults.length === 0 ? products : searchResults)}\n//         renderItem={({ item }) => (\n//           <View style={styles.gridLayout}>\n//             <ProductCardV2 {...item} />\n//           </View>\n//         )}\n//         numColumns={2}\n//         columnWrapperStyle={styles.row}\n//         contentContainerStyle={{ paddingHorizontal: 12 }}\n//       />\n//     </SafeAreaView>\n//   );\n// };\n\n// export default CollectionProductSearchScreen;\n\n// export const styles = StyleSheet.create({\n//   gridLayout: {\n//     flex: 1,\n//     margin: 8, // Adjust the margin to space items evenly\n//   },\n//   row: {\n//     justifyContent: 'space-between', // Ensure even spacing between items\n//   },\n//   searchContainer: {\n//     flexDirection: \"row\",\n//     justifyContent: \"center\",\n//     alignContent: \"center\",\n//     marginHorizontal: SIZES.small,\n//     backgroundColor: COLORS.secondary,\n//     borderRadius: SIZES.medium,\n//     marginVertical: SIZES.medium,\n//     height: 50\n//   },\n//   searchIcon: {\n//     marginHorizontal: 10,\n//     color: COLORS.gray,\n//     marginTop: SIZES.small\n//   },\n//   searchWrapper:{ \n//     flex: 1,\n//     backgroundColor: COLORS.secondary,\n//     marginRight: SIZES.small,\n//     borderRadius: SIZES.small\n//   },\n//   searchInput: {\n//     fontFamily: \"regular\",\n//     width: \"100%\",\n//     height: \"100%\",\n//     paddingHorizontal: SIZES.small\n//   },\n//   searchBtn: {\n//     width: 50,\n//     height: \"100%\",\n//     borderRadius: SIZES.medium,\n//     justifyContent: \"center\",\n//     alignItems: \"center\",\n//     backgroundColor: COLORS.primary\n//   }\n// })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// // import React, { useState } from 'react';\n// // import { SafeAreaView, View, TextInput, TouchableOpacity, Text, FlatList, StyleSheet, Dimensions } from 'react-native';\n// // import { Feather, Ionicons } from '@expo/vector-icons';\n// // import { getProducts } from '../../../api/productsApi';\n// // import { useAuth } from '@/contexts/AuthContext';\n// // import { COLORS, SIZES } from '@/utils/theme';\n// // // import ProductListItem from './ProductListItem';\n// // import { CONSTANTS } from '@/utils/constants';\n// // import { ProductModelProps } from '@/models/ProductModelProps';\n// // // import { useClientProduct } from '@/contexts/ClientProductContext';\n// // import ProductListItem from './ProductSearchTile';\n// // import ProductCardV2 from '../../library/card/ProductCardV2';\n// // import { useClientProduct } from '@/contexts/ClientProductContext';\n\n// // const { width } = Dimensions.get('window');\n\n\n// // const ProductSearchScreen = () => {\n// //   const { authState } = useAuth();\n// //   const [searchTerm, setSearchTerm] = useState('');\n// //   const [searchResults, setSearchResults] = useState<ProductModelProps[]>([]);\n\n// //   const storeID = authState?.user ? authState.user.store_owner_id : '';\n// //   const email = authState?.user ? authState.user.email : '';\n\n// //   const { products } = useClientProduct();\n\n// //   const handleSearch = (text: string) => {\n// //     try {\n// //       setSearchTerm(text);\n// //       const results = products.filter((product: ProductModelProps) =>\n// //         product.name.toLowerCase().includes(text.toLowerCase())\n// //       );\n// //       setSearchResults(results);\n// //     } catch (error) {\n// //       console.log(\"Failed to get products\", error);\n// //     }\n// //   };\n\n// //   return (\n// //     <SafeAreaView style={{ flex: 1 }}>\n// //       <View style={styles.searchContainer}>\n// //         <TouchableOpacity>\n// //           <Ionicons \n// //             name='camera-outline' \n// //             size={SIZES.xLarge} \n// //             style={styles.searchIcon}\n// //           />\n// //         </TouchableOpacity>\n\n// //         <View style={styles.searchWrapper}>\n// //           <TextInput \n// //             style={styles.searchInput} \n// //             value={searchTerm}\n// //             onChangeText={handleSearch}\n// //             placeholder='What are you looking for'\n// //           />\n// //         </View>\n\n// //         <View>\n// //           <TouchableOpacity style={styles.searchBtn} onPress={() => handleSearch(searchTerm)}>\n// //             <Feather name='search' size={24} color={COLORS.offwhite}/>\n// //           </TouchableOpacity>\n// //         </View>\n// //       </View>\n\n// //       {/* Search result */}\n// //       {searchTerm === '' ? (\n// //         <FlatList\n// //           keyExtractor={(item: ProductModelProps) => item.id}\n// //           data={products}\n// //           // renderItem={({ item }) => <ProductListItem {...item} />}\n// //           renderItem={({ item }) => (\n          \n// //             <View style={styles.gridLayout}>\n// //           <ProductCardV2 {...item} />\n// //           </View>\n\n// //           )}\n// //           contentContainerStyle={{ marginHorizontal: 12 }}\n// //         />\n// //       ) : (\n// //         <FlatList\n// //           keyExtractor={(item: ProductModelProps) => item.id}\n// //           data={searchResults.length === 0 ? products : searchResults}\n// //           // renderItem={({ item }) => <ProductListItem {...item} />}\n// //           renderItem={({ item }) => (\n          \n// //             <View style={styles.gridLayout}>\n// //           <ProductCardV2 {...item} />\n// //           </View>\n\n// //           )}\n// //           contentContainerStyle={{ marginHorizontal: 12 }}\n// //         />\n// //       )}\n// //     </SafeAreaView>\n// //   );\n// // };\n\n// // export default ProductSearchScreen;\n\n// // export const styles = StyleSheet.create({\n// //   gridLayout: {\n// //     width: (width / 2) - 18, // Adjust the width to leave space for margins\n// //     marginBottom: 12,\n// //   },\n// //     searchContainer: {\n// //         flexDirection: \"row\",\n// //         justifyContent: \"center\",\n// //         alignContent: \"center\",\n// //         marginHorizontal: SIZES.small,\n// //         backgroundColor: COLORS.secondary,\n// //         borderRadius: SIZES.medium,\n// //         marginVertical: SIZES.medium,\n// //         height: 50\n\n// //     },\n// //     searchIcon: {\n// //         marginHorizontal: 10,\n// //         color: COLORS.gray,\n// //         marginTop: SIZES.small\n// //     },\n// //     searchWrapper:{ \n// //         flex: 1,\n// //         backgroundColor: COLORS.secondary,\n// //         marginRight: SIZES.small,\n// //         borderRadius: SIZES.small\n// //     },\n// //     searchInput: {\n// //         fontFamily: \"regular\",\n// //         width: \"100%\",\n// //         height: \"100%\",\n// //         paddingHorizontal: SIZES.small\n// //     },\n// //     searchBtn: {\n// //         width: 50,\n// //         height: \"100%\",\n// //         borderRadius: SIZES.medium,\n// //         justifyContent: \"center\",\n// //         alignItems: \"center\",\n// //         backgroundColor: COLORS.primary\n// //     }\n// // })\n","import { StyleSheet, TextInput, TouchableOpacity, View } from 'react-native';\nimport React from 'react';\nimport { COLORS, SIZES } from '@/utils/theme';\nimport { useTheme } from '@/contexts/ThemeContext';\nimport { Ionicons, Feather } from '@expo/vector-icons';\n\ninterface SearchProp {\n  searchTerm: string;\n  handleSearch: (text: string) => void; // Correct type for the search handler function\n}\n\nconst SearchBarVTwo: React.FC<SearchProp> = ({ searchTerm, handleSearch }) => {\n  const { colors } = useTheme();\n\n  const styles = StyleSheet.create({\n    searchContainer: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      padding: SIZES.medium,\n      backgroundColor: colors.background,\n    },\n    searchIcon: {\n      marginRight: SIZES.small,\n      color: colors.title,\n    },\n    searchWrapper: {\n      flex: 1,\n      backgroundColor: colors.cardBackground,\n      borderRadius: SIZES.medium,\n      marginRight: SIZES.small,\n      height: 40,\n      justifyContent: 'center',\n    },\n    searchInput: {\n      paddingLeft: SIZES.small,\n      color: colors.title,\n    },\n    searchBtn: {\n      backgroundColor: COLORS.primary,\n      padding: SIZES.small,\n      borderRadius: SIZES.medium,\n    },\n  });\n\n  return (\n    <View style={styles.searchContainer}>\n      <TouchableOpacity>\n        <Ionicons name=\"search\" size={SIZES.xLarge} style={styles.searchIcon} />\n      </TouchableOpacity>\n\n      <View style={styles.searchWrapper}>\n        <TextInput\n          style={styles.searchInput}\n          value={searchTerm}\n          onChangeText={handleSearch} // Call handleSearch on input change\n          placeholder=\"What are you looking for\"\n          placeholderTextColor={colors.subtitle}\n        />\n      </View>\n\n      <View>\n        <TouchableOpacity style={styles.searchBtn} onPress={() => handleSearch(searchTerm)}>\n          <Feather name=\"search\" size={24} color={COLORS.offwhite} />\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n};\n\nexport default SearchBarVTwo;\n","import React, { useState } from 'react';\nimport { SafeAreaView, View, TextInput, TouchableOpacity, FlatList, StyleSheet, Dimensions } from 'react-native';\nimport { Feather, Ionicons } from '@expo/vector-icons';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { COLORS, SIZES } from '@/utils/theme';\nimport { ProductModelProps } from '@/models/ProductModelProps';\nimport { useClientProduct } from '@/contexts/ClientProductContext';\nimport ProductGridCardVOne from '@/components/card/product/ProductGridCardVOne';\nimport { useTheme } from '@/contexts/ThemeContext';\nimport SearchBarVTwo from '../search/SearchBarVTwo';\n\nconst { width } = Dimensions.get('window');\n\nconst ProductSearchScreen = () => {\n  const { authState } = useAuth();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState<ProductModelProps[]>([]);\n\n  const { products } = useClientProduct();\n  const { colors } = useTheme();\n\n  const handleSearch = (text: string) => {\n    try {\n      setSearchTerm(text);\n      const results = products.filter((product: ProductModelProps) =>\n        product.name.toLowerCase().includes(text.toLowerCase())\n      );\n      setSearchResults(results);\n    } catch (error) {\n      console.log('Failed to get products', error);\n    }\n  };\n\n  const styles = StyleSheet.create({\n\n    flatListContent: {\n      paddingHorizontal: 16, // Adjust padding to make it even on both sides\n    },\n    row: {\n      justifyContent: 'space-between', // Ensure items are evenly spaced between columns\n    },\n    container: {\n      width: (width / 2) - 24, // Half of the screen width minus some padding to fit two items per row\n      height: 250,\n      marginBottom: 16, // Space between rows\n      backgroundColor: colors.cardBackground,\n      borderRadius: 10,\n      borderWidth: 1,\n      borderColor: colors.border,\n      overflow: 'hidden',\n    },\n    gridLayout: {\n      marginBottom: 16,\n    },\n    imageContainer: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      borderRadius: 10,\n      overflow: 'hidden',\n      marginTop: 10,\n    },\n    image: {\n      width: 140,\n      height: 140,\n      borderRadius: 10,\n      resizeMode: 'cover',\n    },\n    details: {\n      padding: 10,\n    },\n    title: {\n      fontFamily: 'bold',\n      fontSize: 14,\n      marginBottom: 2,\n      height: 35,\n      color: colors.title,\n    },\n    supplier: {\n      fontFamily: 'regular',\n      fontSize: 12,\n      color: colors.title,\n    },\n    price: {\n      fontFamily: 'bold',\n      fontSize: 16,\n      color: colors.title,\n    },\n    addBtn: {\n      position: 'absolute',\n      bottom: 10,\n      right: 10,\n    },\n  });\n\n  return (\n    <View>\n     <SearchBarVTwo searchTerm={searchTerm} handleSearch={handleSearch} />\n\n      {/* Search result */}\n      <FlatList\n        keyExtractor={(item: ProductModelProps) => item.id}\n        data={searchTerm === '' ? products : (searchResults.length === 0 ? products : searchResults)}\n        renderItem={({ item }) => (\n          <ProductGridCardVOne product={item} viewTypeGrid={true} />\n        )}\n        numColumns={2}\n        columnWrapperStyle={styles.row} // Ensure even spacing between columns\n        contentContainerStyle={styles.flatListContent} // Padding for both sides of the list\n      />\n    </View>\n  );\n};\n\nexport default ProductSearchScreen;\n\n\n\n\n\n\n\n\n\n\n// import React, { useState } from 'react';\n// import { SafeAreaView, View, TextInput, TouchableOpacity, FlatList, StyleSheet, Dimensions } from 'react-native';\n// import { Feather, Ionicons } from '@expo/vector-icons';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { COLORS, SIZES } from '@/utils/theme';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import ProductGridCardVOne from '@/components/card/product/ProductGridCardVOne';\n// import { useTheme } from '@/contexts/ThemeContext';\n\n// const { width } = Dimensions.get('window');\n\n// const ProductSearchScreen = () => {\n//   const { authState } = useAuth();\n//   const [searchTerm, setSearchTerm] = useState('');\n//   const [searchResults, setSearchResults] = useState<ProductModelProps[]>([]);\n\n//   const storeID = authState?.user ? authState.user.store_owner_id : '';\n//   const email = authState?.user ? authState.user.email : '';\n\n//   const { products } = useClientProduct();\n//   const { colors } = useTheme();\n\n//   const handleSearch = (text: string) => {\n//     try {\n//       setSearchTerm(text);\n//       const results = products.filter((product: ProductModelProps) =>\n//         product.name.toLowerCase().includes(text.toLowerCase())\n//       );\n//       setSearchResults(results);\n//     } catch (error) {\n//       console.log('Failed to get products', error);\n//     }\n//   };\n\n//   const styles = StyleSheet.create({\n//     searchContainer: {\n//       flexDirection: 'row',\n//       alignItems: 'center',\n//       padding: SIZES.medium,\n//       backgroundColor: colors.background,\n//     },\n//     searchIcon: {\n//       marginRight: SIZES.small,\n//       color: colors.title,\n//     },\n//     searchWrapper: {\n//       flex: 1,\n//       backgroundColor: colors.cardBackground,\n//       borderRadius: SIZES.medium,\n//       marginRight: SIZES.small,\n//       height: 40,\n//       justifyContent: 'center',\n//     },\n//     searchInput: {\n//       paddingLeft: SIZES.small,\n//       color: colors.title,\n//     },\n//     searchBtn: {\n//       backgroundColor: COLORS.primary,\n//       padding: SIZES.small,\n//       borderRadius: SIZES.medium,\n//     },\n//     flatListContent: {\n//       paddingHorizontal: 16, // Adjust padding to make it even on both sides\n//     },\n//     row: {\n//       justifyContent: 'space-between', // Ensure items are evenly spaced between columns\n//     },\n//     container: {\n//       width: (width / 2) - 24, // Adjust container width to make items fit the grid properly\n//       height: 250,\n//       marginBottom: 16, // Space between rows\n//       backgroundColor: colors.cardBackground,\n//       borderRadius: 10,\n//       borderWidth: 1,\n//       borderColor: colors.border,\n//       overflow: 'hidden',\n//     },\n//     gridLayout: {\n//       marginBottom: 16,\n//     },\n//     imageContainer: {\n//       flex: 1,\n//       justifyContent: 'center',\n//       alignItems: 'center',\n//       borderRadius: 10,\n//       overflow: 'hidden',\n//       marginTop: 10,\n//     },\n//     image: {\n//       width: 140,\n//       height: 140,\n//       borderRadius: 10,\n//       resizeMode: 'cover',\n//     },\n//     details: {\n//       padding: 10,\n//     },\n//     title: {\n//       fontFamily: 'bold',\n//       fontSize: 14,\n//       marginBottom: 2,\n//       height: 35,\n//       color: colors.title,\n//     },\n//     supplier: {\n//       fontFamily: 'regular',\n//       fontSize: 12,\n//       color: colors.title,\n//     },\n//     price: {\n//       fontFamily: 'bold',\n//       fontSize: 16,\n//       color: colors.title,\n//     },\n//     addBtn: {\n//       position: 'absolute',\n//       bottom: 10,\n//       right: 10,\n//     },\n//   });\n\n//   return (\n//     <View>\n//       <View style={styles.searchContainer}>\n//         <TouchableOpacity>\n//           <Ionicons name=\"search\" size={SIZES.xLarge} style={styles.searchIcon} />\n//         </TouchableOpacity>\n\n//         <View style={styles.searchWrapper}>\n//           <TextInput\n//             style={styles.searchInput}\n//             value={searchTerm}\n//             onChangeText={handleSearch}\n//             placeholder=\"What are you looking for 2\"\n//             placeholderTextColor={colors.subtitle}\n//           />\n//         </View>\n\n//         <View>\n//           <TouchableOpacity style={styles.searchBtn} onPress={() => handleSearch(searchTerm)}>\n//             <Feather name=\"search\" size={24} color={COLORS.offwhite} />\n//           </TouchableOpacity>\n//         </View>\n//       </View>\n\n//       {/* Search result */}\n//       <FlatList\n//         keyExtractor={(item: ProductModelProps) => item.id}\n//         data={searchTerm === '' ? products : (searchResults.length === 0 ? products : searchResults)}\n//         renderItem={({ item }) => (\n//           // <View style={styles.gridLayout}>\n//             <ProductGridCardVOne product={item} viewTypeGrid={true} />\n//           // </View>\n//         )}\n//         numColumns={2}\n//         columnWrapperStyle={styles.row} // Ensure even spacing between columns\n//         contentContainerStyle={styles.flatListContent} // Padding for both sides of the list\n//       />\n//     </View>\n//   );\n// };\n\n// export default ProductSearchScreen;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { useState } from 'react';\n// import { SafeAreaView, View, TextInput, TouchableOpacity, FlatList, StyleSheet, Dimensions } from 'react-native';\n// import { Feather, Ionicons } from '@expo/vector-icons';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { COLORS, SIZES } from '@/utils/theme';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n// import ProductGridCardVOne from '@/components/card/product/ProductGridCardVOne';\n// import { useTheme } from '@/contexts/ThemeContext';\n\n// const { width } = Dimensions.get('window');\n\n// const ProductSearchScreen = () => {\n//   const { authState } = useAuth();\n//   const [searchTerm, setSearchTerm] = useState('');\n//   const [searchResults, setSearchResults] = useState<ProductModelProps[]>([]);\n\n//   const storeID = authState?.user ? authState.user.store_owner_id : '';\n//   const email = authState?.user ? authState.user.email : '';\n\n//   const { products } = useClientProduct();\n//   const { colors } = useTheme();\n\n//   const handleSearch = (text: string) => {\n//     try {\n//       setSearchTerm(text);\n//       const results = products.filter((product: ProductModelProps) =>\n//         product.name.toLowerCase().includes(text.toLowerCase())\n//       );\n//       setSearchResults(results);\n//     } catch (error) {\n//       console.log('Failed to get products', error);\n//     }\n//   };\n\n//   const styles = StyleSheet.create({\n//     searchContainer: {\n//       flexDirection: 'row',\n//       alignItems: 'center',\n//       padding: SIZES.medium,\n//       backgroundColor: colors.background,\n//     },\n//     searchIcon: {\n//       marginRight: SIZES.small,\n//       color: colors.text,\n//     },\n//     searchWrapper: {\n//       flex: 1,\n//       backgroundColor: colors.cardBackground,\n//       borderRadius: SIZES.medium,\n//       marginRight: SIZES.small,\n//       height: 40,\n//       justifyContent: 'center',\n//     },\n//     searchInput: {\n//       paddingLeft: SIZES.small,\n//       color: colors.text,\n//     },\n//     searchBtn: {\n//       backgroundColor: COLORS.primary,\n//       padding: SIZES.small,\n//       borderRadius: SIZES.medium,\n//     },\n//     flatListContent: {\n//       paddingHorizontal: 16, // Adjust padding to make it even on both sides\n//     },\n//     row: {\n//       justifyContent: 'space-between', // Ensure items are evenly spaced between columns\n//     },\n//     container: {\n//       width: (width / 2) - 24, // Adjust container width to make items fit the grid properly\n//       height: 250,\n//       marginBottom: 16, // Space between rows\n//       backgroundColor: colors.cardBackground,\n//       borderRadius: 10,\n//       borderWidth: 1,\n//       borderColor: colors.border,\n//       overflow: 'hidden',\n//     },\n//     gridLayout: {\n//       marginBottom: 16,\n//     },\n//     imageContainer: {\n//       flex: 1,\n//       justifyContent: 'center',\n//       alignItems: 'center',\n//       borderRadius: 10,\n//       overflow: 'hidden',\n//       marginTop: 10,\n//     },\n//     image: {\n//       width: 140,\n//       height: 140,\n//       borderRadius: 10,\n//       resizeMode: 'cover',\n//     },\n//     details: {\n//       padding: 10,\n//     },\n//     title: {\n//       fontFamily: 'bold',\n//       fontSize: 14,\n//       marginBottom: 2,\n//       height: 35,\n//       color: colors.title,\n//     },\n//     supplier: {\n//       fontFamily: 'regular',\n//       fontSize: 12,\n//       color: colors.title,\n//     },\n//     price: {\n//       fontFamily: 'bold',\n//       fontSize: 16,\n//       color: colors.title,\n//     },\n//     addBtn: {\n//       position: 'absolute',\n//       bottom: 10,\n//       right: 10,\n//     },\n//   });\n\n//   return (\n//     <SafeAreaView style={{ flex: 1 }}>\n//       <View style={styles.searchContainer}>\n//         <TouchableOpacity>\n//           <Ionicons name=\"camera-outline\" size={SIZES.xLarge} style={styles.searchIcon} />\n//         </TouchableOpacity>\n\n//         <View style={styles.searchWrapper}>\n//           <TextInput\n//             style={styles.searchInput}\n//             value={searchTerm}\n//             onChangeText={handleSearch}\n//             placeholder=\"What are you looking for\"\n//             placeholderTextColor={colors.placeholder}\n//           />\n//         </View>\n\n//         <View>\n//           <TouchableOpacity style={styles.searchBtn} onPress={() => handleSearch(searchTerm)}>\n//             <Feather name=\"search\" size={24} color={COLORS.offwhite} />\n//           </TouchableOpacity>\n//         </View>\n//       </View>\n\n//       {/* Search result */}\n//       <FlatList\n//         keyExtractor={(item: ProductModelProps) => item.id}\n//         data={searchTerm === '' ? products : (searchResults.length === 0 ? products : searchResults)}\n//         renderItem={({ item }) => (\n//           <View style={styles.gridLayout}>\n//             <ProductGridCardVOne product={item} viewTypeGrid={true} />\n//           </View>\n//         )}\n//         numColumns={2}\n//         columnWrapperStyle={styles.row} // Ensure even spacing between columns\n//         contentContainerStyle={styles.flatListContent} // Padding for both sides of the list\n//       />\n//     </SafeAreaView>\n//   );\n// };\n\n// export default ProductSearchScreen;\n\n\n\n// export const styles = StyleSheet.create({\n//   gridLayout: {\n//     flex: 1,\n//     margin: 8, // Adjust the margin to space items evenly\n//   },\n//   row: {\n//     justifyContent: 'space-between', // Ensure even spacing between items\n//   },\n//   searchContainer: {\n//     flexDirection: \"row\",\n//     justifyContent: \"center\",\n//     alignContent: \"center\",\n//     marginHorizontal: SIZES.small,\n//     backgroundColor: COLORS.secondary,\n//     borderRadius: SIZES.medium,\n//     marginVertical: SIZES.medium,\n//     height: 50\n//   },\n//   searchIcon: {\n//     marginHorizontal: 10,\n//     color: COLORS.gray,\n//     marginTop: SIZES.small\n//   },\n//   searchWrapper:{ \n//     flex: 1,\n//     backgroundColor: COLORS.secondary,\n//     marginRight: SIZES.small,\n//     borderRadius: SIZES.small\n//   },\n//   searchInput: {\n//     fontFamily: \"regular\",\n//     width: \"100%\",\n//     height: \"100%\",\n//     paddingHorizontal: SIZES.small\n//   },\n//   searchBtn: {\n//     width: 50,\n//     height: \"100%\",\n//     borderRadius: SIZES.medium,\n//     justifyContent: \"center\",\n//     alignItems: \"center\",\n//     backgroundColor: COLORS.primary\n//   }\n// })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import React, { useState } from 'react';\n// import { SafeAreaView, View, TextInput, TouchableOpacity, Text, FlatList, StyleSheet, Dimensions } from 'react-native';\n// import { Feather, Ionicons } from '@expo/vector-icons';\n// import { getProducts } from '../../../api/productsApi';\n// import { useAuth } from '@/contexts/AuthContext';\n// import { COLORS, SIZES } from '@/utils/theme';\n// // import ProductListItem from './ProductListItem';\n// import { CONSTANTS } from '@/utils/constants';\n// import { ProductModelProps } from '@/models/ProductModelProps';\n// // import { useClientProduct } from '@/contexts/ClientProductContext';\n// import ProductListItem from './ProductSearchTile';\n// import ProductCardV2 from '../../library/card/ProductCardV2';\n// import { useClientProduct } from '@/contexts/ClientProductContext';\n\n// const { width } = Dimensions.get('window');\n\n\n// const ProductSearchScreen = () => {\n//   const { authState } = useAuth();\n//   const [searchTerm, setSearchTerm] = useState('');\n//   const [searchResults, setSearchResults] = useState<ProductModelProps[]>([]);\n\n//   const storeID = authState?.user ? authState.user.store_owner_id : '';\n//   const email = authState?.user ? authState.user.email : '';\n\n//   const { products } = useClientProduct();\n\n//   const handleSearch = (text: string) => {\n//     try {\n//       setSearchTerm(text);\n//       const results = products.filter((product: ProductModelProps) =>\n//         product.name.toLowerCase().includes(text.toLowerCase())\n//       );\n//       setSearchResults(results);\n//     } catch (error) {\n//       console.log(\"Failed to get products\", error);\n//     }\n//   };\n\n//   return (\n//     <SafeAreaView style={{ flex: 1 }}>\n//       <View style={styles.searchContainer}>\n//         <TouchableOpacity>\n//           <Ionicons \n//             name='camera-outline' \n//             size={SIZES.xLarge} \n//             style={styles.searchIcon}\n//           />\n//         </TouchableOpacity>\n\n//         <View style={styles.searchWrapper}>\n//           <TextInput \n//             style={styles.searchInput} \n//             value={searchTerm}\n//             onChangeText={handleSearch}\n//             placeholder='What are you looking for'\n//           />\n//         </View>\n\n//         <View>\n//           <TouchableOpacity style={styles.searchBtn} onPress={() => handleSearch(searchTerm)}>\n//             <Feather name='search' size={24} color={COLORS.offwhite}/>\n//           </TouchableOpacity>\n//         </View>\n//       </View>\n\n//       {/* Search result */}\n//       {searchTerm === '' ? (\n//         <FlatList\n//           keyExtractor={(item: ProductModelProps) => item.id}\n//           data={products}\n//           // renderItem={({ item }) => <ProductListItem {...item} />}\n//           renderItem={({ item }) => (\n          \n//             <View style={styles.gridLayout}>\n//           <ProductCardV2 {...item} />\n//           </View>\n\n//           )}\n//           contentContainerStyle={{ marginHorizontal: 12 }}\n//         />\n//       ) : (\n//         <FlatList\n//           keyExtractor={(item: ProductModelProps) => item.id}\n//           data={searchResults.length === 0 ? products : searchResults}\n//           // renderItem={({ item }) => <ProductListItem {...item} />}\n//           renderItem={({ item }) => (\n          \n//             <View style={styles.gridLayout}>\n//           <ProductCardV2 {...item} />\n//           </View>\n\n//           )}\n//           contentContainerStyle={{ marginHorizontal: 12 }}\n//         />\n//       )}\n//     </SafeAreaView>\n//   );\n// };\n\n// export default ProductSearchScreen;\n\n// export const styles = StyleSheet.create({\n//   gridLayout: {\n//     width: (width / 2) - 18, // Adjust the width to leave space for margins\n//     marginBottom: 12,\n//   },\n//     searchContainer: {\n//         flexDirection: \"row\",\n//         justifyContent: \"center\",\n//         alignContent: \"center\",\n//         marginHorizontal: SIZES.small,\n//         backgroundColor: COLORS.secondary,\n//         borderRadius: SIZES.medium,\n//         marginVertical: SIZES.medium,\n//         height: 50\n\n//     },\n//     searchIcon: {\n//         marginHorizontal: 10,\n//         color: COLORS.gray,\n//         marginTop: SIZES.small\n//     },\n//     searchWrapper:{ \n//         flex: 1,\n//         backgroundColor: COLORS.secondary,\n//         marginRight: SIZES.small,\n//         borderRadius: SIZES.small\n//     },\n//     searchInput: {\n//         fontFamily: \"regular\",\n//         width: \"100%\",\n//         height: \"100%\",\n//         paddingHorizontal: SIZES.small\n//     },\n//     searchBtn: {\n//         width: 50,\n//         height: \"100%\",\n//         borderRadius: SIZES.medium,\n//         justifyContent: \"center\",\n//         alignItems: \"center\",\n//         backgroundColor: COLORS.primary\n//     }\n// })\n","import { useClientStore } from '@/contexts/ClientStoreContext'\nimport { COLORS, SIZES } from '@/utils/theme'\nimport { StyleSheet, Text, View } from 'react-native'\n\nconst TopSectionHeaderV1 = () => {\n  const { store } = useClientStore()\n  // const { data: store } = useFetchObject<StoreModelProps>(() => getStore(CONSTANTS.store_id));\n  // const { data: store } = useFetchObject<StoreProps>(() => getStore(authState?.user?.id));\n\n  return (\n    <View style={styles.container}>\n        <Text style={styles.line1}>{store?.store_name}</Text>\n        <Text style={[styles.line2, { marginTop: 0, color: COLORS.black }]}>We Build Apps</Text>\n    </View>\n  )\n}\n\n\nconst TopSectionHeaderV2 = () => {\n    return (\n      <View style={styles.container}>\n          <Text style={[styles.welcomeTxtStyle, { marginTop: 0, color: COLORS.black }]}>Apps For</Text>\n          <Text style={[styles.welcomeTxtStyle, { marginTop: 0, color: COLORS.primary }]}>Mankind</Text>\n      </View>\n    )\n  }\n\n  \n  const TopSectionHeaderV3 = () => {\n    return (\n      <View style={styles.container}>\n          <Text style={[styles.welcomeTxtStyle, { marginTop: 0, color: COLORS.black }]}>Apps For</Text>\n          <Text style={[styles.welcomeTxtStyle, { marginTop: 0, color: COLORS.primary }]}>Mankind</Text>\n      </View>\n    )\n  }\n\n  \n\n  export { TopSectionHeaderV1, TopSectionHeaderV2, TopSectionHeaderV3 };\n\nconst styles = StyleSheet.create({\n    container: {\n        width: \"100%\",\n        marginLeft: 15\n      },\n      line1: {\n        marginTop: 0, \n        color: COLORS.gray , \n        fontSize: 14\n      }, \n      line2: {\n        marginTop: 0, \n        color: COLORS.black , \n        fontSize: 33,\n        fontWeight: 700\n      },\n      line3: {\n        marginTop: 0, \n        color: COLORS.black , \n        fontSize: 14\n      },\n      welcomeTxtStyle: {\n        fontFamily: \"bold\",\n        fontSize: SIZES.xxLarge -7, // Example value, replace with your own\n        marginTop: 0, // Example value, replace with your own\n        color:  '#000', // Use provided color or fallback to black if not provided\n          marginHorizontal: 12\n      },\n})","import React, { FC, FunctionComponent, useRef } from 'react';\nimport { Animated, Dimensions, FlatList, Image, StyleSheet, View } from 'react-native';\nimport { CONSTANTS } from '@/utils/constants';\n\nimport { useClientStore } from '@/contexts/ClientStoreContext';\n\n// const images: string[] = [\n//   'https://appsformankind-assets.s3.amazonaws.com/Collections/Furniture/Furniture_1.jpg',\n//   'https://appsformankind-assets.s3.amazonaws.com/Collections/Furniture/Furniture_3.jpg',\n//   'https://appsformankind-assets.s3.amazonaws.com/Collections/Furniture/Furniture_4.jpg',\n// ];\n\nconst { width } = Dimensions.get('screen');\n\nconst Carousel: FunctionComponent = () => {\n  const animatedValue = useRef(new Animated.Value(0)).current;\n  // const { data: mankindStore } = useFetchObject<StoreModelProps>(() => getStore(CONSTANTS.store_id));\n  // const { data: store } = useFetchObject<StoreProps>(() => getStore(authState?.user?.id));\n\n  const { store : mankindStore } = useClientStore()\n  const storeImages: string[] = [\n    mankindStore?.images.about_object_image ?? CONSTANTS.holderCarouselImageOne,\n    mankindStore?.images.doubleImageHero_left_image ?? CONSTANTS.holderCarouselImageTwo,\n    mankindStore?.images.profile_image ?? CONSTANTS.holderCarouselImageThree\n  ]\n\n  return (\n    <View style={style.container}>\n      <View style={style.topContainer}>  \n        <Animated.FlatList\n          data={storeImages}\n          horizontal\n          showsHorizontalScrollIndicator={false}\n          onScroll={Animated.event(\n            [{ nativeEvent: { contentOffset: { x: animatedValue } } }],\n            { useNativeDriver: false },\n          )}\n          pagingEnabled={true}\n          keyExtractor={(_, index : any) => index}\n          renderItem={({ item }) => {\n            return (\n              <View style={style.imageContainer}>\n                <Image style={style.image} source={{ uri: item ? item : CONSTANTS.holderImage }} />\n              </View>\n            );\n          }}\n        />\n      </View>\n      <View style={style.bottomContainer}>\n        <FlatList\n          horizontal\n          data={storeImages}\n          keyExtractor={(_, index: any) => index}\n          renderItem={({ index }) => {\n            const inputRange = [\n              (index - 1) * width,\n              index * width,\n              (index + 1) * width,\n            ];\n            //  [ middle none selected color , selected color, none selected color  ]\n            const colorOutputRange = ['#000', '#fff', '#000'];\n            const scaleOutputRange = [1, 2, 1];\n            const dotScale = animatedValue.interpolate({\n              inputRange,\n              outputRange: scaleOutputRange,\n              extrapolate: 'clamp',\n            });\n            const color = animatedValue.interpolate({\n              inputRange,\n              outputRange: colorOutputRange,\n              extrapolate: 'clamp',\n            });\n            return (\n              <View  style={[style.dotContainer, { borderStartColor:  'clear'}]}>\n\n                <PagingDot color={color} scale={dotScale} />\n               \n\n              </View>\n            );\n          }}\n        />\n      </View>\n    </View>\n  );\n};\n\nconst PagingDot: FC<{ scale: any, color: any }> = ({ scale, color }) => {\n  return (\n    <Animated.View\n      style={[style.pagingDot, { backgroundColor: color, transform: [{ scale }] }]}\n    />\n  );\n};\n\nconst style = StyleSheet.create({\n  container: {\n    flex: 3,\n  },\n  topContainer: {\n    flex: 2,\n  },\n  bottomContainer: {\n    flex: 1,\n    width,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    position: 'absolute', \n   bottom: 10\n  },\n  imageContainer: {\n    justifyContent: 'flex-end',\n    // paddingBottom: 40,\n    alignItems: 'center',\n    width,\n  },\n  image: {\n    width: '92%',\n    height: 220,\n    borderRadius: 15,\n  },\n  pagingDot: {\n    width: 7,\n    height: 7,\n    borderRadius: 7,\n    borderWidth: 2,\n    // borderColor: \"#000\",\n  },\n  dotContainer: {\n   width: 30,\n   padding: 10,\n  \n  },\n});\n\nexport default Carousel;\n\n\n","// import register from \"@/app/(auth)/register\";\n\nexport const ROUTES = {\n    onboarding_Page: \"/onboarding\",\n    login: \"/login\",\n    register: \"/register\",\n    products: \"/products\"\n\n\n}","import { Pressable, StyleSheet, Text, TouchableOpacity, View } from 'react-native'\nimport { COLORS, SIZES } from '@/utils/theme'\nimport { Ionicons } from \"@expo/vector-icons\"\nimport { Link } from 'expo-router'\nimport { useClientStore } from '@/contexts/ClientStoreContext'\nimport { ROUTES } from '@/utils/Routes'\nimport { useTheme } from '@/contexts/ThemeContext'\n\nconst SectionHeader = () => {\n    const { store } = useClientStore()\n    const { colors } = useTheme()\n\n    const styles = StyleSheet.create({\n        container: {\n            marginTop: SIZES.medium,\n            // marginBottom: SIZES.xSmall,\n            marginHorizontal: 12,\n        },\n        header: {\n            flexDirection: \"row\",\n            justifyContent: \"space-between\"\n    \n        },\n        headerTitle: {\n           fontWeight: 'bold',\n            fontSize: SIZES.xLarge -2,\n            color: colors.cardText\n        }\n    })\n    \n    \n    \n  return (\n    <View style={styles.container}>\n        <View style={styles.header}>\n            <Text style={styles.headerTitle}>{store?.store_type ?? \"\"}</Text>\n            <Link href={ROUTES.products as never} asChild>\n            <TouchableOpacity>\n            {/* <TouchableOpacity onPress={() => navigation.navigate(\"ProductDetails\", { item })}> */}\n                    <Ionicons name='grid' size={SIZES.xLarge} color={COLORS.primary}/>\n            </TouchableOpacity>\n            </Link>\n        </View>\n   \n    </View>\n  )\n}\n\nexport default SectionHeader\n\n","import React from \"react\";\nimport {\n  View,\n  Text,\n  Image,\n  TextInput,\n  TouchableOpacity,\n  ScrollView,\n  StyleSheet,\n} from \"react-native\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { AWS_HOLDER_IMAGE } from \"@/utils/api\";\n// import Colors from \"@/constants/Colors\";\n// import { COLORS } from \"@/utils/theme\";\n// import { useAuth } from \"@/contexts/AuthContext\";\n\nconst SearchBarVOne = () => {\n  return (\n    <View>\n    <View style={styles.container}>\n      <View style={styles.searchSection}>\n        <TextInput\n          style={styles.searchInput}\n          placeholder=\"Search keywords\"\n          placeholderTextColor=\"#A0A0A0\"\n        />\n      </View>\n\n      <View style={styles.filterSection}>\n        <TouchableOpacity>\n          <Ionicons\n            name=\"options-outline\"\n            size={24}\n            color=\"black\"\n            style={styles.filterIcon}\n          />\n        </TouchableOpacity>\n      </View>\n\n      </View>\n    </View>\n  );\n};\n\nexport default SearchBarVOne;\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n  },\n\n  talentCount: {\n    fontSize: 14,\n    color: \"#A0A0A0\",\n    marginBottom: 20,\n  },\n  searchSection: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: 20,\n    // backgroundColor: \"#transparent\",\n    borderColor: \"gray\",\n    borderWidth: 1,\n    borderRadius: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 12,\n    width: \"80%\",\n  },\n  searchInput: {\n    flex: 1,\n    fontSize: 16,\n    color: \"#000\",\n  },\n  filterSection: {\n    // marginLeft: 10,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: 20,\n    marginLeft: 15,\n    // backgroundColor: \"#FFFFFF\",\n    // backgroundColor: \"#transparent\",\n    borderColor: \"gray\",\n    borderWidth: 1,\n    borderRadius: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 12,\n  },\n  filterIcon: {\n    paddingLeft: 3,\n    paddingRight: 3,\n    // marginLeft: 10,\n    // flexDirection: \"row\",\n    // alignItems: \"center\",\n    // marginBottom: 20,\n    // backgroundColor: \"#FFFFFF\",\n    // borderRadius: 10,\n    // paddingHorizontal: 10,\n    // paddingVertical: 12,\n  },\n\n  arrow: {\n    marginLeft: 10,\n    marginTop: 3,\n  },\n});\n","import {\n  ActivityIndicator,\n  FlatList,\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n} from \"react-native\";\nimport React from \"react\";\nimport { useAuth } from \"../../../contexts/AuthContext\";\nimport { COLORS, SIZES } from \"@/utils/theme\";\nimport { ProductModelProps } from \"@/models/ProductModelProps\";\nimport { useClientProduct } from \"@/contexts/ClientProductContext\";\nimport { useTheme } from \"@/contexts/ThemeContext\";\n\nexport interface ClientStateProps {\n  client: boolean;\n  card: React.FC<{ product: ProductModelProps }> // Type to dynamically accept a card component with product prop\n}\n\nconst ProductRow: React.FC<ClientStateProps> = (props) => {\n  const { authState } = useAuth();\n  const { colors } = useTheme();\n  const email = authState?.user?.email || '';\n  const { products, selectProduct, isLoading, error } = useClientProduct();\n\n  const handleProductSelect = (product: ProductModelProps) => {\n    selectProduct(product);\n  };\n\n  const styles = createStyles(colors); // Dynamically generate styles based on theme colors\n\n  return (\n    <View style={styles.container}>\n      {isLoading ? (\n        <ActivityIndicator size=\"large\" color={COLORS.primary} />\n      ) : error ? (\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>Error Loading Data: {error}</Text>\n        </View>\n      ) : (\n        <>\n          <FlatList\n            keyExtractor={(item: ProductModelProps) => item.id}\n            data={products}\n            renderItem={({ item }) => (\n              <TouchableOpacity onPress={() => handleProductSelect(item)}>\n                {/* Use the dynamic card component passed via props */}\n                <props.card product={item} />\n              </TouchableOpacity>\n            )}\n            horizontal\n            contentContainerStyle={{ columnGap: SIZES.medium }}\n          />\n        </>\n      )}\n    </View>\n  );\n};\n\nexport default ProductRow;\n\nconst createStyles = (colors: any) =>\n  StyleSheet.create({\n    container: {\n      marginTop: SIZES.medium,\n      marginLeft: 12,\n    },\n    errorContainer: {\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    errorText: {\n      color: COLORS.red,\n      fontSize: SIZES.medium,\n    },\n  });\n\n\n\n\n\n\n\n\n\n\n\n// import {\n//   ActivityIndicator,\n//   FlatList,\n//   StyleSheet,\n//   Text,\n//   View,\n//   TouchableOpacity,\n// } from \"react-native\";\n// import React from \"react\";\n// import { useAuth } from \"../../../contexts/AuthContext\";\n// import { COLORS, SIZES } from \"@/utils/theme\";\n// import ProductGridCardVOne from \"@/components/card/product/ProductGridCardVOne\";\n// import { ProductModelProps } from \"@/models/ProductModelProps\";\n// // import { useClientProduct } from \"@/contexts/ClientProductContext\";\n// import { CONSTANTS } from \"@/utils/constants\";\n// import { useClientProduct } from \"@/contexts/ClientProductContext\";\n// import { useTheme } from \"@/contexts/ThemeContext\";\n// import ProductGridCardVOneVTwo from \"./ProductGridCardVOneVTwo\";\n\n// export interface ClientStateProps {\n//   client: boolean;\n//   card: ProductModelProps\n//   // storeID: string\n// }\n\n// const ProductRow: React.FC<ClientStateProps> = (props) => {\n//   const { authState } = useAuth();\n//   const { colors } = useTheme();\n//   //const storeID = props.storeID // client ? authState?.user?.store_owner_id || '' : CONSTANTS.store_id;\n//   const email = authState?.user?.email || '';\n//   const { products, selectedProduct, selectProduct, isLoading, error } = useClientProduct();\n\n//   const handleProductSelect = (product: ProductModelProps) => {\n//     selectProduct(product);\n//   };\n\n//   const styles = createStyles(colors); // Dynamically generate styles based on theme colors\n\n//   return (\n//     <View style={styles.container}>\n//       {isLoading ? (\n//         <ActivityIndicator size=\"large\" color={COLORS.primary} />\n//       ) : error ? (\n//         <View style={styles.errorContainer}>\n//           <Text style={styles.errorText}>Error Loading Data: {error}</Text>\n//         </View>\n//       ) : (\n//         <>\n//           <FlatList\n//             keyExtractor={(item: ProductModelProps) => item.id}\n//             data={products}\n//             renderItem={({ item }) => (\n//               // <TouchableOpacity onPress={() => handleProductSelect(item)}>\n//               // <ProductGridCardVOne product={item} viewTypeGrid={false} /> // true is false - fix\n//               <ProductGridCardVOneVTwo product={item}  /> // true is false - fix\n//               // </TouchableOpacity>\n//             )}\n//             horizontal\n//             contentContainerStyle={{ columnGap: SIZES.medium }}\n//           />\n//           {/* {selectedProduct && (\n//             <View style={styles.selectedProductContainer}>\n//               <Text style={styles.selectedProductText}>\n//                 Selected Product: {selectedProduct.name}\n//               </Text>\n//             </View>\n//           )} */}\n//         </>\n//       )}\n//     </View>\n//   );\n// };\n\n// export default ProductRow;\n\n// const createStyles = (colors: any) => StyleSheet.create({\n//   container: {\n//     marginTop: SIZES.medium,\n//     marginLeft: 12,\n//   },\n//   errorContainer: {\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//   },\n//   errorText: {\n//     color: COLORS.red,\n//     fontSize: SIZES.medium,\n//   },\n//   selectedProductContainer: {\n//     marginTop: SIZES.medium,\n//     padding: SIZES.medium,\n//     backgroundColor: COLORS.gray2,\n//     borderRadius: SIZES.small,\n//   },\n//   selectedProductText: {\n//     fontSize: SIZES.large,\n//     fontWeight: 'bold',\n//   },\n// });\n","import React, { FC } from 'react'\nimport { TouchableOpacity, Text, View , ScrollView } from 'react-native'\n// import { SafeAreaView } from 'react-native-safe-area-context'\nimport { StyleSheet } from \"react-native\";\n// import { COLORS, SIZES } from \"../utils/theme\";\n\n\nimport { COLORS, SIZES } from '@/utils/theme';\nimport { TopSectionHeaderV1 } from '@/pages/tabs/home/TopSectionHeader';\nimport Carousel from '@/pages/tabs/home/Carousel';\nimport SectionHeader from '@/pages/tabs/home/Headings';\n// import { useClientStore } from '@/contexts/ClientStoreContext';\n// import SearchBar from '../search/SearchBar';\nimport SearchBarVOne from '../search/SearchBarVOne';\nimport ProductRow from '../card/product/ProductRow';\nimport ProductGridCardVOneVTwo, { ProductHScrollCardVOne } from '../card/product/ProductHScrollCardVOne';\n// import ProductGridCardVOneVTwo from '../card/product/ProductGridCardVOneVTwo';\n\n\nconst HomeDesignOne = () => {\n    // const { store } = useClientStore()\n\n    return (\n \n        <ScrollView \n          showsVerticalScrollIndicator={false} \n          style={{\n            backgroundColor: 'white',\n            paddingTop: 10\n\n            \n          }}>\n            <TopSectionHeaderV1 />\n            <SearchBarVOne />\n            <Carousel />\n            <SectionHeader /> \n           <ProductRow client={false} card={ProductHScrollCardVOne} />\n           <View style={{paddingBottom: 200}}></View>\n\n        </ScrollView>\n  \n\n  )\n}\n\n\nexport default HomeDesignOne \n\n\n\nconst styles = StyleSheet.create({\n  textStyle: {\n      fontFamily: \"bold\",\n      fontSize: 40\n  },\n  appBarWrapper: {\n      marginHorizontal: 22,\n      marginTop: SIZES.small\n  },\n  appBar: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\"\n  },\n  location: {\n      fontFamily: \"semibold\",\n      fontSize: SIZES.medium,\n      color: COLORS.gray\n  },\n  cartCount: {\n      position: \"absolute\",\n      bottom: 16,\n      width: 16,\n      height: 16,\n      borderRadius: 8,\n      alignItems: \"center\",\n      backgroundColor: \"green\",\n      justifyContent: \"center\",\n      zIndex: 999\n  },\n  cartNumber: {\n      fontFamily: \"regular\",\n      fontWeight: \"600\",\n      fontSize: 10,\n      color: COLORS.lightWhite\n  }\n\n})\n// function useClientStore(): { store: any; } {\n//     throw new Error('Function not implemented.');\n// }\n\n","import React, { FC } from \"react\";\nimport {\n  View,\n  Text,\n  TouchableOpacity,\n  StyleSheet,\n} from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { COLORS } from \"@/utils/theme\";\nimport { useRouter, Href } from \"expo-router\";\n\ninterface SearchBarVOneButtonProps {\n  path: Href;  // Update the type to Href\n}\n\nconst SearchBarVOneButton: FC<SearchBarVOneButtonProps> = ({ path }) => {\n  const router = useRouter();\n\n  return (\n    <View style={styles.container}>\n      <TouchableOpacity\n        onPress={() => { router.push(path); }}  // Use the correctly typed path\n        style={styles.searchSection}\n      >\n        <View style={styles.searchInput}>\n          <Text style={{ color: COLORS.gray }}>Search keywords</Text>\n        </View>\n      </TouchableOpacity>\n\n      <View style={styles.filterSection}>\n        <TouchableOpacity onPress={() => { router.push(\"/search\" as never); }}>\n          <Feather name=\"search\" size={24} style={styles.searchIcon} />\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n};\n\nexport default SearchBarVOneButton;\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n  },\n  searchIcon: {\n    marginHorizontal: 10,\n    color: COLORS.gray,\n  },\n  searchSection: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    borderColor: \"gray\",\n    borderWidth: 1,\n    borderRadius: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 12,\n    width: \"80%\",\n  },\n  searchInput: {\n    flex: 1,\n    fontSize: 16,\n    color: \"#000\",\n  },\n  filterSection: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginLeft: 15,\n    borderColor: \"gray\",\n    borderWidth: 1,\n    borderRadius: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 12,\n  },\n});\n","import React, { FC, useState } from \"react\";\nimport { View, Text, StyleSheet, TouchableOpacity, Pressable, Dimensions, Image } from \"react-native\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { useClientStore } from \"@/contexts/ClientStoreContext\";\nimport { View as MotiView } from \"moti\";\nimport { router } from \"expo-router\";\nimport { COLORS } from \"@/utils/theme\";\nimport { useClientProduct } from \"@/contexts/ClientProductContext\";\nimport { ProductModelProps } from \"@/models/ProductModelProps\";\nimport SearchBarVOneButton from \"../search/SearchBarVOneButton\";\nimport { ROUTES } from \"@/utils/Routes\";\nimport { useTheme } from \"@/contexts/ThemeContext\"\n\nconst { width } = Dimensions.get(\"window\");\n\ninterface TopHomeSeactionProps {\n  product_1_Id: string;\n  product_2_Id: string;\n  product_3_Id: string;\n  product_4_Id: string;\n  product_1_Name: string;\n  product_2_Name: string;\n  product_3_Name: string;\n  product_4_Name: string;\n}\n\nconst TopHomeSeaction: FC<TopHomeSeactionProps> = (props) => {\n  const { store } = useClientStore();\n  const { colors } = useTheme();\n  const { selectProduct, products } = useClientProduct(); // Get `selectProduct` from context\n\n  const [isMenuVisible, setIsMenuVisible] = useState(true);\n\n  // Toggle menu visibility\n  const handleMenuPress = () => {\n    setIsMenuVisible((prev) => !prev);\n  };\n\n\n\n// Handle selecting a product and navigate\nconst handleProductSelect = (productId: string) => {\n  const selected = products.find((product) => product.id === productId); // Find the product by its ID\n  if (selected) {\n    selectProduct(selected); // Select the product\n    // Navigate to product details using the correct string format\n    router.push(`/products/${productId}` as never); // Navigate to product details\n  }\n};\n\n\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.cardBackground,\n    padding: 20,\n  },\n  header: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  headerText: {\n    fontSize: 14,\n    color: colors.cardText,\n  },\n  menuIcon: {\n    paddingVertical: 10,\n  },\n  titleContainer: {\n    marginTop: 20,\n  },\n  mainTitle: {\n    fontSize: 48,\n    fontWeight: \"bold\",\n    color: colors.cardText,\n    lineHeight: 50,\n  },\n  subTitle: {\n    fontSize: 48,\n    fontWeight: \"300\",\n    color: colors.cardText,\n    lineHeight: 50,\n  },\n  productList: {\n    position: \"absolute\",\n    top: 60,\n    right: 20,\n    alignItems: \"flex-end\",\n  },\n  productItem: {\n    fontSize: 16,\n    color: colors.cardText,\n    marginBottom: 5,\n  },\n  image: {\n    width: width - 40,\n    height: 300,\n    borderRadius: 10,\n    marginTop: 20,\n  },\n  description: {\n    fontSize: 16,\n    color: colors.cardText,\n    textAlign: \"left\",\n    marginTop: 20,\n  },\n  shopNowButton: {\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    backgroundColor: colors.primary,\n    borderRadius: 25,\n    shadowColor: colors.buttonShadow,\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.3,\n    shadowRadius: 5,\n    elevation: 8,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: \"40%\",\n  },\n  shopNowButtonText: {\n    color: \"white\", // text\n    fontWeight: \"bold\",\n    fontSize: 18,\n    letterSpacing: 1,\n    textTransform: \"uppercase\",\n  },\n});\n\n  return (\n    <View style={styles.container}>\n      {/* Header */}\n      <View style={styles.header}>\n        <MotiView\n          from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n          animate={{ opacity: 1, translateY: 0, scale: 1 }}\n          transition={{ type: \"timing\", duration: 600, delay: 1200 }}\n        >\n          <Text style={styles.headerText}>Welcome to</Text>\n        </MotiView>\n        <MotiView\n          from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n          animate={{ opacity: 1, translateY: 0, scale: 1 }}\n          transition={{ type: \"timing\", duration: 600, delay: 1300 }}\n        >\n          <TouchableOpacity style={styles.menuIcon} onPress={handleMenuPress}>\n            <Ionicons name=\"menu-outline\" size={24} color={colors.tint}/>\n          </TouchableOpacity>\n        </MotiView>\n      </View>\n\n      {/* Title */}\n      <View style={styles.titleContainer}>\n        <Text style={styles.mainTitle}>Jays</Text>\n        <MotiView\n          from={{ opacity: 0, translateY: -10 }}\n          animate={{ opacity: 1, translateY: 0 }}\n          transition={{ type: \"timing\", duration: 600, delay: 1400 }}\n        >\n          <Text style={styles.subTitle}>Sea Moss</Text>\n        </MotiView>\n      </View>\n\n      {/* Product List */}\n      <View style={styles.productList}>\n        {isMenuVisible && (\n          <>\n            <MotiView\n              from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n              animate={{ opacity: 1, translateY: 0, scale: 1 }}\n              transition={{ type: \"timing\", duration: 600, delay: 600 }}\n            >\n              <Pressable onPress={() => router.push(\"/products\" as never)}>\n                <Text style={styles.productItem}>All Products</Text>\n              </Pressable>\n            </MotiView>\n            <MotiView\n              from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n              animate={{ opacity: 1, translateY: 0, scale: 1 }}\n              transition={{ type: \"timing\", duration: 600, delay: 700 }}\n            >\n              <Pressable onPress={() => handleProductSelect(props.product_1_Id)}>\n                <Text style={styles.productItem}>{props.product_1_Name}</Text>\n              </Pressable>\n            </MotiView>\n            <MotiView\n              from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n              animate={{ opacity: 1, translateY: 0, scale: 1 }}\n              transition={{ type: \"timing\", duration: 600, delay: 800 }}\n            >\n              <Pressable onPress={() => handleProductSelect(props.product_2_Id)}>\n                <Text style={styles.productItem}>{props.product_2_Name}</Text>\n              </Pressable>\n            </MotiView>\n            <MotiView\n              from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n              animate={{ opacity: 1, translateY: 0, scale: 1 }}\n              transition={{ type: \"timing\", duration: 600, delay: 900 }}\n            >\n              <Pressable onPress={() => handleProductSelect(props.product_3_Id)}>\n                <Text style={styles.productItem}>{props.product_3_Name}</Text>\n              </Pressable>\n            </MotiView>\n            <MotiView\n              from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n              animate={{ opacity: 1, translateY: 0, scale: 1 }}\n              transition={{ type: \"timing\", duration: 600, delay: 1000 }}\n            >\n              <Pressable onPress={() => handleProductSelect(props.product_4_Id)}>\n                <Text style={styles.productItem}>{props.product_4_Name}</Text>\n              </Pressable>\n            </MotiView>\n          </>\n        )}\n      </View>\n\n      {/* Image */}\n      <MotiView\n        from={{ opacity: 0, translateY: -10, scale: 0.85 }}\n        animate={{ opacity: 1, translateY: 0, scale: 1 }}\n        transition={{ type: \"timing\", duration: 600, delay: 1500 }}\n      >\n        <Image\n          source={{ uri: store?.images.welcome_image }} // Replace with your image URL\n          style={styles.image}\n          resizeMode=\"cover\"\n        />\n      </MotiView>\n\n\n   {/* Description */}\n   <MotiView\n        from={{ opacity: 0, translateX: -90, scale: 0.85 }}\n        animate={{ opacity: 1, translateX: 0, scale: 1 }}\n        transition={{ type: \"timing\", duration: 600, delay: 1500 }}\n      >\n        <Text style={styles.description}>\n          Discover the natural benefits of Sea Moss, rich in essential minerals\n          and nutrients to support your health and well-being.\n        </Text>\n      </MotiView>\n\n      {/* Shop Button */}\n      <MotiView\n        from={{ opacity: 0, translateX: -90, scale: 0.85 }}\n        animate={{ opacity: 1, translateX: 0, scale: 1 }}\n        transition={{ type: \"timing\", duration: 600, delay: 1600 }}\n      >\n        <View style={{ paddingTop: 20 }}>\n          <TouchableOpacity style={styles.shopNowButton} onPress={() => router.push(ROUTES.products as never)}>\n            <Text style={styles.shopNowButtonText}>Shop</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={{ paddingTop: 20 }}>\n          <SearchBarVOneButton path={ROUTES.products as never} />\n        </View>\n      </MotiView>\n\n\n    </View>\n  );\n};\n\nexport default TopHomeSeaction;\n\n\n// // import React, { FC, useState } from \"react\";\n// // import {\n// //   View,\n// //   Text,\n// //   StyleSheet,\n// //   Image,\n// //   TouchableOpacity,\n// //   Dimensions,\n// //   Pressable,\n// // } from \"react-native\";\n// // import { Ionicons } from \"@expo/vector-icons\";\n// // import { useClientStore } from \"@/contexts/ClientStoreContext\";\n// // import { View as MotiView } from \"moti\";\n// // import { COLORS } from \"@/utils/theme\";\n// // import { router } from \"expo-router\";\n// // import SearchBarVOneButton from \"../search/SearchBarVOneButton\";\n// // import { ROUTES } from \"@/utils/Routes\";\n\n// // const { width } = Dimensions.get(\"window\");\n\n// // interface TopHomeSeactionProps {\n// //   product_1_Id: string;\n// //   product_2_Id: string;\n// //   product_3_Id: string;\n// //   product_4_Id: string;\n// //   product_1_Name: string;\n// //   product_2_Name: string;\n// //   product_3_Name: string;\n// //   product_4_Name: string;\n// // }\n\n// // const TopHomeSeaction: FC<TopHomeSeactionProps> = (props) => {\n// //   const { store } = useClientStore();\n// //   const [isMenuVisible, setIsMenuVisible] = useState(true);\n\n// //   const handleMenuPress = () => {\n// //     setIsMenuVisible((prev) => !prev); // Toggle menu visibility\n// //   };\n\n// //   return (\n// //     <View style={styles.container}>\n// //       {/* Header */}\n// //       <View style={styles.header}>\n// //         <MotiView\n// //           from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n// //           animate={{ opacity: 1, translateY: 0, scale: 1 }}\n// //           transition={{ type: \"timing\", duration: 600, delay: 1200 }}\n// //         >\n// //           <Text style={styles.headerText}>Welcome to</Text>\n// //         </MotiView>\n// //         <MotiView\n// //           from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n// //           animate={{ opacity: 1, translateY: 0, scale: 1 }}\n// //           transition={{ type: \"timing\", duration: 600, delay: 1300 }}\n// //         >\n// //           <TouchableOpacity style={styles.menuIcon} onPress={handleMenuPress}>\n// //             <Ionicons name=\"menu-outline\" size={24} color=\"black\" />\n// //           </TouchableOpacity>\n// //         </MotiView>\n// //       </View>\n\n// //       {/* Title */}\n// //       <View style={styles.titleContainer}>\n// //         <Text style={styles.mainTitle}>Jays</Text>\n// //         <MotiView\n// //           from={{ opacity: 0, translateY: -10 }}\n// //           animate={{ opacity: 1, translateY: 0 }}\n// //           transition={{ type: \"timing\", duration: 600, delay: 1400 }}\n// //         >\n// //           <Text style={styles.subTitle}>Sea Moss</Text>\n// //         </MotiView>\n// //       </View>\n\n// //       {/* Product List */}\n// //       <View style={styles.productList}>\n// //         <MotiView\n// //           from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n// //           animate={{ opacity: isMenuVisible ? 1 : 0, translateY: isMenuVisible ? 0 : -50, scale: 1 }}\n// //           transition={{\n// //             type: \"timing\",\n// //             duration: isMenuVisible ? 600 : 0,\n// //             delay: isMenuVisible ? 600 : 0,\n// //           }}\n// //         >\n// //           <Pressable onPress={() => router.push(\"/products\" as never)}>\n// //             <Text style={styles.productItem}>All Products</Text>\n// //           </Pressable>\n// //         </MotiView>\n\n// //         <MotiView\n// //           from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n// //           animate={{ opacity: isMenuVisible ? 1 : 0, translateY: isMenuVisible ? 0 : -50, scale: 1 }}\n// //           transition={{\n// //             type: \"timing\",\n// //             duration: isMenuVisible ? 600 : 0,\n// //             delay: isMenuVisible ? 700 : 0,\n// //           }}\n// //         >\n// //           <Pressable onPress={() => router.push(`/products/${props.product_1_Id}` as never)}>\n// //             <Text style={styles.productItem}>{props.product_1_Name}</Text>\n// //           </Pressable>\n// //         </MotiView>\n\n// //         <MotiView\n// //           from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n// //           animate={{ opacity: isMenuVisible ? 1 : 0, translateY: isMenuVisible ? 0 : -50, scale: 1 }}\n// //           transition={{\n// //             type: \"timing\",\n// //             duration: isMenuVisible ? 600 : 0,\n// //             delay: isMenuVisible ? 800 : 0,\n// //           }}\n// //         >\n// //           <Pressable onPress={() => router.push(`/products/${props.product_2_Id}` as never)}>\n// //             <Text style={styles.productItem}>{props.product_2_Name}</Text>\n// //           </Pressable>\n// //         </MotiView>\n\n// //         <MotiView\n// //           from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n// //           animate={{ opacity: isMenuVisible ? 1 : 0, translateY: isMenuVisible ? 0 : -50, scale: 1 }}\n// //           transition={{\n// //             type: \"timing\",\n// //             duration: isMenuVisible ? 600 : 0,\n// //             delay: isMenuVisible ? 900 : 0,\n// //           }}\n// //         >\n// //           <Pressable onPress={() => router.push(`/products/${props.product_3_Id}` as never)}>\n// //             <Text style={styles.productItem}>{props.product_3_Name}</Text>\n// //           </Pressable>\n// //         </MotiView>\n\n// //         <MotiView\n// //           from={{ opacity: 0, translateY: 50, scale: 0.85 }}\n// //           animate={{ opacity: isMenuVisible ? 1 : 0, translateY: isMenuVisible ? 0 : -50, scale: 1 }}\n// //           transition={{\n// //             type: \"timing\",\n// //             duration: isMenuVisible ? 600 : 0,\n// //             delay: isMenuVisible ? 1000 : 0,\n// //           }}\n// //         >\n// //           <Pressable onPress={() => router.push(`/products/${props.product_4_Id}` as never)}>\n// //             <Text style={styles.productItem}>{props.product_4_Name}</Text>\n// //           </Pressable>\n// //         </MotiView>\n// //       </View>\n\n// //       {/* Image */}\n// //       <MotiView\n// //         from={{ opacity: 0, translateY: -10, scale: 0.85 }}\n// //         animate={{ opacity: 1, translateY: 0, scale: 1 }}\n// //         transition={{ type: \"timing\", duration: 600, delay: 1500 }}\n// //       >\n// //         <Image\n// //           source={{ uri: store?.images.welcome_image }} // Replace with your image URL\n// //           style={styles.image}\n// //           resizeMode=\"cover\"\n// //         />\n// //       </MotiView>\n\n      // {/* Description */}\n      // <MotiView\n      //   from={{ opacity: 0, translateX: -90, scale: 0.85 }}\n      //   animate={{ opacity: 1, translateX: 0, scale: 1 }}\n      //   transition={{ type: \"timing\", duration: 600, delay: 1500 }}\n      // >\n      //   <Text style={styles.description}>\n      //     Discover the natural benefits of Sea Moss, rich in essential minerals\n      //     and nutrients to support your health and well-being.\n      //   </Text>\n      // </MotiView>\n\n      // {/* Shop Button */}\n      // <MotiView\n      //   from={{ opacity: 0, translateX: -90, scale: 0.85 }}\n      //   animate={{ opacity: 1, translateX: 0, scale: 1 }}\n      //   transition={{ type: \"timing\", duration: 600, delay: 1600 }}\n      // >\n      //   <View style={{ paddingTop: 20 }}>\n      //     <TouchableOpacity style={styles.shopNowButton} onPress={() => router.push(\"/products\" as never)}>\n      //       <Text style={styles.shopNowButtonText}>Shop</Text>\n      //     </TouchableOpacity>\n      //   </View>\n\n      //   <View style={{ paddingTop: 20 }}>\n      //     <SearchBarVOneButton path={ROUTES.products as never} />\n      //   </View>\n      // </MotiView>\n// //     </View>\n// //   );\n// // };\n\n// // const styles = StyleSheet.create({\n// //   container: {\n// //     flex: 1,\n// //     backgroundColor: \"white\",\n// //     padding: 20,\n// //   },\n// //   header: {\n// //     flexDirection: \"row\",\n// //     justifyContent: \"space-between\",\n// //     alignItems: \"center\",\n// //   },\n// //   headerText: {\n// //     fontSize: 14,\n// //     color: \"black\",\n// //   },\n// //   menuIcon: {\n// //     paddingVertical: 10,\n// //   },\n// //   titleContainer: {\n// //     marginTop: 20,\n// //   },\n// //   mainTitle: {\n// //     fontSize: 48,\n// //     fontWeight: \"bold\",\n// //     color: \"black\",\n// //     lineHeight: 50,\n// //   },\n// //   subTitle: {\n// //     fontSize: 48,\n// //     fontWeight: \"300\",\n// //     color: \"black\",\n// //     lineHeight: 50,\n// //   },\n// //   productList: {\n// //     position: \"absolute\",\n// //     top: 60,\n// //     right: 20,\n// //     alignItems: \"flex-end\",\n// //   },\n// //   productItem: {\n// //     fontSize: 16,\n// //     color: \"black\",\n// //     marginBottom: 5,\n// //   },\n// //   image: {\n// //     width: width - 40,\n// //     height: 300,\n// //     borderRadius: 10,\n// //     marginTop: 20,\n// //   },\n  // description: {\n  //   fontSize: 16,\n  //   color: \"black\",\n  //   textAlign: \"left\",\n  //   marginTop: 20,\n  // },\n  // shopNowButton: {\n  //   paddingVertical: 15,\n  //   paddingHorizontal: 30,\n  //   backgroundColor: COLORS.primary,\n  //   borderRadius: 25,\n  //   shadowColor: \"#000\",\n  //   shadowOffset: { width: 0, height: 4 },\n  //   shadowOpacity: 0.3,\n  //   shadowRadius: 5,\n  //   elevation: 8,\n  //   alignItems: \"center\",\n  //   justifyContent: \"center\",\n  //   width: \"40%\",\n  // },\n  // shopNowButtonText: {\n  //   color: \"white\",\n  //   fontWeight: \"bold\",\n  //   fontSize: 18,\n  //   letterSpacing: 1,\n  //   textTransform: \"uppercase\",\n  // },\n// // });\n\n// // export default TopHomeSeaction;\n\n\n\n","\n\n\nimport React from \"react\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  Image,\n  TouchableOpacity,\n  Dimensions,\n  ScrollView,\n} from \"react-native\";\nimport { useClientStore } from \"@/contexts/ClientStoreContext\";\nimport TopHomeSeaction from \"./TopHomeSeaction\";\nimport Carousel from \"@/pages/tabs/home/Carousel\";\nimport SectionHeader from \"@/pages/tabs/home/Headings\";\nimport { AWS_HOLDER_IMAGE } from \"@/utils/api\";\nimport { router } from \"expo-router\";\nimport { ROUTES } from \"@/utils/Routes\";\nimport ProductRow from \"../card/product/ProductRow\";\nimport { useTheme } from \"@/contexts/ThemeContext\";\nimport { useClientProduct } from \"@/contexts/ClientProductContext\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport ProductGridCardVOneVTwo, { ProductHScrollCardVOne } from \"../card/product/ProductHScrollCardVOne\";\n// import ProductGridCardVOneVTwo from \"../card/product/ProductGridCardVOneVTwo\";\n\nconst { width } = Dimensions.get(\"window\");\n\nconst HomeDesignTwo = () => {\n  const { store } = useClientStore();\n  const { colors } = useTheme();\n  const {products} = useClientProduct()\n\n  if (products.length < 4 ){\n    return(\n      <SafeAreaView>\n      <Text>\n        Need More products to use\n      </Text>\n      </SafeAreaView>\n    )\n  }\n\n\n// card\nconst styles = StyleSheet.create({\n  card: {\n    // width: width * 0.9,\n    backgroundColor: 'transparent',\n    borderRadius: 10,\n    padding: 20,\n    alignItems: 'center',\n    shadowColor: '#000',\n    elevation: 3,\n    marginVertical: 10,\n  },\n  profileImage: {\n    width: width - 40,\n    height: 500,\n    borderRadius: 10,\n    marginBottom: 20,\n\n  },\n  healthTip: {\n    marginTop: 10,\n    fontSize: 14,\n    color: 'green',\n    fontStyle: 'italic',\n  },  \n  name: {\n    fontSize: 24,\n    fontWeight: '900',\n    textAlign: 'center',\n    marginBottom: 10,\n    color: colors.cardText\n  },\n  title: {\n    fontSize: 16,\n    color: '#6e6e6e',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  button: {\n    // fontWeight: '900',\n    backgroundColor: '#000',\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    borderRadius: 15,\n    marginBottom: 20,\n  },\n  buttonText: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n  description: {\n    fontSize: 14,\n    color: '#6e6e6e',\n    textAlign: 'center',\n  },\n});\n\n\n  return (\n    <ScrollView\n      showsVerticalScrollIndicator={false}\n      style={{\n        backgroundColor: colors.background,\n        paddingTop: 30,\n        paddingBottom: 200,\n      }}\n    >\n      <TopHomeSeaction product_1_Id={products[0].id} product_2_Id={products[1].id} product_3_Id={products[2].id} product_4_Id={products[3].id} product_1_Name={products[0].name} product_2_Name={products[1].name} product_3_Name={products[2].name} product_4_Name={products[3].name} />\n      <SectionHeader />\n      <ProductRow client={true} card={ProductHScrollCardVOne} />\n      <View style={styles.card}>\n        <Image\n          source={{ uri: store?.images.welcome_image ?? AWS_HOLDER_IMAGE }} \n          style={styles.profileImage}\n        />\n        {/* <Text style={styles.name}>JACOB JAMES</Text> */}\n        <Text style={styles.name}>YOUR NAME HERE</Text>\n        <Text style={styles.title}>\n          Founder of {store?.store_name ?? \"\"} Co.\n        </Text>\n        <TouchableOpacity\n          style={styles.button}\n          onPress={() => router.push(ROUTES.products as never)}\n        >\n          <Text style={styles.buttonText}>EXPLORE PRODUCTS</Text>\n        </TouchableOpacity>\n        <Text style={{ padding: 10, fontSize: 40, paddingBottom: 30 }}> 🌿</Text>\n        <Text style={styles.description}>\n          Leading the way in natural wellness with a focus on the incredible\n          benefits of sea moss...\n        </Text>\n        {/* <Text style={styles.healthTip}>\n          🌿 Health Tip: Sea Moss is packed with 92 essential minerals that can support overall wellness, improve skin health, and boost your immune system. Add it to your smoothies or meals for a natural health boost!\n        </Text> */}\n      </View>\n\n      <Carousel />\n\n      <View style={{ paddingTop: 40 }} />\n    </ScrollView>\n  );\n};\n\nexport default HomeDesignTwo;\n","// import { MankindProductModelProps } from '../models/MankindProductModelProps';\nimport { ProductModelProps } from '@/models/ProductModelProps';\nimport { TOKEN_KEY } from '../contexts/AuthContext';\nimport { createFetchClient } from '../utils/createFetchClient';\nimport { BASE_URL } from '@/utils/api';\n\n// Setup the axios instance for product API\nconst productsApi = createFetchClient(\n  BASE_URL,\n  {\n    tableName: 'prof-website-product-table',\n    showFilteredItems: 'true',\n  },\n  {\n    'Content-Type': 'application/json',\n  }\n);\n\n\n// GET ALL \nexport async function getMankindProductsApi(storeID: string, email: string) {\n  try {\n    const response = await productsApi.get('/products', {\n      params: {\n        store_id: storeID,\n        email: email,\n      },\n      headers: {\n        Authentication: TOKEN_KEY,\n        'Content-Type': 'application/json',\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching mankind products:', error);\n    throw error;\n  }\n}\n\n\n// GET SINGLE ITEM\nexport async function getMankindProductApi(id: any) {\n  try {\n    const response = await productsApi.get(`/product`, {\n      params: { id },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching product:', error);\n    throw error;\n  }\n}\n\n\n// POST - Create / easy update\nexport const postMankindProductApi = async (product: ProductModelProps, storeID: string, email: string, token: string) => {\n  return await productsApi.post(`/product`, product, {\n    params: { \n      store_id: storeID,\n      email: email,\n    },\n    headers: { \n      Authentication: token,\n      'Content-Type': 'application/json',\n    },\n  });\n};\n\n\n// UPDATE\nexport const updateMankindProductApi = async (product: ProductModelProps) => {\n  return await productsApi.put(`/product?id=${product.id}`, product);\n};\n\n// DELETE\nexport const deleteMankindProductApi = async (id: any) => {\n  return await productsApi.delete(`/product`, {\n    params: { id },\n  });\n};\n\n\n\n\n\n\n\n\n// import axios, { AxiosError } from 'axios';\n// // import { BASE_URL } from '../utils/api';\n// // import { CONSTANTS } from '../utils/constants';\n// import { MankindProductModelProps } from '../models/MankindProductModelProps';\n// import { TOKEN_KEY } from '../contexts/AuthContext';\n// import { UserProps } from '../models/UserProps';\n// import { BASE_URL } from '../utils/api';\n// import { CONSTANTS } from '../utils/constants';\n// // import { BASE_URL } from '../utils/api';\n// // import { CONSTANTS } from '../utils/constants';\n// // import { MankindProductModelProps } from '../models/MankindProductModelProps';\n\n\n//   const mankindMankindProductsApi = axios.create({\n//     baseURL: BASE_URL,\n//     headers: {\n//         Authentication: TOKEN_KEY,\n//         'Content-Type': 'application/json',\n//     },\n//     params: {\n//       store_id: CONSTANTS.store_id,\n//       // email: \"\", // user?.email ?? \"\",\n//       tableName: 'prof-website-product-table', \n//       showFilteredItems: true\n//     },\n//   });\n\n\n\n//   export const getMankindMankindProductsApi = async (storeID: string, email: string) => {\n//     return await mankindMankindProductsApi.get(`/products`, {\n//       params: { \n//         store_id: storeID, // CONSTANTS.store_id,// storeID,\n//         email: email,\n//       },\n//       headers: { Authentication: TOKEN_KEY },\n//     });\n   \n//   };\n  \n\n// export const getMankindMankindProductApi = async (id: any) => {\n//   return await mankindMankindProductsApi.get(`/product?id=${id}`);\n// };\n\n\n\n// export const postMankindMankindProductApi = async (product: MankindProductModelProps) => {\n//   return await mankindMankindProductsApi.post(`/product`, product);\n// };\n\n// export const updateMankindMankindProductApi = async (product: MankindProductModelProps) => {\n//   return await mankindMankindProductsApi.patch(`/product?id=${product.id}`, product);\n// };\n\n// export const deleteMankindMankindProductApi = async ({ id }: { id: any }) => {\n//   console.log(id);\n//   return await mankindMankindProductsApi.delete(`/product?id=${id}`, id);\n// };\n\n\n// export default mankindMankindProductsApi;\n","import React, { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\nimport { ProductModelProps } from \"../models/ProductModelProps\";\n// import { getMankindProducts as gmP } from \"../api/mankindProductApi\";\nimport { CONSTANTS } from \"../utils/constants\";\nimport { getMankindProductsApi } from \"@/api/mankindProductApi\";\nimport { useClientStore } from \"./ClientStoreContext\";\n\ninterface ProductContextProps {\n  products: ProductModelProps[];\n  addProduct: (product: ProductModelProps) => void;\n  removeProduct: (productId: string) => void;\n  getMankindProducts: () => void;\n  selectedProduct: ProductModelProps | null;\n  selectProduct: (product: ProductModelProps) => void;\n  isLoading: boolean;\n  error: string | null;\n}\n\nexport const MankindProductContext = createContext<ProductContextProps | undefined>(undefined);\n\nexport const useMankindProduct = () => {\n  const context = useContext(MankindProductContext);\n  if (!context) {\n    throw new Error(\"useMankindProduct must be used within a MankindProductProvider\");\n  }\n  return context;\n};\n\nexport const MankindProductProvider = ({ children }: { children: ReactNode }) => {\n  const [products, setProducts] = useState<ProductModelProps[]>([]);\n  const [selectedProduct, setSelectedProduct] = useState<ProductModelProps | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const {store} = useClientStore()\n  // useEffect(() => {\n  //   console.log(\"getMankindProducts()....\")\n  //   getMankindProducts(); // Initial load of products\n  // }, []);\n\n  const addProduct = (product: ProductModelProps) => {\n    setProducts((prevProducts) => [...prevProducts, product]);\n  };\n\n  const removeProduct = (productId: string) => {\n    setProducts((prevProducts) => prevProducts.filter(product => product.id !== productId));\n  };\n\n  const getMankindProducts = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const email = \"\"; // Replace with logic to get the current user's email\n      const response = await getMankindProductsApi(store?.id ?? \"\", email);\n      const fetchedProducts = response.data; // Extract the data from the  response\n      setProducts(fetchedProducts);\n    } catch (error) {\n      console.error(\"Failed to fetch mankind products:\", error);\n      setError(\"Failed to fetch products. Please try again later.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const selectProduct = (product: ProductModelProps) => {\n    setSelectedProduct(product);\n  };\n\n  return (\n    <MankindProductContext.Provider \n      value={{ \n        products, \n        addProduct, \n        removeProduct, \n        getMankindProducts, \n        selectedProduct, \n        selectProduct, \n        isLoading, \n        error \n      }}\n    >\n      {children}\n    </MankindProductContext.Provider>\n  );\n};\n","// import { MankindStoreModelProps } from '../models/MankindStoreModelProps';\nimport { StoreModelProps } from '@/models/StoreModelProps';\nimport { TOKEN_KEY } from '../contexts/AuthContext';\nimport { createFetchClient } from '../utils/createFetchClient';\nimport { BASE_URL } from '@/utils/api';\n\n// Setup the axios instance for mankindStore API\nconst mankindStoresApi = createFetchClient(\n  BASE_URL,\n  {\n    tableName: 'prof-website-mankindStore-table',\n    showFilteredItems: 'true',\n  },\n  {\n    'Content-Type': 'application/json',\n  }\n);\n\n\n// GET ALL \nexport async function getMankindStoresApi(storeID: string, email: string) {\n  try {\n    const response = await mankindStoresApi.get('/mankindStores', {\n      params: {\n        store_id: storeID,\n        email: email,\n      },\n      headers: {\n        Authentication: TOKEN_KEY,\n        'Content-Type': 'application/json',\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching mankindStores:', error);\n    throw error;\n  }\n}\n\n\n// GET SINGLE ITEM\nexport async function getMankindStoreApi(id: any) {\n  try {\n    const response = await mankindStoresApi.get(`/mankindStore`, {\n      params: { id },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching mankindStore:', error);\n    throw error;\n  }\n}\n\n\n// POST - Create / easy update\nexport const postMankindStoreApi = async (mankindStore: StoreModelProps, storeID: string, email: string, token: string) => {\n  return await mankindStoresApi.post(`/mankindStore`, mankindStore, {\n    params: { \n      store_id: storeID,\n      email: email,\n    },\n    headers: { \n      Authentication: token,\n      'Content-Type': 'application/json',\n    },\n  });\n};\n\n\n// UPDATE\nexport const updateMankindStoreApi = async (mankindStore: StoreModelProps) => {\n  return await mankindStoresApi.put(`/mankindStore?id=${mankindStore.id}`, mankindStore);\n};\n\n// DELETE\nexport const deleteMankindStoreApi = async (id: any) => {\n  return await mankindStoresApi.delete(`/mankindStore`, {\n    params: { id },\n  });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// // import { getUserCookie, getUserToken } from '../config/cookieUtils';\n// // import { API_ID, AWS_BASE_URL, BASE_URL } from '../utils/api';\n// import axios from 'axios';\n// import { StoreModelProps } from '../models/StoreModelProps';\n// import { BASE_URL } from '../utils/api';\n// import { CONSTANTS } from '../utils/constants';\n\n// // import { CONSTANTS } from '../utils/constants';\n\n// // const user = getUserCookie();\n// // const token = getUserToken();\n// const mankindStoresApi = axios.create({\n//   baseURL: BASE_URL,\n//   headers: {\n//     Authentication: \"token\",\n//       'Content-Type': 'application/json',\n//   },\n//   params: {\n//     id: CONSTANTS.store_id,\n//     tableName: 'prof-website-store-table', \n//     showFilteredItems: true\n\n//     // store_id: CONSTANTS.store_id,\n//     // email: \"\", // user?.email ?? \"\",\n//     // tableName: 'prof-website-mankindStore-table', \n//     // showFilteredItems: true\n//   },\n// });\n\n// export const getMankindStoreAttributesApi = async () => {\n//   const response = await mankindStoresApi.get('/stores');\n\n//   // Get the name of attributes in the API response\n//   const attributeNames = Object.keys(response.data[0]);\n\n//   return attributeNames;\n// };\n\n// // // -----------------\n// // // GET SINGLE ITEM\n// // // -----------------\n// // export const getStore = async (store: StoreModelProps) => {\n// //   const response = await storesApi.get(`/store?id=${store.id}`, {\n// //     params: {\n// //      // id: STORE_ID,\n// //       ...store // spread the properties of `store` into the params object\n// //     }\n// //   });\n// //   console.log(response);\n// //   return response.data as StoreModelProps;\n// // };\n\n\n\n\n\n// // -----------------\n// // GET SINGLE ITEM\n// // -----------------\n// export const getMankindStoreApi = async (id: any) => {\n//   console.log('Fetching Mankind store...');\n//   const response = await mankindStoresApi.get(`/store?id=${id}`);\n  \n//   const store = response.data;\n//   // console.log('Store:', response.data);\n//   // console.log('Store:', store);\n\n//   if (store === 'undefined' || !store) {\n//     return null;\n//   } else {\n//     return store;\n//   }\n// };\n\n\n\n// // export const getStore = async (): Promise<StoreProps | null> => {\n// //   try {\n// //     console.log('Fetching store...');\n// //     //   const response = await storesApi.get(`/store?id=${id}`);\n\n// //     const response = await storesApi.get(`/store`);\n// //     console.log('Store:', response.data);\n\n// //     const store: StoreProps = response.data;\n\n// //     if (!store) {\n// //       return null;\n// //     }\n\n// //     return store;\n// //   } catch (error) {\n// //     console.error('Error fetching store:', error);\n// //     return null;\n// //   }\n// // };\n\n\n// // -------------\n// // GET ITEMS\n// // -------------\n// export const getMankindStoresApi = async () => {\n//     const response = await mankindStoresApi.get('');\n//     return response.data as StoreModelProps[]; \n//   };\n  \n// // -------------\n// // POST\n// // -------------\n// export const postMankindStoreApi = async (store: StoreModelProps) => {\n//   return await mankindStoresApi.post('/store', store);\n// };\n\n// // -------------\n// // PATCH\n// // -------------\n// export const updateMankindStoreApi = async (store: any) => {\n//   return await mankindStoresApi.patch(`/store?id=${store.id}`, store);\n// };\n\n// // -------------\n// // DELETE\n// // -------------\n// export const deleteMankindStoreApi = async ({ id }: { id: any }) => {\n//   console.log(id);\n//   return await mankindStoresApi.delete(`/store?id=${id}`, id);\n//   // return await storesApi.delete(`/store/${id}`);\n//   // D_a_r_r_i_e_n H_u_n_t_l_e_y - o_w_n_e_r\n// };\n\n// export default mankindStoresApi;\n","import React, { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\nimport { useAuth } from \"./AuthContext\";\nimport { StoreModelProps } from \"../models/StoreModelProps\";\nimport { getMankindStoreApi } from \"@/api/mankindStoreApi\";\n\ninterface MankindStoreContextProps {\n  store: StoreModelProps | null;\n  addStore: (store: StoreModelProps) => void;\n  removeStore: (storeId: string) => void;\n  getMankindStore: () => void;\n  selectedStore: StoreModelProps | null;\n  selectStore: (store: StoreModelProps) => void;\n  isLoading: boolean;\n  error: string | null;\n}\n\nconst MankindStoreContext = createContext<MankindStoreContextProps | undefined>(undefined);\n\nexport const useMankindStore = () => {\n  const context = useContext(MankindStoreContext);\n  if (!context) {\n    throw new Error(\"useMankindStore must be used within a MankindStoreProvider\");\n  }\n  return context;\n};\n\nexport const MankindStoreProvider = ({ children }: { children: ReactNode }) => {\n  const { authState } = useAuth();\n  const [store, setStore] = useState<StoreModelProps | null>(null);\n  const [selectedStore, setSelectedStore] = useState<StoreModelProps | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // useEffect(() => {\n  //   if (authState?.token) {\n  //     getMankindStore(); // Initial load of the store\n  //   }\n  // }, [authState?.token]);\n\n  const addStore = (newStore: StoreModelProps) => {\n    setStore(newStore);\n  };\n\n  const removeStore = () => {\n    setStore(null);\n  };\n\n  const getMankindStore = async () => {\n   // if (!authState) return;\n\n    setIsLoading(true);\n    setError(null);\n    try {\n      const store_owner_id = authState?.user?.store_owner_id || '';\n      const response = await getMankindStoreApi(store_owner_id);\n     // const fetchedStore = response?.data ; // Assuming the API returns a single store object\n      setStore(response);\n    } catch (error: any) {\n      console.error(\"Failed to fetch mankind store:\", error.response?.data?.message || error.message);\n      setError(error.response?.data?.message || \"Failed to fetch store. Please try again later.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const selectStore = (store: StoreModelProps) => {\n    setSelectedStore(store);\n  };\n\n  return (\n    <MankindStoreContext.Provider \n      value={{ \n        store, \n        addStore, \n        removeStore, \n        getMankindStore, \n        selectedStore, \n        selectStore, \n        isLoading, \n        error \n      }}\n    >\n      {children}\n    </MankindStoreContext.Provider>\n  );\n};\n","import { CouponModelProps } from '../models/CouponModelProps';\nimport { TOKEN_KEY } from '../contexts/AuthContext';\nimport { createFetchClient } from '../utils/createFetchClient';\nimport { BASE_URL } from '@/utils/api';\nimport { CONSTANTS } from '@/utils/constants';\n\nconst couponTableName =  'prof-website-coupon-table'\n\n// Initialize the fetch client with the base URL and headers\nconst clientCouponsApi = createFetchClient(\n  BASE_URL, // Base URL includes the `/prod` part\n  {}, // No default parameters for now\n  { 'Content-Type': 'application/json' } // Default headers\n);\n\n// GET ALL STORES\nexport async function getClientCouponsApi(couponID: string, email: string) {\n  try {\n    const response = await clientCouponsApi.get('/coupons', {\n      params: {\n        coupon_id: couponID,\n        email: email,\n      },\n      headers: {\n        Authentication: TOKEN_KEY,\n        'Content-Type': 'application/json',\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error fetching coupons:', error);\n    throw error; // Re-throw error for handling\n  }\n}\n\n// GET SINGLE STORE\nexport async function getClientCouponApi(id: string) {\n  try {\n    const response = await clientCouponsApi.get('/coupon', {\n      params: {\n        id,\n        tableName: couponTableName,\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error fetching coupon:', error);\n    throw error; // Re-throw error for handling\n  }\n}\n\n// POST - CREATE OR UPDATE STORE\nexport const postClientCouponApi = async (coupon: CouponModelProps, couponID: string, email: string, token: string) => {\n  try {\n    const response = await clientCouponsApi.post('/coupon', coupon, {\n      params: {\n        coupon_id: couponID,\n        email: email,\n      },\n      headers: {\n        Authentication: token,\n        'Content-Type': 'application/json',\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error posting coupon:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n// PUT - UPDATE STORE\nexport const updateClientCouponApi = async (coupon: CouponModelProps) => {\n  try {\n    const response = await clientCouponsApi.put(`/coupon?id=${coupon.id}`, coupon);\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error updating coupon:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n// DELETE STORE\nexport const deleteClientCouponApi = async (id: string) => {\n  try {\n    const response = await clientCouponsApi.delete('/coupon', {\n      params: { id },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error deleting coupon:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n","import { InboxModelProps } from '../models/InboxModelProps';\nimport { TOKEN_KEY } from '../contexts/AuthContext';\nimport { createFetchClient } from '../utils/createFetchClient';\nimport { BASE_URL } from '@/utils/api';\nimport { CONSTANTS } from '@/utils/constants';\n\nconst inboxTableName =  'prof-website-inbox-table'\n\n// Initialize the fetch client with the base URL and headers\nconst clientInboxsApi = createFetchClient(\n  BASE_URL, // Base URL includes the `/prod` part\n  {}, // No default parameters for now\n  { 'Content-Type': 'application/json' } // Default headers\n);\n\n// GET ALL STORES\nexport async function getClientInboxsApi(inboxID: string, email: string) {\n  try {\n    const response = await clientInboxsApi.get('/inboxs', {\n      params: {\n        inbox_id: inboxID,\n        email: email,\n      },\n      headers: {\n        Authentication: TOKEN_KEY,\n        'Content-Type': 'application/json',\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error fetching inboxs:', error);\n    throw error; // Re-throw error for handling\n  }\n}\n\n// GET SINGLE STORE\nexport async function getClientInboxApi(id: string) {\n  try {\n    const response = await clientInboxsApi.get('/inbox', {\n      params: {\n        id,\n        tableName: inboxTableName,\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error fetching inbox:', error);\n    throw error; // Re-throw error for handling\n  }\n}\n\n// POST - CREATE OR UPDATE STORE\nexport const postClientInboxApi = async (inbox: InboxModelProps, inboxID: string, email: string, token: string) => {\n  try {\n    const response = await clientInboxsApi.post('/inbox', inbox, {\n      params: {\n        inbox_id: inboxID,\n        email: email,\n      },\n      headers: {\n        Authentication: token,\n        'Content-Type': 'application/json',\n      },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error posting inbox:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n// PUT - UPDATE STORE\nexport const updateClientInboxApi = async (inbox: InboxModelProps) => {\n  try {\n    const response = await clientInboxsApi.put(`/inbox?id=${inbox.id}`, inbox);\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error updating inbox:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n\n// DELETE STORE\nexport const deleteClientInboxApi = async (id: string) => {\n  try {\n    const response = await clientInboxsApi.delete('/inbox', {\n      params: { id },\n    });\n    return response; // Return the server response\n  } catch (error) {\n    console.error('Error deleting inbox:', error);\n    throw error; // Re-throw error for handling\n  }\n};\n","import { Link } from 'expo-router';\nimport * as WebBrowser from 'expo-web-browser';\nimport React from 'react';\nimport { Platform } from 'react-native';\n\nexport function ExternalLink(\n  props: Omit<React.ComponentProps<typeof Link>, 'href'> & { href: string }\n) {\n  return (\n    <Link\n      target=\"_blank\"\n      {...props}\n      href={props.href as never}\n      onPress={(e) => {\n        if (Platform.OS !== 'web') {\n          // Prevent the default behavior of linking to the default browser on native.\n          e.preventDefault();\n          // Open the link in an in-app browser.\n          WebBrowser.openBrowserAsync(props.href as string);\n        }\n      }}\n    />\n  );\n}\n","export const formatPhoneNumber = (phoneNumberString: string) => {\n    // Remove all non-digit characters from the phone number string\n    const cleanedPhoneNumber = phoneNumberString.replace(/\\D/g, '');\n    \n    // Check if the phone number has 11 digits (including the country code)\n    const isElevenDigits = cleanedPhoneNumber.length === 11;\n\n    // Format the phone number based on the number of digits\n    let formattedPhoneNumber;\n    if (isElevenDigits) {\n        // For 11-digit phone numbers, include the country code\n        formattedPhoneNumber = cleanedPhoneNumber.replace(/(\\d{1})(\\d{3})(\\d{3})(\\d{4})/, '+$1 ($2) $3-$4');\n    } else {\n        // For other phone numbers, format into groups of 3 digits separated by hyphens\n        formattedPhoneNumber = cleanedPhoneNumber.replace(/(\\d{3})(\\d{3})(\\d{4})/, '($1) $2-$3');\n    }\n    \n    return formattedPhoneNumber;\n};","// This function is web-only as native doesn't currently support server (or build-time) rendering.\nexport function useClientOnlyValue<S, C>(server: S, client: C): S | C {\n  return client;\n}\n","import { FullAddress, OrderHistory, OrderItem, OrderModelProps, Parcel } from \"@/models/OrderModelProps\";\nimport { ProductModelProps } from \"@/models/ProductModelProps\";\n\n\nexport const SAMPLE_ORDER_ITEMS: OrderItem[] = [\n  {\n    id: \"item123\",\n    quantity: 2,\n    sku: \"SKU12345\",\n    title: \"Sample Product 1\",\n    color: \"Red\",\n    productId: \"prod123\",\n    size: \"Medium\",\n    image: \"https://example.com/sample-product-1.jpg\",\n    total_price: 399.98,\n    length: \"10\",\n    width: \"5\",\n    height: \"3\",\n    weight: \"1.2\",\n    weight_unit: \"kg\",\n    distance_unit: \"cm\",\n    description: \"This is a sample product item for a larger order.\",\n    net_weight: \"1.1\",\n    value_amount: 200.00,\n    value_currency: \"USD\",\n    origin_country: \"USA\",\n    eccn_ear99: \"EAR99\",\n  },\n  {\n    id: \"item124\",\n    quantity: 1,\n    sku: \"SKU54321\",\n    title: \"Advanced Gadget\",\n    color: \"Silver\",\n    productId: \"prod124\",\n    size: \"Large\",\n    image: \"https://example.com/advanced-gadget.jpg\",\n    total_price: 299.99,\n    length: \"15\",\n    width: \"8\",\n    height: \"5\",\n    weight: \"2.0\",\n    weight_unit: \"kg\",\n    distance_unit: \"cm\",\n    description: \"An advanced gadget with cutting-edge technology.\",\n    net_weight: \"1.9\",\n    value_amount: 299.99,\n    value_currency: \"USD\",\n    origin_country: \"China\",\n    eccn_ear99: \"EAR99\",\n  },\n  {\n    id: \"item125\",\n    quantity: 3,\n    sku: \"SKU67890\",\n    title: \"Basic Accessory\",\n    color: \"Black\",\n    productId: \"prod125\",\n    size: \"One Size\",\n    image: \"https://example.com/basic-accessory.jpg\",\n    total_price: 89.97,\n    length: \"7\",\n    width: \"4\",\n    height: \"2\",\n    weight: \"0.5\",\n    weight_unit: \"kg\",\n    distance_unit: \"cm\",\n    description: \"A basic accessory to complement your gadgets.\",\n    net_weight: \"0.45\",\n    value_amount: 29.99,\n    value_currency: \"USD\",\n    origin_country: \"Germany\",\n    eccn_ear99: \"EAR99\",\n  },\n];\n\n\nexport const SAMPLE_ORDER_HISTORY: OrderHistory = {\n  id: \"history_12345\",\n  title: \"Order History for Order #12345\",\n  orderPlaced: true,\n  orderEmailSent: true,\n  orderPaymentReceived: true,\n  inventoryCheck: \"Inventory checked and verified\",\n  orderProcessed: true,\n  orderPackaged: true,\n  orderShippingLabelGenerated: true,\n  orderShipped: true,\n  shippedDate: \"2024-08-18T10:00:00Z\",\n  trackingNumber: \"TRACK123456789\",\n  deliveryConfirmed: false,\n  orderDeliveryDate: \"\",\n  orderReturned: false,\n  orderReturnLabelGenerated: false,\n  status: \"Shipped\",\n  note: \"Shipment is on its way to the customer.\",\n};\n\nexport const SAMPLE_FULL_ADDRESS: FullAddress = {\n  name: \"John Doe\",\n  streetOne: \"123 Main St\",\n  streetTwo: \"Apt 4B\",\n  city: \"New York\",\n  state: \"NY\",\n  zip: \"10001\",\n  country: \"USA\",\n  phone: \"+1 555-555-5555\",\n  email: \"johndoe@example.com\",\n  is_residential: true,\n};\n\nexport const SAMPLE_PARCEL: Parcel = {\n  length: \"10\",\n  width: \"5\",\n  height: \"8\",\n  distance_unit: \"in\", // Assuming inches for the distance unit\n  weight: \"2.5\",\n  mass_unit: \"lb\", // Assuming pounds for the mass unit\n  value_amount: 100, // Assuming a value of 100 currency units\n  metadata: \"Sample parcel metadata\",\n  test: false,\n};\n\nexport const SAMPLE_ORDER: OrderModelProps = {\n  id: \"order_12345\",\n  stripe_id: \"stripe_12345\",\n  store_id: \"store_123\",\n  index: 1,\n  order_status: \"Processing\",\n  items: SAMPLE_ORDER_ITEMS,\n  userId: \"user_123\",\n  order_history: [SAMPLE_ORDER_HISTORY],\n  total: 50.0,\n  net_total: 45.0,\n  courier: \"UPS\",\n  shipping_label: \"http://example.com/shipping-label.pdf\",\n  return_label: \"http://example.com/return-label.pdf\",\n  from_address: SAMPLE_FULL_ADDRESS,\n  to_address: SAMPLE_FULL_ADDRESS,\n  parcel: SAMPLE_PARCEL,\n  title: \"Order #12345\",\n  type: \"Standard\",\n  coupon_code: \"DISCOUNT10\",\n  referred_by: \"user_456\",\n  statement_descriptor: \"Sample Order\",\n  note: \"Please handle with care.\",\n  budget: \"50.0\",\n  order_placed_date: \"2024-08-17T08:00:00Z\",\n  order_started_date: \"2024-08-18T08:00:00Z\",\n  order_created_date: \"2024-08-17T08:00:00Z\",\n  order_completed_date: \"2024-08-19T08:00:00Z\",\n  tax: 5.0,\n  stripe_fee: 2.5,\n  afm_fee: 1.5,\n  shipping_cost: 10.0,\n  discount_amount: 5.0,\n};","import { ProductModelProps } from \"@/models/ProductModelProps\";\n\n\nexport  const SAMPLE_PRODUCT: ProductModelProps[] = [\n    {\n      id: \"prod123\",\n      name: \"Sample Product\",\n      price: 199.99,\n      store_id: \"store456\",\n      index: 1,\n      createdOn: \"2024-08-16T12:00:00.000Z\",\n      active: true,\n      image: \"https://example.com/sample-product.jpg\",\n      on_sale: true,\n      sale_price: 149.99,\n      slug: \"sample-product\",\n      quantity: 100,\n      description: \"This is a sample product description that highlights key features and benefits of the product.\",\n      icon_name: \"sample-icon\",\n      category: \"Electronics\",\n      images: [\n        \"https://example.com/sample-product-1.jpg\",\n        \"https://example.com/sample-product-2.jpg\",\n      ],\n      included: [\"Charging cable\", \"User manual\"],\n      materials: [\"Plastic\", \"Metal\"],\n      tags: [\"electronics\", \"gadget\", \"sale\"],\n      brand: \"SampleBrand\",\n      views: 1234,\n      likes: 150,\n      isLiked: true,\n      gender: \"Unisex\",\n      color: \"Black\",\n      color_code: \"#000000\",\n      condition: \"New\",\n      features: [\"Feature 1\", \"Feature 2\", \"Feature 3\"],\n      sku: \"SKU12345\",\n      variant_type: true,\n      variant_selected: {},\n      variants: [\n        {\n          id: \"variant1\",\n          title: \"Sample Variant 1\",\n          image: \"https://example.com/sample-variant1.jpg\",\n          color_code: \"#FF0000\",\n          price: 199.99,\n          sale_price: 149.99,\n          description: \"This is a description for the first variant.\",\n          features: [\"Feature A\", \"Feature B\"],\n          inventory: 50,\n          value_price: 149.99,\n          product_id: \"prod123\",\n          variantInfo: [\n            {\n              title: \"Size\",\n              description: \"Size description\",\n              price: 149.99,\n              sale_price: 129.99,\n              inventory: 20,\n            },\n          ],\n        },\n        {\n          id: \"variant2\",\n          title: \"Sample Variant 2\",\n          image: \"https://example.com/sample-variant2.jpg\",\n          color_code: \"#00FF00\",\n          price: 209.99,\n          sale_price: 169.99,\n          description: \"This is a description for the second variant.\",\n          features: [\"Feature X\", \"Feature Y\"],\n          inventory: 30,\n          value_price: 169.99,\n          product_id: \"prod123\",\n          variantInfo: [\n            {\n              title: \"Color\",\n              description: \"Color description\",\n              price: 169.99,\n              sale_price: 149.99,\n              inventory: 15,\n            },\n          ],\n        },\n      ],\n      last_updated: \"2024-08-16T15:00:00.000Z\",\n      item_type: \"physical\",\n      ingredients: [],\n      inventory: 100,\n      reviews: [\n        {\n          userName: \"John Doe\",\n          title: \"Great product!\",\n          comment: \"I really enjoyed using this product. Highly recommend it!\",\n        },\n        {\n          userName: \"Jane Smith\",\n          title: \"Good value for money\",\n          comment: \"This product offers great value for the price.\",\n        },\n      ],\n      rating: [5, 4, 4, 5],\n      size: \"Medium\",\n      sizes: [\"Small\", \"Medium\", \"Large\"],\n      weight: 1.5,\n      year_made: 2023,\n    }\n  \n  ]\n    \n ","import {ProductCardV2} from \"@/components/card/product/ProductCardV2\";\nimport ProductDetailsPageVTwo from \"@/pages/tabs/product-details/ProductDetailsPageVTwo\";\n// prof-website-slice-table\n\n\n// Pages are made up a combination of slices\nexport const PAGES  = {\n    onboarding_Page: [ \"ProductDetailsPageVTwo\" ],\n    login_Page: [ \"ProductDetailsPageVTwo\" ],\n    register_Page: [ \"ProductDetailsPageVTwo\" ],\n    products_Page:[ \"ProductDetailsPageVTwo\" ],\n    product_details_page: [ \"ProductDetailsPageVTwo\" ]\n\n\n}","import * as SecureStore from \"expo-secure-store\";\n\n// Securely save a value with a specified key\nexport const saveToSecureStore = async (key: string, value: string) => {\n  try {\n    await SecureStore.setItemAsync(key, value);\n  } catch (error) {\n    console.error('Error saving to SecureStore', error);\n  }\n};\n\nexport const getFromSecureStore = async (key: string) => {\n  try {\n    const value = await SecureStore.getItemAsync(key);\n    if (value) {\n      console.log('Retrieved value:', value);\n    }\n  } catch (error) {\n    console.error('Error getting from SecureStore', error);\n  }\n};\n"],"names":["CartContext","createContext","undefined","useCart","context","useContext","Error","CartProvider","children","storage","storageKey","carts","setCarts","useState","totalSum","setTotalSum","totalShipping","setTotalShipping","quantity","setQuantity","totalTax","grandTotal","useEffect","async","storedCarts","getItem","parsedCarts","JSON","parse","calculateTotalSum","reduce","sum","item","error","console","loadCarts","length","setItem","stringify","saveCarts","total","price","value","addToCart","updatedCarts","itemExistIndex","findIndex","cart","id","prev","decreaseFromCart","splice","deleteItemFromCart","filter","clearData","removeItem","_jsx","Provider","ThemeContext","useTheme","ThemeProvider","storeTheme","systemColorScheme","useColorScheme","theme","setThemeState","isDarkMode","setIsDarkMode","storedTheme","loadStoredTheme","newTheme","saveTheme","currentTheme","DarkTheme","colors","dark","DefaultTheme","light","setTheme","NavigationThemeProvider","CartIcon","styles","StyleSheet","create","cartButton","alignItems","marginRight","cartCount","position","bottom","left","width","height","borderRadius","backgroundColor","primary","justifyContent","zIndex","cartNumber","fontFamily","fontWeight","fontSize","color","title","_jsxs","TouchableOpacity","style","onPress","router","push","FontAwesome","name","size","View","Text","HomeLayoutContent","backButton","marginLeft","Stack","Screen","options","headerShown","headerRight","AuthLayoutContent","screenOptions","presentation","BannerVOne","log","createStyles","container","bannerSection","bannerTitle","bannerSubtitle","flexDirection","editPreferences","Ionicons","arrow","padding","background","marginBottom","subtitle","marginTop","MyButton","buttonStyle","textStyle","button","text","Dimensions","get","COLORS","tint","tabIconDefault","tabIconSelected","cardBackground","cardText","cardSecondaryText","cardPrice","cardBorder","secondary","tertiary","darkGray","green","forestGreen","lightGray","gray","gray2","gray3","offwhite","white","black","blue","red","orange","lightWhite","backgroundLight","backgroundMedium","backgroundDark","SIZES","xSmall","small","medium","large","xLarge","xxLarge","SHADOWS","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","CURRENCY_FORMATTER","Intl","NumberFormat","currency","convertToCurrency","number","format","CONSTANTS","appName","holderImageWelcome","holderImageProductCard","holderImageCollectionCard","holderImageOrderCard","holderUserImage","holderCarouselImageOne","holderCarouselImageTwo","holderCarouselImageThree","holderImage","merchant_id","publishableKeyLive","publishableKeyTest","OrderCrudCard","navigation","useNavigation","navigate","image","Image","source","uri","orderImg","textContainer","orderTitle","supplier","flex","alignContent","resizeMode","marginHorizontal","VERSION","STORE_TYPE","ecom","blog","subscription","appointment","API_ID","BASE_URL","AWS_BASE_IMAGE","process","env","VITE_S3_ASSET_BUCKET_NAME","AWS_HOLDER_IMAGE","AWS_BASE_URL","AWS_BASE_URL_2","VITE_API_ID_2","VITE_REGION","AWS_VERIFY","VITE_API_ID","AWS_LOGIN_URL","AWS_ORDERS_URL","AWS_SUBSCRIBER_URL","createFetchClient","baseURL","defaultParams","defaultHeaders","fetchClient","endpoint","normalizedBaseURL","includes","normalizedEndpoint","startsWith","url","URL","params","URLSearchParams","Object","entries","forEach","key","append","String","search","toString","headers","Headers","body","response","fetch","ok","errorData","json","catch","status","method","post","patch","put","delete","getAuthToken","token","SecureStore","getItemAsync","TOKEN_KEY","authApi","tableName","showFilteredItems","verify","user","Authorization","login","email","password","getUsersApi","getClientUsersApi","storeID","store_id","updateUserApi","userEmail","updateKey","updateValue","deleteUserApi","USER_KEY","AUTHENTICATED_KEY","AuthContext","useAuth","AuthProvider","authState","setAuthState","authenticated","loading","setLoading","userString","loadUserData","onRegister","useCallback","userData","data","msg","onLogin","result","setItemAsync","onLogout","deleteItemAsync","AsyncStorage","updateSingleUserItem","updatedUser","prevState","addToFavorites","itemId","updatedFavorites","favoriteItems","removeFromFavorites","fav","isFavorite","clientOrdersApi","getClientOrdersApi","orderID","order_id","Authentication","getClientOrderApi","postClientOrderApi","order","updateClientOrderApi","deleteClientOrderApi","ClientOrderContext","useClientOrder","ClientOrderProvider","orders","setOrders","selectedOrder","setSelectedOrder","isLoading","setIsLoading","setError","updateOrder","prevOrders","map","o","message","addOrder","store_owner_id","removeOrder","orderId","getClientOrders","fetchedOrders","selectOrder","ClientOrderCard","setStatus","order_status","Link","href","asChild","card","icon","details","to_address","date","order_placed_date","statusContainer","getStatusStyle","fulfillOrderStatus","markAsShippedStatus","shippedStatus","defaultStatus","paddingRight","paddingVertical","paddingHorizontal","createFetchClientForItems","fetchClientForItems","fromEntries","Array","isArray","productTableName","clientProductApi","clientProductsApi","getClientProductsApi","getClientProductApi","postClientProductApi","product","productID","product_id","updateClientProductApi","deleteClientProductApi","ClientProductContext","useClientProduct","ClientProductProvider","setProduct","products","setProducts","selectedProduct","setSelectedProduct","addProduct","newProduct","removeProduct","selectProduct","getClientProduct","product_owner_id","getClientProducts","validProducts","ProductCardV2","imageContainer","numberOfLines","color_code","addBtn","marginEnd","overflow","aspectRatio","right","ProductGridCardVOne","viewTypeGrid","isPressed","setIsPressed","isAdded","setIsAdded","margin","borderWidth","borderColor","border","images","item_type","MotiView","from","rotate","animate","transition","type","duration","setTimeout","ProductHScrollCardVOne","ProductCrudCard","productImg","productTitle","DeleteSectionView","deleteContainer","deleteLabel","deleteDescription","deleteButton","deleteButtonText","header","textAlign","Divider","divider","ExternalLink","props","target","e","Platform","OS","preventDefault","WebBrowser","openBrowserAsync","useThemeColor","colorName","colorFromProps","lightColor","darkColor","otherProps","DefaultText","DefaultView","MonoText","EditScreenInfo","path","getStartedContainer","getStartedText","codeHighlightContainer","homeScreenFilename","helpContainer","helpLink","helpLinkText","marginVertical","lineHeight","ProductListItem","Pressable","TextFieldVOne","label","secureTextEntry","editable","isPasswordVisible","setIsPasswordVisible","content","passwordContainer","input","iconContainer","paddingLeft","TextInput","generalStyles","center","stripeConverter","amountInCents","paymentApi","stripe_id","getpayment","createPaymentIntent","paymentJsonProps","showStripeHostedPage","priceID","clientStoresApi","getClientStoresApi","getClientStoreApi","postClientStoreApi","store","updateClientStoreApi","deleteClientStoreApi","ClientStoreContext","useClientStore","ClientStoreProvider","setStore","selectedStore","setSelectedStore","getClientStore","addStore","newStore","removeStore","selectStore","PaymentPayScreen","ready","setReady","clientSecret","setClientSecret","isPlatformPaySupported","confirmPlatformPayPayment","usePlatformPay","setup","Alert","alert","paymentData","amount","shipping_fee","shippingAmount","app_name","store_name","StripeProvider","publishableKey","merchantIdentifier","PlatformPayButton","applePay","cartItems","paymentType","PlatformPay","PaymentType","Immediate","merchantCountryCode","currencyCode","googlePay","testEnv","merchantName","billingAddressConfig","BillingAddressFormat","Full","isPhoneNumberRequired","isRequired","disabled","payButton","tintColor","buttons","CartCard","img","cardContent","circleSizeContainer","circle","sizeCircle","sizeText","rating","top","ratingText","SimpleLineIcons","CartPageVOne","triggerValueChange","setTriggerValueChange","priceContainer","priceAndTitle","_Fragment","FlatList","showsVerticalScrollIndicator","keyExtractor","contentContainerStyle","paddingBottom","renderItem","paddingTop","collectionTableName","clientCollectionApi","clientCollectionsApi","getClientCollectionsApi","getClientCollectionApi","postClientCollectionApi","collection","collectionID","collection_id","updateClientCollectionApi","deleteClientCollectionApi","ClientCollectionContext","useClientCollection","ClientCollectionProvider","setCollection","collections","setCollections","selectedCollection","setSelectedCollection","addCollection","newCollection","removeCollection","selectCollection","getClientCollection","collection_owner_id","getClientCollections","validCollections","CollectionPageVTwo","allCollection","user_id","index","timestamp","Date","toISOString","description","caption","likes","isliked","onSale","relatedProductIds","tags","active","collectionsWithAll","filteredProducts","categoryList","maxHeight","categoryContainer","categoryButton","buttonText","selectedCollectionButton","categoryText","selectedCollectionText","promoContainer","promoImage","promoTextContainer","promoTitle","promoSubtitle","promoDiscount","productListContainer","productContainer","productCard","productImage","productPrice","productName","emptyMessage","horizontal","showsHorizontalScrollIndicator","welcome_image","numColumns","handleProductSelect","ListEmptyComponent","generateUUID","idLength","characters","i","charAt","Math","floor","random","UserLoginTextFields","setEmail","setPassword","showPassword","setShowPassword","showAlert","inputContainer","placeholder","onChangeText","keyboardType","autoCapitalize","autoComplete","forgotPasswordText","loginButton","replace","navError","loginButtonText","logo","welcomeText","descriptionText","tabContainer","tab","activeTab","borderBottomWidth","borderBottomColor","tabText","activeTabText","alignSelf","signupButton","termsText","checkboxContainer","passwordCriteria","UserRegisterTextFields","setName","confirmedpassword","setConfirmedPassword","showConfirmPassword","setShowConfirmPassword","store_ids","onboardingQ1","onboardingQ2","onboardingQ3","onboardingQ4","affiliate_link","role","birthday","todo_completed","username","phone_number","gender","profile_image","address_city","address_state","location_history","current_notification","notifications","payment_due","payment_due_date","payment_due_day","payment_monthly_amount","device_id","device_os_version","device_model","device_ip_address","device_battery_level","device_battery_statue","device_network_connectio_type","loyalty_date","payment_history_total","subscription_id","paid_subscriber","newsletter_subscriber","notification_subscriber","left_review","review_stars","reviews","testimonials","notify_arn","owner_notify_arn","loginAction","LoginComponentTwo","activeTabIsLogin","setActiveTabIsLogin","FavoriteContext","useFavorite","FavoriteProvider","favorites","setFavorites","storedFavorites","parsedFavorites","loadFavorites","saveFavorites","addToFavorite","favorite","decreaseFromFavorite","deleteItemFromFavorite","ProductDetailsPageVThree","selectedSize","setSelectedSize","setIsFavorite","some","scrollContainer","heartIconWrapper","imageCarousel","productInfo","pageText","productColor","priceDescription","sizeLabel","sizeSelector","sizeOption","selectedSizeOption","selectedSizeText","fixedBottomButtonContainer","addToCartButton","buttonBackground","addToCartButtonText","currentFavorites","ScrollView","pagingEnabled","imageUri","showSize","partialProduct","ProductDetails","translateY","modalContent","borderTopLeftRadius","borderTopRightRadius","RegisterComponentTwo","SettingsPage","upperSection","section","sectionTitle","option","FontAwesome5","optionText","logoutButton","logoutText","LoginComponentOne","imgContainer","form","Button","gap","WelcomePageTwo","modalVisible","setModalVisible","StatusBar","barStyle","translucent","ImageBackground","backgroundImage","overlay","logoText","tagline","buttonContainer","buttonPrimary","buttonPrimaryText","buttonSecondary","buttonSecondaryText","Modal","animationType","transparent","visible","onRequestClose","modalContainer","closeButton","loadingContainer","noImageContainer","noImageText","TermsOfUsePage","storeName","paragraph","subheading","list","listItem","heading","PrivacyPolicyPage","CookiesPage","mode","AppearanceSelection","optionsContainer","selectedOption","handleSelection","optionContent","preview","selectedPreview","previewText","optionLabel","checkIcon","FAQPage","FavoriteCard","FavoritesPageVOne","CollectionProductSearchScreen","searchTerm","setSearchTerm","searchResults","setSearchResults","selectedProductId","setSelectedProductId","handleSearch","results","toLowerCase","SafeAreaView","searchContainer","searchIcon","searchWrapper","searchInput","searchBtn","Feather","gridLayout","selected","columnWrapperStyle","row","SearchBarVTwo","placeholderTextColor","ProductSearchScreen","flatListContent","TopSectionHeaderV1","line1","line2","line3","welcomeTxtStyle","Carousel","animatedValue","useRef","Animated","Value","current","mankindStore","storeImages","about_object_image","doubleImageHero_left_image","topContainer","onScroll","event","nativeEvent","contentOffset","x","useNativeDriver","_","bottomContainer","inputRange","dotScale","interpolate","outputRange","extrapolate","dotContainer","borderStartColor","PagingDot","scale","pagingDot","transform","ROUTES","onboarding_Page","register","SectionHeader","headerTitle","store_type","SearchBarVOne","searchSection","filterSection","filterIcon","talentCount","ProductRow","ActivityIndicator","errorContainer","errorText","columnGap","HomeDesignOne","client","appBarWrapper","appBar","location","SearchBarVOneButton","useRouter","TopHomeSeaction","isMenuVisible","setIsMenuVisible","productId","find","headerText","menuIcon","titleContainer","mainTitle","subTitle","productList","productItem","shopNowButton","buttonShadow","shopNowButtonText","letterSpacing","textTransform","opacity","delay","product_1_Id","product_1_Name","product_2_Id","product_2_Name","product_3_Id","product_3_Name","product_4_Id","product_4_Name","translateX","HomeDesignTwo","profileImage","healthTip","fontStyle","productsApi","getMankindProductsApi","getMankindProductApi","postMankindProductApi","updateMankindProductApi","deleteMankindProductApi","MankindProductContext","useMankindProduct","MankindProductProvider","prevProducts","getMankindProducts","fetchedProducts","mankindStoresApi","getMankindStoresApi","getMankindStoreApi","postMankindStoreApi","updateMankindStoreApi","deleteMankindStoreApi","MankindStoreContext","useMankindStore","MankindStoreProvider","getMankindStore","clientCouponsApi","getClientCouponsApi","couponID","coupon_id","getClientCouponApi","postClientCouponApi","coupon","updateClientCouponApi","deleteClientCouponApi","clientInboxsApi","getClientInboxsApi","inboxID","inbox_id","getClientInboxApi","postClientInboxApi","inbox","updateClientInboxApi","deleteClientInboxApi","formatPhoneNumber","phoneNumberString","cleanedPhoneNumber","formattedPhoneNumber","useClientOnlyValue","server","SAMPLE_ORDER_ITEMS","sku","total_price","weight","weight_unit","distance_unit","net_weight","value_amount","value_currency","origin_country","eccn_ear99","SAMPLE_ORDER_HISTORY","orderPlaced","orderEmailSent","orderPaymentReceived","inventoryCheck","orderProcessed","orderPackaged","orderShippingLabelGenerated","orderShipped","shippedDate","trackingNumber","deliveryConfirmed","orderDeliveryDate","orderReturned","orderReturnLabelGenerated","note","SAMPLE_FULL_ADDRESS","streetOne","streetTwo","city","state","zip","country","phone","is_residential","SAMPLE_PARCEL","mass_unit","metadata","test","SAMPLE_ORDER","items","userId","order_history","net_total","courier","shipping_label","return_label","from_address","parcel","coupon_code","referred_by","statement_descriptor","budget","order_started_date","order_created_date","order_completed_date","tax","stripe_fee","afm_fee","shipping_cost","discount_amount","SAMPLE_PRODUCT","createdOn","on_sale","sale_price","slug","icon_name","category","included","materials","brand","views","isLiked","condition","features","variant_type","variant_selected","variants","inventory","value_price","variantInfo","last_updated","ingredients","userName","comment","sizes","year_made","PAGES","login_Page","register_Page","products_Page","product_details_page","saveToSecureStore","getFromSecureStore"],"mappings":"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"}